{"version":3,"sources":["webpack:///./app/javascript/miq-component/react-history.ts","webpack:///./app/javascript/miq-component/react-blueprint.tsx","webpack:///./app/javascript/react/componentRegistry.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js","webpack:///./app/javascript/miq-redux/redux-router-actions.js","webpack:///./app/javascript/miq-redux/middleware.js","webpack:///./app/javascript/miq-redux/reducer.js","webpack:///./app/javascript/miq-redux/store.js","webpack:///./app/javascript/miq-redux/index.js","webpack:///./app/javascript/miq-component/helpers.js","webpack:///./app/javascript/react/mounter.js","webpack:///./app/javascript/packs/application-common.js","webpack:///./node_modules/process/browser.js","webpack:///./app/javascript/miq-component/utils.ts","webpack:///./app/javascript/miq-component/registry.ts"],"names":["__webpack_require__","r","__webpack_exports__","d","history","history__WEBPACK_IMPORTED_MODULE_0__","Object","ReactElement","mapPropsToInteract","render","props","container","react_dom__WEBPACK_IMPORTED_MODULE_1___default","a","react__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_2__","store","ManageIQ","redux","__assign","create","mountTo","interact","elementId","id","update","newProps","mountedTo","destroy","instance","unmountFrom","unmountComponentAtNode","component","componentRegistry","registry","register","_ref","_ref$name","name","undefined","_ref$type","type","_ref$store","_ref$data","data","Error","this","registerMultiple","componentObjs","_this","_forEach2","default","obj","getComponent","registeredComponents","_map2","value","key","join","markup","currentComponent","ComponentName","_react2","createElement","g","Function","eval","e","window","_typeof","module","exports","webpackPolyfill","deprecate","paths","children","defineProperty","enumerable","get","l","i","_connectedReactRouter","dispatch","push","where","replace","go","howMany","goBack","goForward","routerMiddleware","thunk","_reduxPromiseMiddleware2","_redux","rootReducer","state","_ref$asyncReducers","asyncReducers","connectRouter","combineReducers","_extends","_reactHistory","initialState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","_reducer2","applyMiddleware","_middleware2","injectReducers","reducers","replaceReducer","addReact","define","_reactBlueprint2","componentFactory","blueprintName","selector","isDefined","element","document","querySelector","allProps","dataset","newInstance","getReact","getDefinition","blueprint","cleanVirtualDom","getComponentNames","forEach","getComponentInstances","getElementById","mount","arguments","length","reactNode","ReactDOM","console","log","_mounter","_http_api","newRegistry","helpers","_miq_observable","_miqRedux","_spin","react","reactBlueprint","initializeStore","addReducer","_reduxRouterActions2","angular","rxSubject","sendDataWithRx","listenToRx","API","vanillaJsAPI","http","require","Spinner","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","call","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","Array","prototype","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","writeProxy","object","onWrite","Proxy","set","target","prop","sanitizeAndFreezeInstanceId","validateInstance","registry_newInstance","getInstance","clearRegistry","Map","from","keys","find","definition","size","existingInstance","instances","newDefinition","Set","isArray","filter","add","initialProps","newPropsForUpdate","actualProps","assign","handlePropUpdate","configurable","delete","descriptors","propName","defineProperties","lockInstanceProperties","map","values","clear"],"mappings":"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","file":"manageiq-ui-classic/application-common-134d351be05ddf40b2e0.js","sourcesContent":["import { createHashHistory } from 'history';\n\nexport const history : {} = createHashHistory();\n\n/** \n * creates a history for client-side browsing\n * currently is used with redux to create redux controlled hash router\n * router documentations:\n * - connected-router: https://github.com/supasate/connected-react-router\n * - react-router: https://github.com/ReactTraining/react-router\n * \n * to use some react component with redux routing:\n * ... * \n * import { ConnectedRouter } from 'connected-react-router';\n * import history from 'manageiq-ui-classic/app/javascript/miq-component/react-history';\n * ...\n * \n * Somewhere in render method:\n * ...\n * <ConnectedRouter history={history}>\n * {Normal react router children}\n * </ConnectedRouter />\n * ...\n */\n","import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport {\n  ComponentProps,\n  BasicComponentInstance,\n  ManagedComponentInstance,\n  ComponentBlueprint\n} from '../miq-component/component-typings'\n\n// TODO(vs) importing from @types/react and @types/react-dom causes TypeScript\n// compiler to generate tons of errors, updating TypeScript related dependencies\n// should fix the problem\n\nexport default (\n  ReactElement: (props: ComponentProps) => any,\n  mapPropsToInteract: (props: ComponentProps) => any = () => undefined\n): ComponentBlueprint => {\n  function render(props: ComponentProps, container: HTMLElement) {\n    ReactDOM.render(\n      <Provider store={ManageIQ.redux.store}>\n        <ReactElement {...props} />\n      </Provider>,\n      container\n    );\n  }\n\n  return {\n    create(props, mountTo) {\n      render(props, mountTo);\n      return { interact: mapPropsToInteract(props), elementId: mountTo.id };\n    },\n\n    update(newProps, mountedTo) {\n      render(newProps, mountedTo);\n    },\n\n    destroy(instance, unmountFrom) {\n      ReactDOM.unmountComponentAtNode(unmountFrom);\n    },\n\n    component: ReactElement,\n  };\n}\n","import React from 'react';\nimport forEach from 'lodash/forEach';\nimport map from 'lodash/map';\n\nconst componentRegistry = {\n  registry: {},\n\n  register({\n    name = null, type = null, store = true, data = true,\n  }) {\n    if (!name || !type) {\n      throw new Error('Component name or type is missing');\n    }\n    if (this.registry[name]) {\n      throw new Error(`Component name already taken: ${name}`);\n    }\n\n    this.registry[name] = { type, store, data };\n    return this.registry;\n  },\n\n  registerMultiple(componentObjs) {\n    return forEach(componentObjs, obj => this.register(obj));\n  },\n\n  getComponent(name) {\n    return this.registry[name];\n  },\n\n  registeredComponents() {\n    return map(this.registry, (value, key) => key).join(', ');\n  },\n\n  markup(name, data, store) {\n    const currentComponent = this.getComponent(name);\n\n    if (!currentComponent) {\n      throw new Error(`Component not found:  ${name} among ${this.registeredComponents()}`);\n    }\n    const ComponentName = currentComponent.type;\n\n    return (\n      <ComponentName\n        data={currentComponent.data ? data : undefined}\n        store={currentComponent.store ? store : undefined}\n      />\n    );\n  },\n};\n\nconst coreComponets = [];\n\ncomponentRegistry.registerMultiple(coreComponets);\n\nexport default componentRegistry;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import { push, replace, go, goBack, goForward } from 'connected-react-router';\n\nconst createReduxRoutingActions = ({ dispatch }) => ({\n  push: where => dispatch(push(where)),\n  replace: where => dispatch(replace(where)),\n  go: howMany => dispatch(go(howMany)),\n  goBack: () => dispatch(goBack()),\n  goForward: () => dispatch(goForward()),\n});\n\nexport default createReduxRoutingActions;\n","import thunk from 'redux-thunk';\nimport { routerMiddleware } from 'connected-react-router';\nimport promiseMiddleware from 'redux-promise-middleware';\n\nexport default history => [\n  routerMiddleware(history),\n  thunk,\n  promiseMiddleware(),\n];\n","import { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\n/**\n * Root reducer, used when creating the Redux store.\n *\n * Now its is only a dummy reducer, since Redux needs some initial reducer co configure store\n * Should be replaced by global initial reducers, once it is required\n *\n * @returns New application state.\n */\nfunction rootReducer(state) {\n  const newState = state || {};\n  return newState;\n}\n/**\n * Initial reducer\n * @param {Object} asyncReducers - object of reducers\n */\nexport default ({ asyncReducers = {}, history }) => connectRouter(history)(combineReducers({\n  rootReducer,\n  ...asyncReducers,\n}));\n","import { applyMiddleware, compose, createStore } from 'redux';\nimport createReducer from './reducer';\nimport createMiddlewares from './middleware';\nimport { history } from '../miq-component/react-history';\n\nconst initialState = {};\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst initializeStore = () => {\n  const store = createStore(\n    createReducer({ history }),\n    initialState,\n    composeEnhancers(applyMiddleware(...createMiddlewares(history))),\n  );\n\n  /**\n   * storage for all future reducers\n   */\n  store.asyncReducers = {};\n\n  /**\n   * @param {Object} reducers object where key is the name of reducer and value reducer function\n   */\n  store.injectReducers = (reducers) => {\n    store.asyncReducers = {\n      ...store.asyncReducers,\n      ...reducers,\n    };\n    /**\n     * replace current reducer with new function containing all new reducers\n     * must be connected to router again\n     */\n    store.replaceReducer(createReducer({ asyncReducers: store.asyncReducers, history }));\n    return store;\n  };\n  return store;\n};\n\nexport default initializeStore;\n\n","export { default as initializeStore } from './store';\n","import * as registry from './registry.ts';\nimport reactBlueprint from './react-blueprint.tsx';\n\nexport function addReact(name, component) {\n  return registry.define(name, reactBlueprint(component));\n}\n\nexport function componentFactory(blueprintName, selector, props) {\n  const { isDefined } = ManageIQ.component;\n  if (!isDefined(blueprintName)) {\n    throw new Error(`Attempt to create instance of ${blueprintName}. Blueprint ${blueprintName} is not defined!`);\n  }\n  const element = document.querySelector(selector);\n  const allProps = { ...element.dataset, ...props };\n  ManageIQ.component.newInstance(blueprintName, allProps, element);\n}\n\nexport function getReact(name) {\n  return registry.getDefinition(name).blueprint.component;\n}\n\n/**\n * @description Removes lingering React components in the virtual DOM\n * if mounting element with generated ID is no longer in actual DOM,\n * instance is destroyed and removed from virtual DOM\n */\nexport function cleanVirtualDom() {\n  registry.getComponentNames().forEach(name =>\n    registry.getComponentInstances(name).forEach((instance) => {\n      if (!document.getElementById(instance.elementId)) {\n        instance.destroy();\n      }\n    }));\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport componentRegistry from './componentRegistry';\n\nexport function mount(component, selector, data = {}) {\n  const reactNode = document.querySelector(selector);\n\n  if (reactNode) {\n    ReactDOM.unmountComponentAtNode(reactNode);\n    ReactDOM.render(componentRegistry.markup(component, data), reactNode);\n  } else {\n    // eslint-disable-next-line no-console\n    console.log(\n      `Cannot find \\'${selector}\\' element for mounting the \\'${component}\\'`\n    );\n  }\n}\n","// This file is automatically compiled by Webpack, along with any other files\n// present in this directory. You're encouraged to place your actual application logic in\n// a relevant structure within app/javascript and only use these pack files to reference\n// that code so it'll be compiled.\n//\n// To reference this file, add <%= javascript_pack_tag 'application' %> to the appropriate\n// layout file, like app/views/layouts/application.html.erb\n\nimport 'proxy-polyfill';\n\nimport { mount } from '../react/mounter';\nimport componentRegistry from '../react/componentRegistry';\nimport { API, http } from '../http_api';\n\nimport * as newRegistry from '../miq-component/registry';\nimport reactBlueprint from '../miq-component/react-blueprint';\nimport * as helpers from '../miq-component/helpers';\n\nimport { rxSubject, sendDataWithRx, listenToRx } from '../miq_observable';\n\nimport { initializeStore } from '../miq-redux';\nimport { history } from '../miq-component/react-history.ts';\nimport createReduxRoutingActions from '../miq-redux/redux-router-actions';\n\nManageIQ.react = {\n  mount,\n  componentRegistry,\n};\n\nManageIQ.component = {\n  ...newRegistry,\n  reactBlueprint,\n  ...helpers,\n};\n\nconst store = initializeStore();\n\nManageIQ.redux = {\n  store,\n  addReducer: store.injectReducers,\n  history,\n  ...createReduxRoutingActions(store),\n};\n\nManageIQ.angular.rxSubject = rxSubject;\nwindow.sendDataWithRx = sendDataWithRx;\nwindow.listenToRx = listenToRx;\n\n// compatibility: vanillaJsAPI should be considered deprecated\n// the new convention is: API is for vanilla/react, $API is for angular\nwindow.API = API;\nwindow.vanillaJsAPI = API;\nwindow.http = http;\n\n// for Automate > Simulate\nrequire('xml_display/XMLDisplay.js');\nrequire('xml_display/XMLDisplay.css');\n\n// miqSpinner, miqSearchSpinner\nimport {Spinner} from 'spin.js';\nimport 'spin.js/spin.css';\nwindow.Spinner = Spinner;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import { AnyComponentInstance } from './component-typings';\n\n/**\n * Proxy writes to properties of the given object.\n */\nexport function writeProxy<T extends object>(\n  object: T,\n  onWrite: (propName, value) => void\n): T {\n  return new Proxy<T>(object, {\n    set(target, prop, value): boolean {\n      target[prop] = value;\n      onWrite(prop, value);\n      return true;\n    }\n  });\n}\n\n/**\n * Prevent access to existing instance properties except for `id`.\n */\nexport function lockInstanceProperties(\n  instance: AnyComponentInstance\n): AnyComponentInstance {\n  const descriptors = {};\n\n  Object.keys(instance)\n    .filter(propName => propName !== 'id')\n    .forEach(propName => {\n      descriptors[propName] = {\n        get() {\n          throw new Error(`Tried to read property ${propName} of destroyed instance ${instance.id}`);\n        },\n        set() {\n          throw new Error(`Tried to write property ${propName} of destroyed instance ${instance.id}`);\n        },\n        enumerable: true\n      };\n    });\n\n  return Object.defineProperties(instance, descriptors);\n}\n","import {\n  ComponentProps,\n  BasicComponentInstance,\n  ManagedComponentInstance,\n  AnyComponentInstance,\n  ComponentBlueprint\n} from './component-typings';\n\nimport { writeProxy, lockInstanceProperties } from './utils';\n\ninterface ComponentDefinition {\n  name: string;\n  blueprint: ComponentBlueprint;\n}\n\nconst registry: Map<ComponentDefinition, Set<AnyComponentInstance>> = new Map();\n\n/**\n * Get definition of a component with the given `name`.\n */\nexport function getDefinition(\n  name: string\n): ComponentDefinition | undefined {\n  return Array.from(registry.keys()).find(definition => definition.name === name);\n}\n\n/**\n * Make sure the instance `id` is sane and cannot be changed.\n */\nexport function sanitizeAndFreezeInstanceId(\n  instance: AnyComponentInstance,\n  definition: ComponentDefinition\n): void {\n  const id = typeof instance.id === 'string'\n    ? instance.id\n    : `${definition.name}-${registry.get(definition).size}`;\n\n  Object.defineProperty(instance, 'id', {\n    get() {\n      return id;\n    },\n    set() {\n      throw new Error(`Attempt to modify id of instance ${instance.id}`);\n    },\n    enumerable: true\n  });\n}\n\n/**\n * Check the following:\n * - the given instance isn't already in the registry\n * - the given instance `id` isn't already taken\n */\nexport function validateInstance(\n  instance: AnyComponentInstance,\n  definition: ComponentDefinition\n): void {\n  if (Array.from(registry.get(definition)).find(existingInstance => existingInstance === instance)) {\n    throw new Error('Instance already present, check your blueprint.create implementation');\n  }\n\n  if (getInstance(definition.name, instance.id)) {\n    throw new Error(`Instance with id ${instance.id} already present`);\n  }\n}\n\n/**\n * Implementation of the `ComponentApi.define` method.\n */\nexport function define(\n  name: string,\n  blueprint: ComponentBlueprint = {},\n  instances?: BasicComponentInstance[]\n): void {\n  // validate inputs\n  if (typeof name !== 'string' || isDefined(name)) {\n    return;\n  }\n\n  // add new definition to the registry\n  const newDefinition: ComponentDefinition = { name, blueprint };\n  registry.set(newDefinition, new Set());\n\n  // add existing instances to the registry\n  if (Array.isArray(instances)) {\n    instances.filter(instance => !!instance)\n      .forEach(instance => {\n        sanitizeAndFreezeInstanceId(instance, newDefinition);\n        validateInstance(instance, newDefinition);\n        registry.get(newDefinition).add(instance);\n      });\n  }\n}\n\n/**\n * Implementation of the `ComponentApi.newInstance` method.\n */\nexport function newInstance(\n  name: string,\n  initialProps: ComponentProps = {},\n  mountTo?: HTMLElement\n): ManagedComponentInstance | undefined {\n  // validate inputs\n  const definition = getDefinition(name);\n  if (!definition) {\n    return;\n  }\n\n  // check if the blueprint supports instance creation\n  const blueprint = definition.blueprint;\n  if (typeof blueprint.create !== 'function') {\n    return;\n  }\n\n  // multiple props modifications will trigger single instance update\n  let newPropsForUpdate = {};\n  function handlePropUpdate(propName, value) {\n    if (typeof blueprint.update !== 'function') {\n      return;\n    }\n\n    if (Object.keys(newPropsForUpdate).length === 0) {\n      setTimeout(() => {\n        newInstance.update(newPropsForUpdate);\n        newPropsForUpdate = {};\n      });\n    }\n    newPropsForUpdate[propName] = value;\n  }\n\n  // proxy props to handle instance update upon props modification\n  let actualProps = writeProxy(Object.assign({}, initialProps), handlePropUpdate);\n\n  // create new instance\n  let newInstance = blueprint.create(actualProps, mountTo) as ManagedComponentInstance;\n  if (!newInstance) {\n    throw new Error(`blueprint.create returned falsy value when trying to instantiate ${name}`);\n  }\n\n  // make sure the instance id is sane and cannot be changed\n  sanitizeAndFreezeInstanceId(newInstance, definition);\n\n  // validate the instance\n  validateInstance(newInstance, definition);\n\n  // provide access to current props\n  Object.defineProperty(newInstance, 'props', {\n    get() {\n      return actualProps;\n    },\n    set() {\n      throw new Error(`Attempt to rewrite props associated with instance ${newInstance.id}`);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  // provide instance update method\n  newInstance.update = (newProps) => {\n    if (typeof blueprint.update !== 'function') {\n      return;\n    }\n\n    // update current props and delegate to blueprint\n    actualProps = writeProxy(Object.assign({}, actualProps, newProps), handlePropUpdate);\n    blueprint.update(actualProps, mountTo);\n  };\n\n  // provide instance destroy method\n  newInstance.destroy = () => {\n    // delegate to blueprint\n    if (typeof blueprint.destroy === 'function') {\n      blueprint.destroy(newInstance, mountTo);\n    }\n\n    // remove instance from the registry\n    registry.get(definition).delete(newInstance);\n\n    // prevent access to existing instance properties except for id\n    lockInstanceProperties(newInstance);\n\n    // clear instance reference\n    newInstance = null;\n  };\n\n  // add instance to the registry\n  registry.get(definition).add(newInstance);\n\n  return newInstance;\n}\n\n/**\n * Implementation of the `ComponentApi.getInstance` method.\n */\nexport function getInstance(\n  name: string,\n  id: string\n): AnyComponentInstance | undefined {\n  const definition = getDefinition(name);\n  return definition && Array.from(registry.get(definition)).find(instance => instance.id === id);\n}\n\n/**\n * Implementation of the `ComponentApi.isDefined` method.\n */\nexport function isDefined(\n  name: string\n): boolean {\n  return getDefinition(name) ? true : false;\n}\n\n/**\n * Test helper: get names of all components.\n */\nexport function getComponentNames(): string[] {\n  return Array.from(registry.keys()).map(definition => definition.name);\n}\n\n/**\n * Test helper: get all instances of the given component.\n */\nexport function getComponentInstances(\n  name: string\n): AnyComponentInstance[] {\n  const definition = getDefinition(name);\n  return definition ? Array.from(registry.get(definition).values()) : [];\n}\n\n/**\n * Test helper: remove all component data.\n */\nexport function clearRegistry(): void {\n  registry.clear();\n}\n"],"sourceRoot":""}