(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{18:function(e,t,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(o=window)}e.exports=o},20:function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},2590:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:__("Modal"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return o.default.createElement("div",null,"Empty?")},n=$("<div></div>").appendTo("body"),c=function(e,t,n,r){var c={addClicked:function(e){Promise.resolve(e()).then(n)},saveClicked:function(e){Promise.resolve(e()).then(n)},cancelClicked:function(e){Promise.resolve(e()).then(n)}};return o.default.createElement(i.Provider,{store:ManageIQ.redux.store},o.default.createElement(a.Modal,{show:!0,onHide:n,onExited:n},o.default.createElement(a.Modal.Header,null,o.default.createElement("button",{className:"close",onClick:n,"aria-hidden":"true","aria-label":"Close"},o.default.createElement(a.Icon,{type:"pf",name:"close"})),o.default.createElement(a.Modal.Title,null,e)),o.default.createElement(a.Modal.Body,null,o.default.createElement(t,null),o.default.createElement("div",{id:r})),o.default.createElement(a.Modal.Footer,null,o.default.createElement(l.default,{callbackOverrides:c}))))}(e,t,function(){return function(e){var t=$("#"+e).parents("div");t[t.length-1].remove()}("provider-dialogs")},"provider-dialogs");r.default.render(c,n[0])};var o=c(n(0)),r=c(n(21)),a=n(6),i=n(298),l=c(n(1204));function c(e){return e&&e.__esModule?e:{default:e}}},2591:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n(0)),a=i(n(2590));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n="/api/"+e.entity_name+"/"+ManageIQ.record.recordId;API.post(n,{action:e.action_name,data:t}).then(function(t){var n=void 0;if(t.error)return n=t.error.message?t.error.message:__("An unknown error has occurred."),void add_flash(n,"error");add_flash(__(e.success_message),"success")}).catch(function(e){add_flash(__("An unknown error has occurred calling the API."))})}function c(e,t){var n=$("<provider-dialog-user></provider-dialog-user>");n.attr("dialog",e),n.attr("action-name",t.action_name),n.attr("entity-name",t.entity_name),n.attr("success-message",t.success_message);var i="angular-provider-dialog",l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentDidMount",value:function(){n.appendTo("#"+i),miq_bootstrap("#"+i)}},{key:"render",value:function(){return r.default.createElement("div",{id:i})}}]),t}();(0,a.default)(t.dialog_title,l)}ManageIQ.angular.app.component("providerDialogUser",{bindings:{dialog:"<",entityName:"@",actionName:"@",successMessage:"@"},template:'<dialog-user dialog="$ctrl.dialog" refresh-field="$ctrl.refreshField(field)" on-update="$ctrl.setDialogData(data)"></dialog-user>',controller:[function(){var e=this;this.refreshField=function(e){return Promise.resolve({values:[],options:[]})},this.setDialogData=function(e){e.data,ManageIQ.redux.store.dispatch({type:"FormButtons.saveable",payload:e.validations.isValid})},this.$onInit=function(){ManageIQ.redux.store.dispatch({type:"FormButtons.init",payload:{newRecord:!0,pristine:!1,addClicked:function(){l({entity_name:e.entityName,action_name:e.actionName,success_message:e.successMessage},e.formData)}}})}}]}),window.listenToRx(function(e){e&&"provider_dialogs"===e.controller&&(e.component_name?function(e){var t={recordId:ManageIQ.record.recordId},n=ManageIQ.component.getReact(e.component_name);(0,a.default)(__(e.modal_title),function(){return r.default.createElement(n,t)})}(e):e.dialog_name?http.post("/dashboard/dialog_definition",{class:e.class,name:e.dialog_name},{headers:{"Content-Type":"application/json"}}).then(function(t){t.error?add_flash(__("Failed to fetch dialog definition"),"error"):c(t.dialog,e)}):e.entity_name&&l(e))})}},[[2591,0,1]]]);
//# sourceMappingURL=provider-dialogs-common-3933d351f3d1ff10716d.js.map