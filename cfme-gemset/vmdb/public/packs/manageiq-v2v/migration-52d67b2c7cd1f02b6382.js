(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1023:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(0)),o=s(n(1)),i=n(533);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={now:e.endTime||Date.now()},n._tickInterval=null,n.dateProps=n.dateProps.bind(n),n.tick=n.tick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){this._tickInterval=setInterval(this.tick,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this._tickInterval)}},{key:"dateProps",value:function(){var e=this.props,t=e.startTime,n=e.endTime;return{startTime:new Date(t),endTime:n?new Date(n):null}}},{key:"tick",value:function(){var e=this.dateProps().endTime;this.setState({now:e||Date.now()})}},{key:"render",value:function(){var e=this.dateProps().startTime,t=this.state.now;return a.default.createElement(a.default.Fragment,null,(0,i.IsoElapsedTime)(e,t))}}]),t}();l.propTypes={startTime:o.default.oneOfType([o.default.string,o.default.instanceOf(Date)]),endTime:o.default.oneOfType([o.default.string,o.default.instanceOf(Date)])},l.defaultProps={endTime:null},t.default=l},1024:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(0)),o=s(n(1)),i=n(6);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.title,n=e.children,o=e.footer,s=e.onClick,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["title","children","footer","onClick"]);return a.default.createElement(i.Grid.Col,{sm:12,md:6,lg:4},a.default.createElement(i.Card,r({id:(Array.isArray(t.props.children)?t.props.children[1]:t.props.children)+"-progress-card",matchHeight:!0,onClick:s},l),a.default.createElement(i.Card.Heading,null,t),a.default.createElement(i.Card.Body,null,n),o))};l.propTypes={title:o.default.node,children:o.default.node,footer:o.default.node,onClick:o.default.func},l.defaultProps={title:"",children:null,footer:null,onClick:i.noop},t.default=l},1034:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.links=void 0;var r=s(n(540)),a=s(n(485)),o=s(n(480)),i=s(n(479));function s(e){return e&&e.__esModule?e:{default:e}}t.links=[{path:"plans",component:r.default,menu_item_id:"menu_item_plans"},{path:"settings",component:a.default,menu_item_id:"menu_item_settings"},{path:"settings/conversion_hosts",component:a.default,menu_item_id:"menu_item_settings"},{path:"plan/:id",component:o.default,menu_item_id:"menu_item_plans"},{path:"mappings",component:i.default,menu_item_id:"menu_item_mappings"},{path:"",redirect:"plans"}]},123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),o=n(6);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.showWizardAction,n=e.buttonHref,a=e.description,i=e.buttonText,s=e.title,l=e.iconType,u=e.iconName,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["showWizardAction","buttonHref","description","buttonText","title","iconType","iconName"]);return r.default.createElement(o.EmptyState,c,r.default.createElement(o.EmptyState.Icon,{type:l,name:u}),r.default.createElement(o.EmptyState.Title,null,s),r.default.createElement(o.EmptyState.Info,null,a),i&&r.default.createElement(o.EmptyState.Action,null,r.default.createElement(o.Button,{bsStyle:"primary",bsSize:"large",onClick:t,href:n},sprintf(__("%s"),i))))};s.propTypes={showWizardAction:a.default.func,buttonHref:a.default.string,description:a.default.node,buttonText:a.default.string,title:a.default.string,iconType:a.default.string,iconName:a.default.string},s.defaultProps={title:" ",iconType:"pf",iconName:"add-circle-o",showWizardAction:null,buttonHref:null},t.default=s},135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentTargetProvider=t.planWizardFormFilter=t.planWizardOverviewFilter=t.findEditingPlan=void 0;var r=n(352),a=t.findEditingPlan=function(e,t){return t&&e.find(function(e){return e.id===t})};t.planWizardOverviewFilter=function(e){return{hidePlanWizard:e.hidePlanWizard,transformationMappings:e.transformationMappings,editingPlan:a(e.transformationPlans,e.editingPlanId)}},t.planWizardFormFilter=function(e){return{planWizardGeneralStep:e.planWizardGeneralStep,planWizardVMStep:e.planWizardVMStep,planWizardInstancePropertiesStep:e.planWizardInstancePropertiesStep,planWizardAdvancedOptionsStep:e.planWizardAdvancedOptionsStep,planWizardScheduleStep:e.planWizardScheduleStep}},t.getCurrentTargetProvider=function(e,t){var n=e.planWizardGeneralStep.values.infrastructure_mapping,a=t.find(function(e){return e.id===n});return(0,r.getMappingType)(a.transformation_mapping_items)}},163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BootstrapSelect=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),i=u(n(1)),s=n(6),l=n(37);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(t.BootstrapSelect=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=a=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.renderFormGroup=function(){var e=a.props,t=e.input,n=e.label,i=e.required,l=e.data_live_search,u=e.options,c=e.option_key,d=e.option_value,f=e.choose_text,p=e.meta,m=p.visited,_=p.error,g=p.active,v=e.disabled,h=a.props,y=h.inline_label,T=h.stacked_label,E=h.labelWidth,S=h.controlWidth,P=h.allowClear,b=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(h,["inline_label","stacked_label","labelWidth","controlWidth","allowClear"]),A=r({key:{label:n}},b);return m&&!g&&_&&(A.validationState="error"),o.default.createElement(s.FormGroup,A,y&&o.default.createElement(s.Grid.Col,{componentClass:s.ControlLabel,sm:E},i&&o.default.createElement("span",{className:"required-asterisk"},"* "),n),o.default.createElement(s.Grid.Col,{sm:S},T&&o.default.createElement("h4",null,n),o.default.createElement("select",r({id:t.name,"data-live-search":l,className:"form-control "+t.name+"_select"},t,{disabled:!!v}),o.default.createElement("option",{disabled:!P,value:""},f||"<"+__("Choose")+">"),u.map(function(e){return o.default.createElement("option",{value:e[c],key:e[d]+"-"+e[c]},e[d])})),m&&!g&&_&&o.default.createElement(s.Form.HelpBlock,null,_)))},a.render=function(){return a.props.render_within_form?o.default.createElement("div",null,o.default.createElement(s.Form,{horizontal:!0},a.renderFormGroup())):a.renderFormGroup()},c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.input,r=t.options,a=t.option_key,o=t.option_value,i=r.some(function(t,n){var r=e.options[n];return!r||r[a]!==t[a]||r[o]!==t[o]});(i||e.disabled!==this.props.disabled)&&$("#"+n.name).selectpicker("refresh"),i&&($("#"+n.name).selectpicker("val",null),n.onChange(null)),e.pre_selected_value!==this.props.pre_selected_value&&$("#"+n.name).selectpicker("val",this.props.pre_selected_value)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.input,n=e.form_name,r=e.meta,a=r.visited,o=r.dispatch,i=e.onSelect,s=e.pre_selected_value;s&&t.onChange(s),$("#"+t.name).selectpicker("val",t.value||s),$("."+t.name+"_select").on("click",".dropdown-toggle",function(e){a||o((0,l.focus)(n,t.name))}),i&&$("#"+t.name).on("changed.bs.select",function(e){i(e.target.value)})}}]),t}()).propTypes={label:i.default.string,input:i.default.object,required:i.default.bool,data_live_search:i.default.string,type:i.default.string,options:i.default.array,option_key:i.default.string,option_value:i.default.string,meta:i.default.object,form_name:i.default.string,onSelect:i.default.func,pre_selected_value:i.default.string,choose_text:i.default.string,render_within_form:i.default.string,inline_label:i.default.bool,stacked_label:i.default.bool,labelWidth:i.default.number,controlWidth:i.default.number,allowClear:i.default.bool,disabled:i.default.bool}},164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.DELETE_V2V_INFRASTRUCTURE_MAPPING="DELETE_INFRASTRUCTURE_MAPPING",t.FETCH_V2V_CLOUD_NETWORKS="FETCH_CLOUD_NETWORKS",t.FETCH_V2V_CLOUD_TENANTS="FETCH_CLOUD_TENANTS",t.FETCH_V2V_CLOUD_VOLUME_TYPES="FETCH_CLOUD_VOLUME_TYPES",t.FETCH_V2V_CLUSTERS="FETCH_V2V_CLUSTERS",t.FETCH_V2V_DATASTORES="FETCH_DATASTORES",t.FETCH_V2V_NETWORKS="FETCH_NETWORKS",t.FETCH_V2V_TRANSFORMATION_MAPPINGS="FETCH_V2V_TRANSFORMATION_MAPPINGS",t.HIDE_V2V_DELETE_CONFIRMATION_MODAL="HIDE_V2V_DELETE_CONFIRMATION_MODAL",t.OPEN_V2V_MAPPING_WIZARD_ON_MOUNT="OPEN_V2V_MAPPING_WIZARD_ON_MOUNT",t.SET_V2V_MAPPING_TO_DELETE="SET_V2V_MAPPING_TO_DELETE",t.SHOW_V2V_DELETE_CONFIRMATION_MODAL="SHOW_V2V_DELETE_CONFIRMATION_MODAL",t.YES_TO_DELETE_AND_HIDE_DELETE_CONFIRMATION_MODAL="YES_TO_DELETE_AND_HIDE_DELETE_CONFIRMATION_MODAL",t.FETCH_CLOUD_TENANTS_URL="/api/cloud_tenants?expand=resources&filter[]=ext_management_system.type=ManageIQ::Providers::Openstack::CloudManager",t.FETCH_TRANSFORMATION_MAPPINGS_URL="/api/transformation_mappings?expand=resources&attributes=transformation_mapping_items,service_templates&sort_by=updated_at&sort_order=desc"},173:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return e.length&&e.reduce(function(e,t){return e.created_on>t.created_on?e:t})}},175:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(2553);var i={registry:{},register:function(e){var t=e.name,n=void 0===t?null:t,r=e.type,a=void 0===r?null:r,o=e.store,i=void 0===o||o,s=e.data,l=void 0===s||s;if(!n||!a)throw new Error("Component name or type is missing");if(this.registry[n])throw new Error("Component name already taken: "+n);return this.registry[n]={type:a,store:i,data:l},this.registry},registerMultiple:function(e){var t=this;return e.forEach(function(e){return t.register(e)})},getComponent:function(e){return this.registry[e]},registeredComponents:function(){return Object.keys(this.registry).join(", ")},markup:function(e,t,n){var i=this.getComponent(e);if(!i)throw new Error("Component not found:  "+e+" among "+this.registeredComponents());var s=window.it?i.type:(0,o.i18nProviderWrapperFactory)(new Date)(i.type);return a.default.createElement(s,{data:i.data?r({},t,i.data):void 0,store:i.store?n:void 0})}};i.registerMultiple([]),t.default=i},18:function(e,t,n){"use strict";var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":a(window))&&(r=window)}e.exports=r},1888:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateVerticalMenu=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(797)),a=n(1034);t.updateVerticalMenu=function(e){r.default.post("/migration/menu_section_url?section=migration&url=/migration%23"+e);var t=document.querySelector('[data-target="#menu-migration"] > div > ul > li[class="list-group-item active"]');null!==t&&t.classList.remove("active");var n=a.links.find(function(t){return t.path.split("/")[0]===e.split("/")[1]}),o=document.querySelector('[id="'+n.menu_item_id+'"]');null!==o&&o.classList.add("active")}},1889:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(322);var o=t.initialState=(0,r.default)({isFetchingTargetClusters:!1,isRejectedTargetClusters:!1,errorFetchingTargetClusters:null,targetClusters:[]});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.FETCH_V2V_TARGET_CLUSTERS+"_PENDING":return e.set("isFetchingTargetClusters",!0).set("isRejectedTargetClusters",!1);case a.FETCH_V2V_TARGET_CLUSTERS+"_FULFILLED":return t.payload.data&&t.payload.data.resources&&t.payload.data.resources[0]?e.set("targetClusters",t.payload.data.resources).set("isRejectedTargetClusters",!1).set("isFetchingTargetClusters",!1):e.set("targetClusters",[]).set("isRejectedTargetClusters",!1).set("isFetchingTargetClusters",!1);case a.FETCH_V2V_TARGET_CLUSTERS+"_REJECTED":return e.set("errorFetchingTargetClusters",t.payload).set("isRejectedTargetClusters",!0).set("isFetchingTargetClusters",!1);default:return e}}},1890:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasRsaKey=t.sufficientProviders=void 0;var r=n(202);t.sufficientProviders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.some(function(e){return r.PROVIDERS.source.includes(e.type)})&&e.some(function(e){return r.PROVIDERS.target.includes(e.type)})},t.hasRsaKey=function(e){var t=e.authentications;return!!t&&t.some(function(e){return"ssh_keypair"===e.authtype})}},1891:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.providersSchema=void 0;var r=n(101);t.providersSchema=(0,r.array)().of((0,r.object)().shape({href:(0,r.string)().required(),type:(0,r.string)().required(),id:(0,r.string)().required(),authentications:(0,r.array)().nullable()})).nullable()},1892:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateProviders=void 0;var r=n(323),a=n(1891);t.validateProviders=function(e){(0,r.validateSchema)(a.providersSchema,e)}},1893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),o=n(202),i=n(1892),s=n(1890);var l=t.initialState=(0,a.default)({isFetchingProviders:!1,isRejectedProviders:!1,errorFetchingProviders:null,providers:[],hasSufficientProviders:!1});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.FETCH_V2V_PROVIDERS+"_PENDING":return e.set("isFetchingProviders",!0).set("isRejectedProviders",!1).set("errorFetchingProviders",null);case o.FETCH_V2V_PROVIDERS+"_FULFILLED":return function(){var n=e.set("hasSufficientProviders",!1).set("isFetchingProviders",!1).set("isRejectedProviders",!1).set("errorFetchingProviders",null);return t.payload.data&&t.payload.data.resources?((0,i.validateProviders)(t.payload.data.resources),n.set("hasSufficientProviders",(0,s.sufficientProviders)(t.payload.data.resources)).set("providers",t.payload.data.resources.map(function(e){return r({},e,{hasRsaKey:(0,s.hasRsaKey)(e)})}))):n}();case o.FETCH_V2V_PROVIDERS+"_REJECTED":return e.set("isFetchingProviders",!1).set("isRejectedProviders",!0).set("errorFetchingProviders",t.payload);default:return e}}},1894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(37),o=n(461),i=n(480),s=n(540),l=n(479),u=n(485),c=n(795),d=n(794),f=n(793),p=n(790),m=n(787),_=n(784),g=n(766),v=n(783),h=n(768),y=n(765),T=n(764),E=n(845),S=b(n(1893)),P=b(n(1889));function b(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return r({},o.reducers,i.reducers,s.reducers,l.reducers,u.reducers,c.reducers,d.reducers,f.reducers,p.reducers,m.reducers,_.reducers,g.reducers,v.reducers,h.reducers,y.reducers,T.reducers,E.reducers,{form:a.reducer,providers:S.default,targetResources:P.default})}},1895:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(1)),o=n(220),i=s(n(273));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n=e.data,a=n.date,s=n.defaultValue,l=n.seconds;if(a){var u=t.intl.formatRelative(a),c=l?"2-digit":void 0;return r.default.createElement("span",{title:u},r.default.createElement(o.FormattedDate,{value:a,day:"2-digit",month:"short",hour:"2-digit",second:c,minute:"2-digit",timeZone:i.default.timezone}))}return r.default.createElement("span",null,s)};l.contextTypes={intl:o.intlShape},l.propTypes={data:a.default.shape({date:a.default.any,defaultValue:a.default.string,seconds:a.default.bool})},t.default=l},1896:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(1)),o=n(220),i=s(n(273));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n=e.data,a=n.date,s=n.defaultValue;if(a){var l=t.intl.formatDate(a,{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit",year:"numeric",timeZone:i.default.timezone});return r.default.createElement("span",{title:l},r.default.createElement(o.FormattedRelative,{value:a}))}return r.default.createElement("span",null,s)};l.contextTypes={intl:o.intlShape},l.propTypes={data:a.default.shape({date:a.default.any,defaultValue:a.default.string})},t.default=l},1897:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(1)),o=n(220),i=s(n(273));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n=e.data,a=n.date,s=n.defaultValue;if(a){var l=t.intl.formatRelative(a),u=n.seconds?"2-digit":void 0;return r.default.createElement("span",{title:l},r.default.createElement(o.FormattedDate,{value:a,day:"2-digit",month:"long",hour:"2-digit",minute:"2-digit",second:u,year:"numeric",timeZone:i.default.timezone}))}return r.default.createElement("span",null,s)};l.contextTypes={intl:o.intlShape},l.propTypes={data:a.default.shape({date:a.default.any,defaultValue:a.default.string})},t.default=l},1898:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(1)),o=n(220),i=s(n(273));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n=e.data,a=n.date,s=n.defaultValue;if(a){var l=t.intl.formatRelative(a);return r.default.createElement("span",{title:l},r.default.createElement(o.FormattedDate,{value:a,day:"2-digit",month:"2-digit",year:"numeric",timeZone:i.default.timezone}))}return r.default.createElement("span",null,s)};l.contextTypes={intl:o.intlShape},l.propTypes={data:a.default.shape({date:a.default.any,defaultValue:a.default.string})},t.default=l},1899:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(38)),a=i(n(851)),o=n(325);function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)({notifications:[]});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],n={key:(0,a.default)(),header:t.header,message:t.message,notificationType:t.notificationType,data:t.data,persistent:t.persistent,timerdelay:t.timerdelay,actionEnabled:t.actionEnabled};switch(t.type){case o.V2V_NOTIFICATION_ADD:return e.set("notifications",[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r.default.asMutable(e.notifications)),[n]));case o.V2V_NOTIFICATION_REMOVE:return e.set("notifications",r.default.asMutable(e.notifications).filter(function(e){return t.key.notification.key!==e.key}));default:return e}}},1900:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=l(n(1)),i=n(6),s=n(1038);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.notifications,n=e.removeNotificationAction;return a.default.createElement(i.ToastNotificationList,null,t&&t.map(function(e){return a.default.createElement(i.TimedToastNotification,{key:e.key,type:e.notificationType,persistent:e.persistent,timerdelay:e.timerdelay,onDismiss:function(){return n({notification:e})},onMouseLeave:function(){return n({notification:e})}},a.default.createElement("span",null,e.header&&a.default.createElement("strong",null,e.header),e.message),e.actionEnabled&&a.default.createElement("div",{className:"pull-right toast-pf-action"},a.default.createElement(s.Link,{to:"/plan/"+e.data.id},__("View Details"))))}))}}]),t}();u.propTypes={removeNotificationAction:o.default.func,notifications:o.default.array},u.defaultProps={notifications:[]},t.default=u},1901:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),o=n(762),i=n(251);var s=t.initialState=(0,a.default)({tenantsWithAttributes:[],isFetchingTenantsWithAttributes:!1,isRejectedTenantsWithAttributes:!1,errorTenantsWithAttributes:null,bestFitFlavors:[],isFetchingBestFitFlavor:!1,isRejectedBestFitFlavor:!1,errorBestFitFlavor:null,instancePropertiesRows:[],isSettingSecurityGroupsAndBestFitFlavors:!0,recalculateBestFitFlavorAndSecurityGroup:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.QUERY_V2V_OSP_TENANT_ATTRIBUTES+"_PENDING":return e.set("isSettingSecurityGroupsAndBestFitFlavors",!0).set("isFetchingTenantsWithAttributes",!0).set("isRejectedTenantsWithAttributes",!1);case o.QUERY_V2V_OSP_TENANT_ATTRIBUTES+"_FULFILLED":return e.set("tenantsWithAttributes",t.payload.data.results).set("isFetchingTenantsWithAttributes",!1).set("isRejectedTenantsWithAttributes",!1).set("errorTenantsWithAttributes",null);case o.QUERY_V2V_OSP_TENANT_ATTRIBUTES+"_REJECTED":return e.set("errorTenantsWithAttributes",t.payload).set("isFetchingTenantsWithAttributes",!1).set("isRejectedTenantsWithAttributes",!0);case o.QUERY_V2V_OSP_BEST_FIT_FLAVOR+"_PENDING":return e.set("isFetchingBestFitFlavor",!0).set("isRejectedBestFitFlavor",!1);case o.QUERY_V2V_OSP_BEST_FIT_FLAVOR+"_FULFILLED":return e.set("bestFitFlavors",t.payload.data.results).set("isFetchingBestFitFlavor",!1).set("isRejectedBestFitFlavor",!1).set("errorBestFitFlavor",null);case o.QUERY_V2V_OSP_BEST_FIT_FLAVOR+"_REJECTED":return e.set("errorBestFitFlavor",t.payload).set("isFetchingBestFitFlavor",!1).set("isRejectedBestFitFlavor",!0);case o.SET_V2V_BEST_FIT_FLAVORS_AND_DEFAULT_SECURITY_GROUPS:var n=t.payload,a=n.vmBestFitFlavors,l=n.editingPlan,u=[];return a.forEach(function(t){var n=e.instancePropertiesRows.find(function(e){return e.id===t.vm_id}),a=e.tenantsWithAttributes.find(function(e){return e.id===t.tenant_id}),o=a&&a.flavors,i=a&&a.security_groups,s=void 0,c=t.flavor_id;c?s=o&&o.find(function(e){return e.id===c}):(s=o&&o.reduce(function(e,t){return e.memory>t.memory?e:e.memory<t.memory?t:e.cpus>t.cpus?e:t}),c=s&&s.id);var d=s&&s.name,f=a&&a.default_security_group,p=f&&f.id,m=f&&f.name,_={name:d,id:c},g={name:m,id:p},v=void 0,h=!1,y=void 0,T=!1;if(n.csvFields){var E=n.csvFields,S=E.osp_flavor,P=E.osp_security_group;if(S){var b=o&&o.find(function(e){return e.name===S});v=b&&{name:b.name,id:b.id},h=!b}if(P){var A=i&&i.find(function(e){return e.name===P});y=A&&{name:A.name,id:A.id},T=!A}}if(l){var C=l.options.config_info.actions.find(function(e){return e.vm_id===n.id});if(C){var O=n.csvFields;if(!O||!O.osp_flavor){var M=o&&o.find(function(e){return e.id===C.osp_flavor_id});v=M&&{name:M.name,id:M.id}}if(!O||!O.osp_security_group){var R=i&&i.find(function(e){return e.id===C.osp_security_group_id});y=R&&{name:R.name,id:R.id}}}}var N=r({},n,{osp_flavor:v||_,csvInvalidFlavorWarning:h,osp_security_group:y||g,csvInvalidGroupWarning:T,target_cluster_name:a.name});u.push(N)}),e.set("isSettingSecurityGroupsAndBestFitFlavors",!1).set("instancePropertiesRows",u);case o.SET_V2V_INSTANCE_PROPERTIES_ROWS:return e.set("instancePropertiesRows",t.payload);case o.PLAN_WIZARD_EXITED:return s;case o.PLAN_WIZARD_NEXT:return e.set("recalculateBestFitFlavorAndSecurityGroup",t.payload===i.stepIDs.vmStep);default:return e}}},1902:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.instancePropertiesRowsAction=t.bestFitFlavorAction=t._bestFitFlavorActionCreator=t.setFlavorsAndSecurityGroups=t.queryTenantsWithAttributesAction=t._getTenantWithAttributesActionCreator=void 0;var r=i(n(62)),a=i(n(52)),o=n(762);function i(e){return e&&e.__esModule?e:{default:e}}var s=t._getTenantWithAttributesActionCreator=function(e,t){return function(n){return n({type:o.QUERY_V2V_OSP_TENANT_ATTRIBUTES,payload:a.default.post(e,{action:"query",resources:t.map(function(e){return{id:e}})})})}},l=(t.queryTenantsWithAttributesAction=function(e,t,n){var a=new r.default(e);return a.addSearch({expand:"resources",attributes:n.join(",")}),s(a.toString(),t)},t.setFlavorsAndSecurityGroups=function(e,t,n,r){var a=[];e.data.results.forEach(function(e){var n=e.source_href_slug.slice("vms/".length),r=e.best_fit&&e.best_fit.slice("flavors/".length),o=t.find(function(e){return e.source_href_slug==="vms/"+n}).destination_href_slug.slice("cloud_tenants/".length);a.push({vm_id:n,tenant_id:o,flavor_id:r})}),r({type:o.SET_V2V_BEST_FIT_FLAVORS_AND_DEFAULT_SECURITY_GROUPS,payload:{vmBestFitFlavors:a,editingPlan:n}})}),u=t._bestFitFlavorActionCreator=function(e,t,n){return function(r){var i={action:"vm_flavor_fit",mappings:t};return r({type:o.QUERY_V2V_OSP_BEST_FIT_FLAVOR,payload:new Promise(function(o,s){a.default.post(e,i).then(function(e){o(e),l(e,t,n,r)}).catch(function(e){s(e)})})})}};t.bestFitFlavorAction=function(e,t,n){var a=new r.default(e);return u(a.toString(),t,n)},t.instancePropertiesRowsAction=function(e){return function(t){return t({type:o.SET_V2V_INSTANCE_PROPERTIES_ROWS,payload:e})}}},1903:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(0)),o=s(n(1)),i=n(6);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.cellProps,n=e.column,o=e.sortingColumns,s=e.onSort,l=o[n.property]&&o[n.property].direction;return a.default.createElement(i.TableHeading,r({onClick:function(e){s(e,n,l)},sort:!0,sortDirection:l,"aria-label":n.header.label},t),n.header.label,n.header.children||null)};l.propTypes={cellProps:o.default.object,column:o.default.object,sortingColumns:o.default.object,onSort:o.default.func},l.defaultProps={cellProps:{},column:{},sortingColumns:{},onSort:i.noop},t.default=l},1904:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(6);var i=function(e){return a.default.createElement(o.Button,e,a.default.createElement(o.Icon,{type:"pf",name:"close"}))};i.propTypes=r({},o.Button.propTypes),t.default=i},1905:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(6);var i=function(e){return a.default.createElement(o.Button,e,a.default.createElement(o.Icon,{type:"fa",name:"check"}))};i.propTypes=r({},o.Button.propTypes),i.defaultProps=r({},o.Button.defaultProps,{bsStyle:"primary"}),t.default=i},1906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.closest=a;var r=t.matches=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function a(e){var t=this;if(document.documentElement.contains(t))for(;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentElement||t.parentNode}return null}Element.prototype.matches||(Element.prototype.matches=r),Element.prototype.closest||(Element.prototype.closest=a),t.default=a},1907:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),i=c(n(1)),s=n(6);n(1906);var l=c(n(1905)),u=c(n(1904));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),l=0;l<i;l++)s[l]=arguments[l];return n=a=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.renderChildren=function(){if(!a.props.isEditing())return a.props.children;var e=o.default.Children.toArray(a.props.children),t=e.pop(),n=o.default.Children.toArray(t.props.children),i=n.pop().props,s=(0,i.renderEdit)(i.value,i.additionalData),l=o.default.Children.toArray(s.props.children);return[].concat(d(e),[o.default.cloneElement.apply(o.default,[t,t.props].concat(d(n),[o.default.cloneElement.apply(o.default,[s,r({},s.props,{className:"inline-edit-buttons-parent"})].concat(d(l),[a.renderConfirmButtons()]))]))])},f(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"renderConfirmButtons",value:function(){var e=this,t="inline-edit-buttons "+this.props.buttonsClassName;return o.default.createElement("div",{className:t,key:"confirmButtons"},o.default.createElement(l.default,{bsStyle:"primary",key:"confirm","aria-label":this.props.messages.confirmButtonLabel,onMouseUp:function(){return e.props.onConfirm()}}),o.default.createElement(u.default,{bsStyle:"default",key:"cancel","aria-label":this.props.messages.cancelButtonLabel,onMouseUp:function(){return e.props.onCancel()}}))}},{key:"render",value:function(){var e=this.props.isEditing()?"editing":"";return[o.default.createElement("tr",{className:e,key:"tableRow"},this.renderChildren())]}}]),t}();p.shouldComponentUpdate=!0,p.defaultProps={isEditing:s.noop,onConfirm:s.noop,onCancel:s.noop,buttonsClassName:"",children:[],messages:{confirmButtonLabel:"Save",cancelButtonLabel:"Cancel"}},p.propTypes={isEditing:i.default.func,onConfirm:i.default.func,onCancel:i.default.func,buttonsClassName:i.default.string,children:i.default.oneOfType([i.default.arrayOf(i.default.node),i.default.node]),messages:i.default.shape({confirmButtonLabel:i.default.string,cancelButtonLabel:i.default.string})},t.default=p},1908:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(0)),o=s(n(1)),i=s(n(1907));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.last?"top":"bottom";return a.default.createElement(i.default,r({},e,{buttonsPosition:function(t,n){var r={};return e.last?r.bottom=t.height-n.top-1:r.top=n.bottom-1,e.tableRendersInModal?r.right=(t.width-n.width)/2+10:r.right=t.width-n.right+10,r},buttonsClassName:t}))};l.shouldComponentUpdate=!0,l.defaultProps=r({},i.default.defaultProps,{last:!1}),l.propTypes={isEditing:o.default.func,onConfirm:o.default.func,onCancel:o.default.func,last:o.default.bool,children:o.default.oneOfType([o.default.arrayOf(o.default.node),o.default.node]),messages:o.default.shape({confirmButtonLabel:o.default.string,cancelButtonLabel:o.default.string}),tableRendersInModal:o.default.bool},t.default=l},1909:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=v(n(0)),i=v(n(1)),s=v(n(473)),l=g(n(472)),u=g(n(470)),c=n(469),d=n(6),f=v(n(1908)),p=n(763),m=v(n(1903)),_=v(n(338));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),f=0;f<i;f++)u[f]=arguments[f];return n=a=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.state={sortingColumns:{name:{direction:d.Table.TABLE_SORT_DIRECTION.ASC,position:0}},editing:!1,pagination:{page:1,perPage:5,perPageOptions:[5,10,15]},pageChangeValue:1},a.customHeaderFormatters=d.Table.customHeaderFormattersDefinition,a.inlineEditController=function(){var e=a.props,t=e.rows,n=e.instancePropertiesRowsAction,o=e.input;return{isEditing:function(e){return e.rowData.id===o.value.updatedInstancePropertiesRowOnStandby.id},onActivate:function(e){var t=e.rowData;a.setState({editing:!0}),o.onChange({updatedInstancePropertiesRowOnStandby:t})},onConfirm:function(e){var i=e.rowData;a.setState({editing:!1});var s=t.map(function(e){return e.id===i.id?r({},o.value.updatedInstancePropertiesRowOnStandby,{csvInvalidFlavorWarning:!1,csvInvalidGroupWarning:!1}):e});n(s),o.onChange({updatedInstancePropertiesRowOnStandby:{}})},onCancel:function(e){e.rowData;a.setState({editing:!1}),o.onChange({updatedInstancePropertiesRowOnStandby:{}})},onChange:function(e,t){var n=t.rowData,a=t.property,i=r({},n[a],{name:e.target.options[e.target.selectedIndex].getAttribute("name"),id:e.target.value}),s=r({},o.value.updatedInstancePropertiesRowOnStandby,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},a,i));o.onChange({updatedInstancePropertiesRowOnStandby:s})}}},a.renderFlavorName=function(e,t,n){var r=a.props.bestFitFlavors;return!(0,p.allFitFlavorIdsForVM)(r,n).some(function(t){return t===e})?t+" *":t},a.renderCsvWarning=function(e,t){var n=void 0;return"osp_security_group"===e&&t.csvInvalidGroupWarning&&(n=__("The security group specified in the CSV file is invalid and has been replaced with the default security group. Edit the CSV file to include a valid security group or edit the table row to choose a different value.")),"osp_flavor"===e&&t.csvInvalidFlavorWarning&&(n=__("The flavor specified in the CSV file is invalid and has been replaced with the best fit flavor. Edit the CSV file to include a valid flavor or edit the table row to choose a different value.")),n?o.default.createElement(d.OverlayTrigger,{overlay:o.default.createElement(d.Popover,{id:"osp-csv-flavor-warning"},o.default.createElement("div",{style:{maxWidth:400}},n)),placement:"top",trigger:["click"],delay:500,rootClose:!0},o.default.createElement(d.Icon,{type:"pf",name:"warning-triangle-o",className:"clickable-icon"})):null},a.inlineEditFormatter=d.Table.inlineEditFormatterFactory({isEditing:function(e){return a.inlineEditController().isEditing(e)},renderValue:function(e,t){var n="osp_security_group"===t.property?t.rowData.osp_security_group.name:a.renderFlavorName(t.rowData.osp_flavor.id,t.rowData.osp_flavor.name,t.rowData.id);return o.default.createElement("td",{className:"editable"},o.default.createElement("span",{className:"static"},n,a.renderCsvWarning(t.property,t.rowData)))},renderEdit:function(e,t){var n=a.props,r=n.input,i=n.tenantsWithAttributesById,s=n.destinationTenantIdsBySourceClusterId,l=t.column.cell.inlineEditSelect.optionsAttribute,u=s[t.rowData.ems_cluster_id],c=u&&i[u],f=c?c[l]:[];return o.default.createElement("td",{className:"editable editing"},o.default.createElement(d.FormControl,{componentClass:"select",defaultValue:"osp_security_group"===t.property?r.value.updatedInstancePropertiesRowOnStandby.osp_security_group.id:r.value.updatedInstancePropertiesRowOnStandby.osp_flavor.id,onChange:function(e){return a.inlineEditController().onChange(e,t)}},f.map(function(e){return o.default.createElement("option",{value:e.id,name:e.name,key:e.id},function(e){return"flavors"!==l?e.name:a.renderFlavorName(e.id,e.name,t.rowData.id,c)}(e))})))}}),a.inlineEditButtonsFormatter=d.Table.inlineEditFormatterFactory({isEditing:function(e){return a.state.editing},renderValue:function(e,t){return o.default.createElement("td",{style:{padding:"2px"}},o.default.createElement(d.Button,{bsStyle:"default",onClick:function(){return a.inlineEditController().onActivate(t)}},o.default.createElement(d.Icon,{type:"pf",name:"edit"})))},renderEdit:function(e,t){return o.default.createElement("td",{style:{padding:"2px"}},o.default.createElement(d.Button,{bsStyle:"default",disabled:!0},o.default.createElement(d.Icon,{type:"pf",name:"edit"})))}}),a.getColumns=function(){var e=function(){return a.state.sortingColumns||{}},t=l.sort({getSortingColumns:e,onSort:function(e){a.setState({sortingColumns:l.byColumn({sortingColumns:a.state.sortingColumns,sortingOrder:d.Table.defaultSortingOrder,selectedColumn:e})})},strategy:l.strategies.byProperty}),n=l.header({sortableTransform:t,getSortingColumns:e,strategy:l.strategies.byProperty}),r=o.default.createElement(d.Popover,{id:"v2v-osp-flavor-info",className:"popover-with-max-width"},o.default.createElement("p",null,__("In OpenStack, flavors define the compute, memory, and storage capacity of nova computing instances.")),o.default.createElement("p",null,__("A flavor name appended with an * indicates that the flavor has CPU or memory capacity smaller than the source VM. Selecting these flavors might cause problems when the VM is migrated."))),i=o.default.createElement(_.default,null,o.default.createElement(d.OverlayTrigger,{rootClose:!0,trigger:"click",placement:"top",overlay:r},o.default.createElement(d.Button,{bsStyle:"link"},o.default.createElement(d.Icon,{type:"pf",name:"info"}))));return[{property:"name",header:{label:__("VM Name"),props:{index:0,rowSpan:1,colSpan:1},transforms:[t],formatters:[n],customFormatters:[d.Table.sortableHeaderCellFormatter]},cell:{props:{index:0},formatters:[d.Table.tableCellFormatter]}},{property:"cluster",header:{label:__("Source Cluster"),props:{index:1,rowSpan:1,colSpan:1},transforms:[t],formatters:[n],customFormatters:[d.Table.sortableHeaderCellFormatter]},cell:{props:{index:1},formatters:[d.Table.tableCellFormatter]}},{property:"target_cluster_name",header:{label:__("Target Provider"),props:{index:2,rowSpan:1,colSpan:1},transforms:[t],formatters:[n],customFormatters:[d.Table.sortableHeaderCellFormatter]},cell:{props:{index:2},formatters:[d.Table.tableCellFormatter]}},{property:"allocated_size",header:{label:__("Allocated Size"),props:{index:3,rowSpan:1,colSpan:1},transforms:[t],formatters:[n],customFormatters:[d.Table.sortableHeaderCellFormatter]},cell:{props:{index:3},formatters:[d.Table.tableCellFormatter]}},{property:"osp_security_group",header:{label:__("OpenStack Security Group"),props:{index:4,rowSpan:1,colSpan:1},transforms:[t],formatters:[n],customFormatters:[d.Table.sortableHeaderCellFormatter]},cell:{props:{index:4},formatters:[a.inlineEditFormatter],inlineEditSelect:{optionsAttribute:"security_groups"}}},{property:"osp_flavor",header:{label:__("OpenStack Flavor"),props:{index:5,rowSpan:1,colSpan:1},transforms:[t],formatters:[n],customFormatters:[m.default],children:i},cell:{props:{index:5},formatters:[a.inlineEditFormatter],inlineEditSelect:{optionsAttribute:"flavors"}}},{property:"actions",header:{label:"",props:{index:6},formatters:[d.Table.actionHeaderCellFormatter]},cell:{props:{index:6},formatters:[a.inlineEditButtonsFormatter]}}]},a.onFirstPage=function(){a.setPage(1)},a.onLastPage=function(){var e=a.state.pagination.page,t=a.totalPages();e<t&&a.setPage(t)},a.onNextPage=function(){a.state.pagination.page<a.totalPages()&&a.setPage(a.state.pagination.page+1)},a.onPageInput=function(e){a.setState({pageChangeValue:e.target.value})},a.onPerPageSelect=function(e,t){var n=r({},a.state.pagination);n.perPage=e,n.page=1,a.setState({pagination:n})},a.onPreviousPage=function(){a.state.pagination.page>1&&a.setPage(a.state.pagination.page-1)},a.onSubmit=function(){a.setPage(a.state.pageChangeValue)},a.setPage=function(e){var t=Number(e);if(!Number.isNaN(e)&&""!==e&&t>0&&t<=a.totalPages()){var n=r({},a.state.pagination);n.page=t,a.setState({pagination:n,pageChangeValue:t})}},a.currentRows=function(){var e=a.state,t=e.sortingColumns,n=e.pagination,r=a.props.rows;return(0,c.compose)((0,d.paginate)(n),l.sorter({columns:a.getColumns(),sortingColumns:t,sort:s.default,strategy:l.strategies.byProperty}))(r)},a.totalPages=function(){var e=a.props.rows,t=a.state.pagination.perPage;return Math.ceil(e.length/t)},h(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentWillUnmount",value:function(){var e=this.props,t=e.input,n={};e.rows.forEach(function(e){var t=e.id,r=e.osp_security_group,a=e.osp_flavor;n[t]={osp_security_group_id:r.id,osp_flavor_id:a.id}}),t.onChange({rows:n,updatedInstancePropertiesRowOnStandby:{}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.pagination,r=t.sortingColumns,a=t.pageChangeValue,i=this.currentRows();return o.default.createElement(d.Grid,{fluid:!0},o.default.createElement("h2",null,__("VMs Selected for Migration")),o.default.createElement("br",null),o.default.createElement(d.Table.PfProvider,{striped:!0,bordered:!0,hover:!0,dataTable:!0,inlineEdit:!0,columns:this.getColumns(),components:{header:{cell:function(t){return e.customHeaderFormatters({cellProps:t,columns:e.getColumns(),sortingColumns:r,rows:i.rows})}},body:{row:f.default}}},o.default.createElement(d.Table.Header,{headerRows:u.headerRows({columns:this.getColumns()})}),o.default.createElement(d.Table.Body,{className:"instance-properties-step-table",rows:i.rows||[],rowKey:"id",onRow:function(t,n){var r=n.rowIndex;return{role:"row",isEditing:function(){return e.inlineEditController().isEditing({rowData:t})},onCancel:function(){return e.inlineEditController().onCancel({rowData:t,rowIndex:r})},onConfirm:function(){return e.inlineEditController().onConfirm({rowData:t,rowIndex:r})},last:r===i.length-1,tableRendersInModal:!0}}})),o.default.createElement(d.PaginationRow,{viewType:d.PAGINATION_VIEW.TABLE,pagination:n,pageInputValue:a,amountOfPages:i.amountOfPages,itemCount:i.itemCount,itemsStart:i.itemsStart,itemsEnd:i.itemsEnd,onPerPageSelect:this.onPerPageSelect,onFirstPage:this.onFirstPage,onPreviousPage:this.onPreviousPage,onPageInput:this.onPageInput,onNextPage:this.onNextPage,onLastPage:this.onLastPage,onSubmit:this.onSubmit}))}}]),t}();y.propTypes={rows:i.default.array,tenantsWithAttributesById:i.default.object,destinationTenantIdsBySourceClusterId:i.default.object,instancePropertiesRowsAction:i.default.func,input:i.default.object,bestFitFlavors:i.default.array},y.defaultProps={rows:[],tenantsWithAttributesById:{},destinationTenantIdsBySourceClusterId:{}},t.default=y},1910:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=d(a),i=d(n(1)),s=n(37),l=d(n(1909)),u=n(55),c=n(763);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.selectedMapping,n=e.fetchOpenstackTenantUrl,r=e.queryOpenstackTenantAttributes,a=e.queryTenantsWithAttributesAction,o=e.vmStepSelectedVms,i=e.instancePropertiesRowsAction,s=e.bestFitFlavorAction,l=e.bestFitFlavorUrl,c=e.recalculateBestFitFlavorAndSecurityGroup,d=e.editingPlan,f=e.shouldPrefillForEditing,p=t&&t.transformation_mapping_items&&t.transformation_mapping_items.filter(function(e){return e.destination_type===u.OSP_TENANT});p&&c&&(a(n,p.map(function(e){return e.destination_id}),r).then(function(){var e=[];o.forEach(function(t){var n=p.filter(function(e){return e.source_id===t.ems_cluster_id})[0].destination_id;e.push({source_href_slug:"vms/"+t.id,destination_href_slug:"cloud_tenants/"+n})}),s(l,e,f&&d)}),i(o))}},{key:"render",value:function(){var e=this.props,t=e.isFetchingTenantsWithAttributes,n=e.tenantsWithAttributes,r=e.selectedMapping,a=e.instancePropertiesRows,i=e.isSettingSecurityGroupsAndBestFitFlavors,u=e.updatedInstancePropertiesRowOnStandby,d=e.instancePropertiesRowsAction,f=e.bestFitFlavors;if(t||i)return o.default.createElement("div",{className:"blank-slate-pf"},o.default.createElement("div",{className:"spinner spinner-lg blank-slate-pf-icon"}),o.default.createElement("h3",{className:"blank-slate-pf-main-action"},__("Loading OpenStack Properties...")));var p=(0,c.getTenantsById)(n),m=(0,c.getDestinationTenantIdsBySourceClusterId)(r.transformation_mapping_items);return o.default.createElement(s.Field,{name:"instancePropertiesVms",component:l.default,rows:a,tenantsWithAttributesById:p,destinationTenantIdsBySourceClusterId:m,updatedInstancePropertiesRowOnStandby:u,instancePropertiesRowsAction:d,bestFitFlavors:f,validate:function(e){return e.updatedInstancePropertiesRowOnStandby&&e.updatedInstancePropertiesRowOnStandby.id}})}}]),t}();f.propTypes={vmStepSelectedVms:i.default.array,selectedMapping:i.default.object,fetchOpenstackTenantUrl:i.default.string,queryOpenstackTenantAttributes:i.default.arrayOf(i.default.string),queryTenantsWithAttributesAction:i.default.func,tenantsWithAttributes:i.default.array,isFetchingTenantsWithAttributes:i.default.bool,instancePropertiesRowsAction:i.default.func,bestFitFlavorAction:i.default.func,isSettingSecurityGroupsAndBestFitFlavors:i.default.bool,updatedInstancePropertiesRowOnStandby:i.default.object,instancePropertiesRows:i.default.array,bestFitFlavorUrl:i.default.string,recalculateBestFitFlavorAndSecurityGroup:i.default.bool,bestFitFlavors:i.default.array,editingPlan:i.default.object,shouldPrefillForEditing:i.default.bool},f.defaultProps={fetchOpenstackTenantUrl:"/api/cloud_tenants",bestFitFlavorUrl:"/api/transformation_mappings",queryOpenstackTenantAttributes:["flavors","security_groups","default_security_group"]},t.default=(0,s.reduxForm)({form:"planWizardInstancePropertiesStep",initialValues:{instancePropertiesVms:{updatedInstancePropertiesRowOnStandby:{}}},destroyOnUnmount:!1})(f)},1911:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playbookSchema=void 0;var r=n(101);t.playbookSchema=(0,r.object)().shape({href:(0,r.string)().required(),id:(0,r.string)().required(),name:(0,r.string)().required(),description:(0,r.string)().nullable()})},1912:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playbooksSchema=void 0;var r=n(101),a=n(1911);t.playbooksSchema=(0,r.array)().of(a.playbookSchema).nullable()},1913:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validatePlaybooks=void 0;var r=n(323),a=n(1912);t.validatePlaybooks=function(e){(0,r.validateSchema)(a.playbooksSchema,e)}},1914:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(1913),o=n(314);var i=(0,r.default)({playbooks:[],isFetchingPlaybooks:!1,isRejectedPlaybooks:!1,errorPlaybooks:null,vms:[]});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case o.FETCH_V2V_PLAYBOOKS+"_PENDING":return e.set("isFetchingPlaybooks",!0).set("isRejectedPlaybooks",!1);case o.FETCH_V2V_PLAYBOOKS+"_FULFILLED":return(0,a.validatePlaybooks)(t.payload.data.resources),e.set("playbooks",t.payload.data.resources).set("isFetchingPlaybooks",!1).set("isRejectedPlaybooks",!1).set("errorPlaybooks",null);case o.FETCH_V2V_PLAYBOOKS+"_REJECTED":return e.set("errorPlaybooks",t.payload).set("isFetchingPlaybooks",!1).set("isRejectedPlaybooks",!0);case o.SET_V2V_ADVANCED_OPTIONS_STEP_VMS:return e.set("vms",t.payload);case o.RESET_V2V_ADVANCED_OPTIONS_STEP_VMS:return e.set("vms",[]);default:return e}}},1915:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetVmsAction=t.setVmsAction=t.fetchPlaybooksAction=t._getPlaybooksActionCreator=void 0;var r=i(n(62)),a=i(n(52)),o=n(314);function i(e){return e&&e.__esModule?e:{default:e}}var s=t._getPlaybooksActionCreator=function(e){return function(t){return t({type:o.FETCH_V2V_PLAYBOOKS,payload:a.default.get(e)})}};t.fetchPlaybooksAction=function(e){var t=new r.default(e);return s(t.toString())},t.setVmsAction=function(e){return{type:o.SET_V2V_ADVANCED_OPTIONS_STEP_VMS,payload:e}},t.resetVmsAction=function(){return{type:o.RESET_V2V_ADVANCED_OPTIONS_STEP_VMS}}},1916:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),o=n(6);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,n,a,i){var s=e.rowData,l=e.rowIndex,u=n||"select"+l,c=a||sprintf(__("Select row %s"),l.toString()),d=a.match("Pre")?"preMigration":"postMigration";return r.default.createElement(o.Table.SelectionCell,null,r.default.createElement("div",{className:"table-view-pf-select-content"},r.default.createElement(o.Table.Checkbox,{id:u,label:c,checked:s[d],onChange:function(e){t(e,s,d)},disabled:!i[d]})))};s.propTypes={rowData:a.default.object,rowIndex:a.default.number.isRequired,onSelectRow:a.default.func,id:a.default.string,label:a.default.string},s.defaultProps={rowData:{},onSelectRow:o.noop,id:"",label:""},t.default=s},1917:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(0)),o=s(n(1)),i=n(6);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.cellProps,n=e.column,o=e.rows,s=e.onSelectAllRows,l=t.id||"selectAll",u=n.property,c=n.header.label,d=o.filter(function(e){return!e[u]}).length>0,f=t.playbook,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["playbook"]);return a.default.createElement(i.Table.SelectionHeading,r({className:"with-label","aria-label":n.header.label},p),a.default.createElement("div",{className:"table-view-pf-select-content"},a.default.createElement("div",null,c),a.default.createElement(i.Table.Checkbox,{id:l,label:c,checked:!d,onChange:function(e){return s(e,u)},disabled:!f[u]})))};l.propTypes={cellProps:o.default.object,column:o.default.object,rows:o.default.array,onSelectAllRows:o.default.func},l.defaultProps={cellProps:{},column:{},rows:[],onSelectAllRows:i.noop},t.default=l},1918:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=y(n(0)),i=y(n(1)),s=y(n(473)),l=h(n(472)),u=h(n(470)),c=n(469),d=n(6),f=y(n(778)),p=y(n(777)),m=y(n(776)),_=y(n(1917)),g=y(n(1916)),v=n(314);function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}function T(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFirstPage=function(){n.setPage(1)},n.onLastPage=function(){var e=n.state.pagination.page,t=n.totalPages();e<t&&n.setPage(t)},n.onNextPage=function(){n.state.pagination.page<n.totalPages()&&n.setPage(n.state.pagination.page+1)},n.onPageInput=function(e){n.setState({pageChangeValue:e.target.value})},n.onPerPageSelect=function(e,t){var a=r({},n.state.pagination);a.perPage=e,a.page=1,n.setState({pagination:a})},n.onPreviousPage=function(){n.state.pagination.page>1&&n.setPage(n.state.pagination.page-1)},n.onSelectAllRows=function(e,a){var o=n.props,i=o.input,s=o.rows,l=o.setVmsAction,u=e.target.checked,c=n.filteredSearchedRows(),d=n.currentRows(c).rows;if(u){var f=[].concat(T(new Set([].concat(T(d.map(function(e){return e.id})),T(n.props[a])))));l(s.map(function(e){return f.indexOf(e.id)>-1?t.selectRow(e,a):e})),i.onChange(r({},i.value,E({},a,f)))}else{var p=n.props[a].filter(function(e){return!d.some(function(t){return t.id===e})});l(s.map(function(e){return p.indexOf(e.id)>-1?e:t.deselectRow(e,a)})),i.onChange(r({},i.value,E({},a,p)))}},n.onSelectRow=function(e,a,o){var i=n.props,s=i.input,l=i.rows,u=i.setVmsAction,c=l.map(function(n){return n.id===a.id?e.target.checked?t.selectRow(n,o):t.deselectRow(n,o):n}),d=e.target.checked?[].concat(T(n.props[o]),[a.id]):n.props[o].filter(function(e){return e!==a.id});u(c),s.onChange(r({},s.value,E({},o,d)))},n.onSubmit=function(){n.setPage(n.state.pageChangeValue)},n.onValueKeyPress=function(e){var t=n.state,r=t.currentValue,a=t.currentFilterType;"Enter"===e.key&&r&&r.length>0&&(n.setState({currentValue:""}),n.filterAdded(a,r),e.stopPropagation(),e.preventDefault())},n.onFindAction=function(e){n.setState({activeFilters:[],searchFilterValue:e})},n.onFindExit=function(){n.setState({searchFilterValue:""})},n.setPage=function(e){var t=Number(e);if(!Number.isNaN(e)&&""!==e&&t>0&&t<=n.totalPages()){var a=r({},n.state.pagination);a.page=t,n.setState({pagination:a,pageChangeValue:t})}},n.getColumns=function(){var e=function(){return n.state.sortingColumns||{}},t=l.sort({getSortingColumns:e,onSort:function(e){n.setState({sortingColumns:l.byColumn({sortingColumns:n.state.sortingColumns,sortingOrder:d.Table.defaultSortingOrder,selectedColumn:e})})},strategy:l.strategies.byProperty}),r=l.header({sortableTransform:t,getSortingColumns:e,strategy:l.strategies.byProperty});return[{property:"preMigration",header:{label:__("Premigration Service"),props:{index:0,rowSpan:1,colSpan:1,id:"pre_migration_select_all",playbook:{preMigration:n.props.preMigrationPlaybook}},customFormatters:[_.default]},cell:{props:{index:0},formatters:[function(e,t){var r=t.rowData,a=t.rowIndex;return(0,g.default)({rowData:r,rowIndex:a},n.onSelectRow,"pre_migration_select_"+a,sprintf(__("Pre Migration Select %s"),a),{preMigration:n.props.preMigrationPlaybook})}]}},{property:"postMigration",header:{label:__("Postmigration Service"),props:{index:1,rowSpan:1,colSpan:1,id:"post_migration_select_all",playbook:{postMigration:n.props.postMigrationPlaybook}},customFormatters:[_.default]},cell:{props:{index:1},formatters:[function(e,t){var r=t.rowData,a=t.rowIndex;return(0,g.default)({rowData:r,rowIndex:a},n.onSelectRow,"post_migration_select_"+a,sprintf(__("Post Migration Select %s"),a),{postMigration:n.props.postMigrationPlaybook})}]}},{property:"name",header:{label:__("VM Name"),props:{index:2,rowSpan:1,colSpan:1},transforms:[t],formatters:[r],customFormatters:[d.Table.sortableHeaderCellFormatter]},cell:{props:{index:2},formatters:[d.Table.tableCellFormatter]}},{property:"cluster",header:{label:__("Source Cluster"),props:{index:3,rowSpan:1,colSpan:1},transforms:[t],formatters:[r],customFormatters:[d.Table.sortableHeaderCellFormatter]},cell:{props:{index:3},formatters:[d.Table.tableCellFormatter]}}]},n.filteredSearchedRows=function(){var e=n.state,t=e.activeFilters,r=e.searchFilterValue,a=n.props.rows;return t&&t.length?(0,f.default)(t,a):r?(0,p.default)(r,a):a},n.clearFilters=function(){n.setState({activeFilters:[]})},n.removeFilter=function(e){var t=n.state.activeFilters,r=t.indexOf(e);if(r>-1){var a=[].concat(T(t.slice(0,r)),T(t.slice(r+1)));n.setState({activeFilters:a})}},n.updateCurrentValue=function(e){n.setState({currentValue:e.target.value})},n.filterAdded=function(e,t){var r=e.title+": "+t,a=[].concat(T(n.state.activeFilters),[{label:r,field:e,value:t}]);n.setState({activeFilters:a})},n.selectFilterType=function(e){n.state.currentFilterType!==e&&n.setState({currentValue:"",currentFilterType:e})},n.totalPages=function(){var e=n.props.rows,t=n.state.pagination.perPage;return Math.ceil(e.length/t)},n.currentRows=function(e){var t=n.state,r=t.sortingColumns,a=t.pagination;return(0,c.compose)((0,d.paginate)(a),l.sorter({columns:n.getColumns(),sortingColumns:r,sort:s.default,strategy:l.strategies.byProperty}))(e)},n.customHeaderFormatters=d.Table.customHeaderFormattersDefinition,n.state={filterTypes:v.FILTER_TYPES,currentFilterType:v.FILTER_TYPES[0],currentValue:"",activeFilters:[],searchFilterValue:"",sortingColumns:{name:{direction:d.Table.TABLE_SORT_DIRECTION.ASC,position:0}},pagination:{page:1,perPage:5,perPageOptions:[5,10,15]},pageChangeValue:1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,null,[{key:"deselectRow",value:function(e,t){return r({},e,E({},t,!1))}},{key:"selectRow",value:function(e,t){return r({},e,E({},t,!0))}}]),a(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.pagination,r=t.sortingColumns,a=t.pageChangeValue,i=t.activeFilters,s=t.filterTypes,l=t.currentFilterType,c=t.currentValue,f=this.props,p=f.rows,_=f.meta,g=_.pristine,v=_.error,h=f.preMigration,y=f.postMigration,T=this.filteredSearchedRows(),E=this.currentRows(T),S=o.default.createElement("tfoot",{className:"table-view-pf-footer"},o.default.createElement("tr",null,o.default.createElement("td",{className:"table-view-pf-footer-count"},sprintf(__("%s of %s selected"),h.length,p.length)),o.default.createElement("td",{className:"table-view-pf-footer-count"},sprintf(__("%s of %s selected"),y.length,p.length)),o.default.createElement("td",{className:"table-view-pf-footer-empty"}),o.default.createElement("td",{className:"table-view-pf-footer-empty"})));return o.default.createElement(d.Grid,{fluid:!0},o.default.createElement("h4",null,__("Select VMs on which to run the playbook services")),o.default.createElement(d.Toolbar,{className:"playbook-services-toolbar"},o.default.createElement(d.Filter,null,o.default.createElement(d.Filter.TypeSelector,{filterTypes:s,currentFilterType:l,onFilterTypeSelected:this.selectFilterType,id:"advanced_options_step"}),o.default.createElement(d.FormControl,{type:l.filterType,value:c,placeholder:l.placeholder,onChange:function(t){return e.updateCurrentValue(t)},onKeyPress:function(t){return e.onValueKeyPress(t)}})),o.default.createElement(d.Toolbar.RightContent,null,o.default.createElement(m.default,{placeholder:__("Find By Keyword..."),onChange:this.onFindAction,onEnter:this.onFindAction,onExit:this.onFindExit})),i&&i.length>0&&o.default.createElement(d.Toolbar.Results,null,o.default.createElement("h5",null,T.length," ",1===T.length?__("Result"):__("Results")),o.default.createElement(d.Filter.ActiveLabel,null,__("Active Filters"),":"),o.default.createElement(d.Filter.List,null,i.map(function(t,n){return o.default.createElement(d.Filter.Item,{key:n,onRemove:e.removeFilter,filterData:t},t.label)})),o.default.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),e.clearFilters()}},__("Clear All Filters")))),o.default.createElement(d.Table.PfProvider,{striped:!0,bordered:!0,hover:!0,dataTable:!0,columns:this.getColumns(),components:{header:{cell:function(t){return e.customHeaderFormatters({cellProps:t,columns:e.getColumns(),sortingColumns:r,rows:E.rows,onSelectAllRows:e.onSelectAllRows})}}}},o.default.createElement(d.Table.Header,{headerRows:u.headerRows({columns:this.getColumns()})}),o.default.createElement(d.Table.Body,{rows:E.rows||[],rowKey:"id"}),S),o.default.createElement(d.PaginationRow,{viewType:d.PAGINATION_VIEW.TABLE,pagination:n,pageInputValue:a,amountOfPages:E.amountOfPages,itemCount:E.itemCount,itemsStart:E.itemsStart,itemsEnd:E.itemsEnd,onPerPageSelect:this.onPerPageSelect,onFirstPage:this.onFirstPage,onPreviousPage:this.onPreviousPage,onPageInput:this.onPageInput,onNextPage:this.onNextPage,onLastPage:this.onLastPage,onSubmit:this.onSubmit}),o.default.createElement("br",null),g&&v)}}]),t}();S.propTypes={rows:i.default.array,input:i.default.shape({value:i.default.shape({preMigration:i.default.arrayOf(i.default.string),postMigration:i.default.arrayOf(i.default.string)}),onChange:i.default.func}),meta:i.default.shape({pristine:i.default.bool,error:i.default.string}),preMigrationPlaybook:i.default.string,postMigrationPlaybook:i.default.string,setVmsAction:i.default.func,preMigration:i.default.array,postMigration:i.default.array},S.defaultProps={rows:[],preMigration:[],postMigration:[]},t.default=S},1919:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=p(o),s=p(n(1)),l=n(37),u=n(6),c=p(n(1918)),d=n(163),f=n(462);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.onSelectChange=function(e,t){if(""===e.target.value){var a=n.props,o=a.change,i=a.setVmsAction,s=a.vms;o("playbookVms."+t,[]),i(s.map(function(e){return r({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,!1))}))}},e.pristine)e.shouldPrefillForEditing?e.setVmsAction((0,f.preselectPlaybooksForVms)(e.editingPlan,e.vmStepSelectedVms)):e.setVmsAction(e.vmStepSelectedVms);else{var a=e.vmStepSelectedVms,o=e.advancedOptionsStepForm.values.playbookVms;e.change("playbookVms",(0,f.updatePlaybookSelections)(a,o)),e.setVmsAction((0,f.applyPlaybookSelections)(a,o))}return n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchPlaybooksAction)(e.fetchPlaybooksUrl)}},{key:"render",value:function(){var e=this,t=this.props,n=t.playbooks,r=t.isFetchingPlaybooks,a=t.advancedOptionsStepForm,o=t.vms,s=t.setVmsAction;return i.default.createElement(u.Spinner,{loading:r},i.default.createElement(u.Form,{className:"playbook-selects"},i.default.createElement(l.Field,{name:"preMigrationPlaybook",component:d.BootstrapSelect,options:n,option_key:"id",option_value:"name",label:__("Select premigration playbook service (optional)"),stacked_label:!0,controlWidth:12,allowClear:!0,onChange:function(t){return e.onSelectChange(t,"preMigration")}}),i.default.createElement(l.Field,{name:"postMigrationPlaybook",component:d.BootstrapSelect,options:n,option_key:"id",option_value:"name",label:__("Select postmigration playbook service (optional)"),stacked_label:!0,controlWidth:12,allowClear:!0,onChange:function(t){return e.onSelectChange(t,"postMigration")}})),a&&a.values&&i.default.createElement(l.Field,{name:"playbookVms",component:c.default,rows:o,preMigrationPlaybook:a.values.preMigrationPlaybook,postMigrationPlaybook:a.values.postMigrationPlaybook,setVmsAction:s,preMigration:a.values.playbookVms&&a.values.playbookVms.preMigration,postMigration:a.values.playbookVms&&a.values.playbookVms.postMigration}))}}]),t}();m.propTypes={playbooks:s.default.array,isFetchingPlaybooks:s.default.bool,fetchPlaybooksAction:s.default.func,fetchPlaybooksUrl:s.default.string,advancedOptionsStepForm:s.default.object,vms:s.default.array,setVmsAction:s.default.func,vmStepSelectedVms:s.default.array,change:s.default.func,editingPlan:s.default.object,shouldPrefillForEditing:s.default.bool,pristine:s.default.bool},m.defaultProps={fetchPlaybooksUrl:"/api/service_templates/?filter[]=type='ServiceTemplateAnsiblePlaybook'&expand=resources"},t.default=(0,l.reduxForm)({form:"planWizardAdvancedOptionsStep",destroyOnUnmount:!1})(m)},1920:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(251);var o=(0,r.default)({plansBody:{}});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.V2V_SET_PLANS_BODY:return e.set("plansBody",t.payload);case a.V2V_SET_PLAN_SCHEDULE:return e.set("planSchedule",t.payload);case a.V2V_PLAN_WIZARD_SHOW_ALERT:return r.default.merge(e,t.payload);case a.V2V_PLAN_WIZARD_HIDE_ALERT:return e.set("alertText","");default:return e}}},1921:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlanWizardScheduleStep=void 0;var r=l(n(0)),a=l(n(1)),o=n(37),i=n(6),s=n(203);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.PlanWizardScheduleStep=function(e){var t=e.targetProvider,n=e.migration_plan_choice_radio;return r.default.createElement(i.Form,{className:"form-horizontal"},r.default.createElement(o.Field,{name:"migration_plan_choice_radio",label:__("Run migration plan"),component:s.FormField,type:"radio",labelWidth:"3",options:[{name:__("Save migration plan to run later"),id:"migration_plan_later"},{name:__("Start migration immediately"),id:"migration_plan_now"}],help:"openstack"===t&&"migration_plan_now"===n?r.default.createElement("div",{className:"plan-wizard-vm-power-warning"},r.default.createElement(i.Icon,{type:"pf",name:"warning-triangle-o"}),r.default.createElement("p",null,__("VMs must be powered on in order to migrate."),r.default.createElement("br",null),__("Ensure that all VMs in the Migration Plan are powered on before selecting Create."))):null}))};u.propTypes={targetProvider:a.default.string,migration_plan_choice_radio:a.default.string},t.default=(0,o.reduxForm)({form:"planWizardScheduleStep",destroyOnUnmount:!1})(u)},1922:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),a=function(e){return e&&e.__esModule?e:{default:e}}(n(1921)),o=n(135);t.default=(0,r.connect)(function(e){var t=e.overview.transformationMappings,n=e.form;return{targetProvider:(0,o.getCurrentTargetProvider)(n,t),migration_plan_choice_radio:n.planWizardScheduleStep&&n.planWizardScheduleStep.values&&n.planWizardScheduleStep.values.migration_plan_choice_radio,initialValues:{migration_plan_choice_radio:"migration_plan_later"}}})(a.default)},1923:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(0)),a=n(37),o=n(97),i=n(6),s=f(n(1)),l=n(203),u=n(163),c=n(88),d=n(809);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.transformationMappings,n=e.editingPlan,s=e.editingOrphanedPlan,d=e.showAlertAction,f=e.hideAlertAction;return r.default.createElement(i.Form,{className:"form-horizontal"},r.default.createElement(a.Field,{name:"infrastructure_mapping",label:__("Infrastructure Mapping"),required:!0,data_live_search:"true",component:u.BootstrapSelect,validate:[(0,o.required)({msg:__("Required")})],options:t,option_key:"id",option_value:"name",form_name:"planWizardGeneralStep",inline_label:!0,labelWidth:2,controlWidth:9,onChange:function(e){n&&(s||e.target.value!==n.transformation_mapping.id)?d(__("Selecting a different infrastructure mapping will cause all VM and option selections to be cleared."),"warning"):f()}}),r.default.createElement(a.Field,{name:"name",label:__("Name"),required:!0,component:l.FormField,type:"text",help:c.validation.name.help,maxLength:c.validation.name.maxLength,maxLengthWarning:c.validation.name.maxLengthWarning,validate:[(0,o.required)({msg:c.validation.name.requiredMessage})]}),r.default.createElement(a.Field,{name:"description",label:__("Description"),component:l.FormField,type:"textarea",help:c.validation.description.help,maxLength:c.validation.description.maxLength,maxLengthWarning:c.validation.description.maxLengthWarning}),r.default.createElement(a.Field,{name:"vm_choice_radio",label:__("Select VMs"),component:l.FormField,type:"radio",options:[{name:__("Choose from a list of VMs discovered in the selected infrastructure mapping"),id:"vms_via_discovery"},{name:__("Import a CSV file with a list of VMs to be migrated"),id:"vms_via_csv"}]}))};p.propTypes={transformationMappings:s.default.array,editingPlan:s.default.object,editingOrphanedPlan:s.default.bool,showAlertAction:s.default.func,hideAlertAction:s.default.func},t.default=(0,a.reduxForm)({form:"planWizardGeneralStep",destroyOnUnmount:!1,asyncValidate:d.asyncValidate,asyncBlurFields:["name"],onChange:d.onChange})(p)},1924:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),a=function(e){return e&&e.__esModule?e:{default:e}}(n(1923)),o=n(463),i=n(135);var s={showAlertAction:o.showAlertAction,hideAlertAction:o.hideAlertAction};t.default=(0,r.connect)(function(e){var t=e.overview,n=e.planWizard,r=(0,i.findEditingPlan)(t.transformationPlans,t.editingPlanId),a=r&&r.options&&r.options.config_info&&r.options.config_info.transformation_mapping_id,o=a&&t.transformationMappings.some(function(e){return e.id===a});return{transformationMappings:t.transformationMappings,transformationPlans:t.transformationPlans,archivedTransformationPlans:t.archivedTransformationPlans,initialValues:{infrastructure_mapping:o&&a||t.planWizardId,vm_choice_radio:"vms_via_discovery",name:r?r.name:"",description:r?r.description:""},enableReinitialize:!0,keepDirtyOnReinitialize:!0,editingPlan:r,editingOrphanedPlan:a&&!o,alertType:n&&n.alertType}},s)(a.default)},1925:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),i=u(n(1)),s=n(6),l=u(n(483));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return JSON.stringify(this.props)!==JSON.stringify(e)}},{key:"componentWillUnmount",value:function(){(0,this.props.hideAlertAction)()}},{key:"render",value:function(){var e=this.props.wizardSteps;return o.default.createElement(l.default.Body,r({},this.props,{loadingTitle:__("Loading Migration Plans..."),loadingMessage:__("This may take a minute."),stepButtonsDisabled:!0,steps:e}))}}]),t}();c.propTypes={wizardSteps:i.default.arrayOf(i.default.object).isRequired,loaded:i.default.bool,activeStepIndex:i.default.number,activeStep:i.default.string,goToStep:i.default.func,disableNextStep:i.default.bool,plansBody:i.default.object,hideAlertAction:i.default.func},c.defaultProps={loaded:!1,activeStepIndex:0,activeStep:"1",goToStep:s.noop,disableNextStep:!0,plansBody:{},hideAlertAction:s.noop},t.default=c},1926:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createMigrationPlans=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=e.values.name,i=e.values.description,s=e.values.infrastructure_mapping,l=t.values.selectedVms,u=n.values&&n.values.instancePropertiesVms.rows,c=r.values,d=c.playbookVms,f=d.preMigration,p=d.postMigration,m=c.preMigrationPlaybook,_=c.postMigrationPlaybook,g=l.map(function(e){return{vm_id:e,pre_service:f.includes(e),post_service:p.includes(e),osp_security_group_id:u&&u[e].osp_security_group_id,osp_flavor_id:u&&u[e].osp_flavor_id}});return{name:o,description:i,prov_type:a?"transformation_plan":"generic_transformation_plan",config_info:{transformation_mapping_id:s,pre_service_id:m,post_service_id:_,actions:g}}}},1927:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=_(n(0)),i=_(n(1)),s=n(6),l=n(1926),u=_(n(1925)),c=n(55),d=_(n(175)),f=_(n(1924)),p=_(n(1922)),m=n(251);function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),_=0;_<i;_++)u[_]=arguments[_];return n=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.planWizardVMStepContainer=d.default.markup("PlanWizardVMStepContainer"),a.planWizardResultsStepContainer=d.default.markup("PlanWizardResultsStepContainer"),a.planWizardAdvancedOptionsStepContainer=d.default.markup("PlanWizardAdvancedOptionsStepContainer"),a.planWizardInstancePropertiesStepContainer=d.default.markup("PlanWizardInstancePropertiesStepContainer"),a.state={activeStepIndex:0},a.getWizardSteps=function(){var e=a.props,t=e.planWizardGeneralStep,n=e.transformationMappings,r={id:m.stepIDs.generalStep,title:__("General"),render:function(){return o.default.createElement(f.default,null)},disableGoto:!a.props.planWizardGeneralStep.values},i={id:m.stepIDs.vmStep,title:__("VMs"),render:function(){return a.planWizardVMStepContainer},disableGoto:!a.props.planWizardVMStep.values},s={id:m.stepIDs.instancePropertiesStep,title:__("Instance Properties"),render:function(){return a.planWizardInstancePropertiesStepContainer},disableGoto:!0},l={id:m.stepIDs.advancedOptionsStep,title:__("Advanced Options"),render:function(){return a.planWizardAdvancedOptionsStepContainer},disableGoto:!0},u={id:m.stepIDs.scheduleStep,title:__("Schedule"),render:function(){return o.default.createElement(p.default,null)},disableGoto:!0},d={id:m.stepIDs.resultsStep,title:__("Results"),render:function(){return a.planWizardResultsStepContainer},disableGoto:!0},_=t&&t.values&&t.values.infrastructure_mapping,g=n.find(function(e){return e.id===_});return g&&g.transformation_mapping_items&&g.transformation_mapping_items.some(function(e){return e.destination_type===c.OSP_TENANT})?[r,i,s,l,u,d]:[r,i,l,u,d]},a.getActiveWizardStep=function(){var e=a.state.activeStepIndex;return a.getWizardSteps()[e]},a.prevStep=function(){var e=a.props,t=e.resetVmStepAction,n=e.setMetadataWithBackButtonClickedAction,r=a.state.activeStepIndex,o=a.getActiveWizardStep();n(o.id),o.id===m.stepIDs.vmStep&&t(),a.setState({activeStepIndex:Math.max(r-1,0)})},a.nextStep=function(){var e=a.state.activeStepIndex,t=a.props,n=t.planWizardGeneralStep,i=t.planWizardVMStep,u=t.planWizardInstancePropertiesStep,d=t.planWizardAdvancedOptionsStep,f=t.planWizardScheduleStep,p=t.setPlansBodyAction,_=t.setPlanScheduleAction,g=t.setMigrationsFilterAction,v=t.showConfirmModalAction,h=t.hideConfirmModalAction,y=t.showAlertAction,T=t.hideAlertAction,E=t.setMetadataWithNextButtonClickedAction,S=t.editingPlan,P=a.getWizardSteps(),b=P[e];if(E(b.id),b.id===m.stepIDs.generalStep){if(n.asyncErrors)return void y(sprintf(__("Name %s already exists"),n.values.name));if(T(),S&&"vms_via_csv"===n.values.vm_choice_radio)return void v(r({},m.overwriteCsvConfirmModalProps,{onConfirm:function(){h(),a.goToStepId(m.stepIDs.vmStep)}}))}if(b.id===m.stepIDs.advancedOptionsStep&&(d.values.preMigrationPlaybook&&0===d.values.playbookVms.preMigration.length||d.values.postMigrationPlaybook&&0===d.values.playbookVms.postMigration.length)){v({title:__("No VMs Selected"),body:__("You've selected a premigration or postmigration playbook service but no VMs on which to run the playbook service. Are you sure you want to continue?"),icon:o.default.createElement(s.Icon,{className:"confirm-warning-icon",type:"pf",name:"warning-triangle-o"}),confirmButtonLabel:__("Continue"),dialogClassName:"plan-wizard-confirm-modal",backdropClassName:"plan-wizard-confirm-backdrop",onConfirm:function(){a.goToStepId(m.stepIDs.scheduleStep),h()}})}else if(b.id===m.stepIDs.scheduleStep){var A=!!S,C=(0,l.createMigrationPlans)(n,i,u,d,A);_(f.values.migration_plan_choice_radio),p(C),"migration_plan_now"===f.values.migration_plan_choice_radio?g(c.MIGRATIONS_FILTERS.inProgress):"migration_plan_later"===f.values.migration_plan_choice_radio&&g(c.MIGRATIONS_FILTERS.notStarted),a.goToStepId(m.stepIDs.resultsStep)}else a.goToStep(Math.min(e+1,P.length-1))},a.goToStep=function(e){a.setState({activeStepIndex:e})},a.goToStepId=function(e){var t=a.getWizardSteps().findIndex(function(t){return t.id===e});t&&a.goToStep(t)},g(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.hidePlanWizard,n=e.hidePlanWizardAction,r=e.planWizardExitedAction,a=e.alertText,i=e.alertType,l=e.hideAlertAction,c=e.editingPlan,d=this.getWizardSteps(),f=this.state,p=f.activeStepIndex,_=f.plansBody,g=(p+1).toString(),v=0===p,h=p===d.length-1,y=!h&&d[p].id,T=!h&&this.props[y],E=T&&(!!T.syncErrors||!!T.asyncErrors),S=!h&&E||y===m.stepIDs.vmStep&&(!this.props.planWizardVMStep.values||!this.props.planWizardVMStep.values.selectedVms||0===this.props.planWizardVMStep.values.selectedVms.length),P=c?__("Save"):__("Create"),b=c?__("Edit Migration Plan"):__("Create Migration Plan");return o.default.createElement(s.Wizard,{show:!t,onClose:n,onExited:r,backdrop:"static"},o.default.createElement(s.Wizard.Header,{onClose:n,title:b}),o.default.createElement(s.Wizard.Body,null,o.default.createElement(u.default,{wizardSteps:d,loaded:!0,activeStepIndex:p,activeStep:g,goToStep:this.goToStep,disableNextStep:S,plansBody:_,alertText:a,alertType:i,hideAlertAction:l})),o.default.createElement(s.Wizard.Footer,{className:"wizard-pf-footer"},o.default.createElement(s.Button,{bsStyle:"default",className:"btn-cancel",onClick:n,disabled:h},__("Cancel")),o.default.createElement(s.Button,{bsStyle:"default",onClick:this.prevStep,disabled:v||h},o.default.createElement(s.Icon,{type:"fa",name:"angle-left"}),__("Back")),o.default.createElement(s.Button,{bsStyle:"primary",onClick:h?n:this.nextStep,disabled:S},h?__("Close"):y===m.stepIDs.scheduleStep?P:__("Next"),!h&&o.default.createElement(s.Icon,{type:"fa",name:"angle-right"}))))}}]),t}();v.propTypes={hidePlanWizard:i.default.bool,hidePlanWizardAction:i.default.func,planWizardExitedAction:i.default.func,planWizardGeneralStep:i.default.object,planWizardVMStep:i.default.object,planWizardInstancePropertiesStep:i.default.object,planWizardAdvancedOptionsStep:i.default.object,planWizardScheduleStep:i.default.object,transformationMappings:i.default.array,setPlansBodyAction:i.default.func,setPlanScheduleAction:i.default.func,resetVmStepAction:i.default.func,setMigrationsFilterAction:i.default.func,showConfirmModalAction:i.default.func,hideConfirmModalAction:i.default.func,showAlertAction:i.default.func,hideAlertAction:i.default.func,alertText:i.default.string,alertType:i.default.string,setMetadataWithBackButtonClickedAction:i.default.func,setMetadataWithNextButtonClickedAction:i.default.func,editingPlan:i.default.object},v.defaultProps={hidePlanWizard:!0,hidePlanWizardAction:s.noop,planWizardExitedAction:s.noop,planWizardGeneralStep:{},planWizardVMStep:{},planWizardInstancePropertiesStep:{},planWizardAdvancedOptionsStep:{},planWizardScheduleStep:{},transformationMappings:[],setPlansBodyAction:s.noop,setPlanScheduleAction:s.noop,resetVmStepAction:s.noop,showAlertAction:s.noop,hideAlertAction:s.noop,alertText:void 0,alertType:void 0},t.default=v},1928:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(767);var o=(0,r.default)({isPostingPlans:!1,isRejectedPostingPlans:!1,errorPostingPlans:null,migrationPlansResult:{},isPuttingPlans:!1,isRejectedPuttingPlans:!1,errorPuttingPlans:null});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.POST_V2V_MIGRATION_PLANS+"_PENDING":return e.set("isPostingPlans",!0);case a.POST_V2V_MIGRATION_PLANS+"_FULFILLED":return e.set("migrationPlansResult",t.payload.data).set("isRejectedPostingPlans",!1).set("isPostingPlans",!1);case a.POST_V2V_MIGRATION_PLANS+"_REJECTED":return e.set("errorPostingPlans",t.payload).set("isRejectedPostingPlans",!0).set("isPostingPlans",!1);case a.PUT_V2V_MIGRATION_PLANS+"_PENDING":return e.set("isPuttingPlans",!0);case a.PUT_V2V_MIGRATION_PLANS+"_FULFILLED":return e.set("migrationPlansResult",t.payload).set("isRejectedPuttingPlans",!1).set("isPuttingPlans",!1);case a.PUT_V2V_MIGRATION_PLANS+"_REJECTED":return e.set("errorPuttingPlans",t.payload).set("isRejectedPuttingPlans",!0).set("isPuttingPlans",!1);case a.POST_V2V_MIGRATION_REQUESTS+"_PENDING":return e.set("isPostingRequests",!0);case a.POST_V2V_MIGRATION_REQUESTS+"_FULFILLED":return e.set("migrationRequestsResult",t.payload.data).set("isRejectedPostingRequests",!1).set("isPostingRequests",!1);case a.POST_V2V_MIGRATION_REQUESTS+"_REJECTED":return e.set("errorPostingRequests",t.payload).set("isRejectedPostingRequests",!0).set("isPostingRequests",!1);default:return e}}},1929:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editMigrationPlansAction=t.postMigrationPlansAction=t.hidePlanWizardAction=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(463);Object.defineProperty(t,"hidePlanWizardAction",{enumerable:!0,get:function(){return a.hidePlanWizardAction}});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(52)),i=n(767);var s=function(e,t){t({type:i.POST_V2V_MIGRATION_REQUESTS,payload:new Promise(function(t,n){o.default.post(""+e.data.results[0].href,{action:"order"}).then(function(e){t(e)}).catch(function(e){return n(e)})})})};t.postMigrationPlansAction=function(e,t,n){return function(e,t,n){return function(r){return r({type:i.POST_V2V_MIGRATION_PLANS,payload:new Promise(function(a,i){o.default.post(e,t).then(function(e){a(e),"migration_plan_now"===n&&s(e,r)}).catch(function(e){return i(e)})})})}}(e,t,n)},t.editMigrationPlansAction=function(e,t,n,a){return function(e,t,n,a){return function(l){var u={action:"edit",resource:r({},n)};return l({type:i.PUT_V2V_MIGRATION_PLANS,payload:new Promise(function(n,r){o.default.post(e+"/"+t,u).then(function(e){n(e),"migration_plan_now"===a&&s(e,l)}).catch(function(e){return r(e)})})})}}(e,t,n,a)}},1930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.planHasBeenEdited=function(e,t,n){var r=JSON.stringify(e.options.config_info),a=JSON.stringify(t.config_info);return"migration_plan_now"===n||e.name!==t.name||e.description!==t.description||r!==a}},1931:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(0)),o=c(n(1)),i=n(6),s=n(1930),l=c(n(482)),u=c(n(481));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.renderResult=function(e,t,n,r){return a.default.createElement("div",{className:"wizard-pf-complete blank-slate-pf"},a.default.createElement("div",{className:"modal-wizard-results-grey-icon"},a.default.createElement("span",{className:n})),a.default.createElement("h3",{className:"blank-slate-pf-main-action",id:"migration-plan-results-message"},e),a.default.createElement("p",{className:"blank-slate-pf-secondary-action"},t),r&&a.default.createElement("div",{className:"plan-wizard-vm-power-warning"},a.default.createElement(i.Icon,{type:"pf",name:"warning-triangle-o"}),a.default.createElement("p",null,__("VMs must be powered on in order to migrate."),a.default.createElement("br",null),__("Ensure that all VMs in the Migration Plan are powered on before starting migration."))))},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.postPlansUrl,n=e.postMigrationPlansAction,r=e.editPlansUrl,a=e.editMigrationPlansAction,o=e.plansBody,i=e.planSchedule,l=e.editingPlan;l?(0,s.planHasBeenEdited)(l,o,i)&&a(r,l.id,o,i):n(t,o,i)}},{key:"render",value:function(){var e=this.props,t=e.isPostingPlans,n=e.isRejectedPostingPlans,r=e.isPuttingPlans,o=e.isRejectedPuttingPlans,i=e.migrationPlansResult,s=e.migrationRequestsResult,c=e.errorPostingPlans,d=e.errorPuttingPlans,f=e.plansBody,p=e.planSchedule,m=e.hidePlanWizardAction,_=e.targetProvider;if(t)return a.default.createElement(l.default,{title:__("Creating Migration Plan..."),message:__("Please wait while the migration plan is created.")});if(n){var g=c&&c.data,v=g&&g.error&&g.error.message;return a.default.createElement(u.default,{title:__("Error Creating Migration Plan"),message:v,onClose:m})}if(r)return a.default.createElement(l.default,{title:__("Saving Migration Plan..."),message:__("Please wait while the migration plan is saved.")});if(o){var h=d&&d.data,y=h&&h.error&&h.error.message;return a.default.createElement(u.default,{title:__("Error Saving Migration Plan"),message:y,onClose:m})}if("migration_plan_later"===p&&i){var T=sprintf(__(" Migration Plan: '%s' has been saved"),f.name),E=__("Select Migrate on the Migration Plans page to begin migration"),S="openstack"===_;return this.renderResult(T,E,"pficon pficon-ok",S)}if("migration_plan_now"===p&&i&&s){var P=sprintf(__(" Migration Plan: '%s' is in progress"),f.name),b=__("This may take a long time. Progress of the plan will be shown in the Migration area");return this.renderResult(P,b,"fa fa-clock-o")}return null}}]),t}();f.propTypes={postPlansUrl:o.default.string,editPlansUrl:o.default.string,postMigrationPlansAction:o.default.func,editMigrationPlansAction:o.default.func,plansBody:o.default.object,planSchedule:o.default.string,isPostingPlans:o.default.bool,isRejectedPostingPlans:o.default.bool,errorPostingPlans:o.default.object,isPuttingPlans:o.default.bool,isRejectedPuttingPlans:o.default.bool,errorPuttingPlans:o.default.object,migrationPlansResult:o.default.object,migrationRequestsResult:o.default.object,hidePlanWizardAction:o.default.func,editingPlan:o.default.object,targetProvider:o.default.string},f.defaultProps={postPlansUrl:"/api/service_templates",editPlansUrl:"/api/service_templates",postMigrationPlansAction:i.noop,editMigrationPlansAction:i.noop,plansBody:{},planSchedule:"",isPostingPlans:!0,isRejectedPostingPlans:!1,errorPostingPlans:null,migrationPlansResult:null,migrationRequestsResult:null,hidePlanWizardAction:i.noop},t.default=f},1932:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(315),o=n(769);function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=t.initialState=(0,r.default)({isValidatingVms:!1,numPendingValidationRequests:0,isRejectedValidatingVms:!1,validationServiceCalled:!1,errorValidatingVms:null,valid_vms:[],invalid_vms:[],conflict_vms:[],isQueryingVms:!1,isVmsQueryRejected:!1,vmsQueryError:null});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.V2V_VALIDATE_VMS+"_PENDING":return e.set("isValidatingVms",!0).set("isRejectedValidatingVms",!1).set("numPendingValidationRequests",e.numPendingValidationRequests+1);case a.V2V_VALIDATE_VMS+"_FULFILLED":var n=t.payload,r=t.meta,l=e.numPendingValidationRequests-1;if(n&&n.data){var u=(0,o._formatValidVms)(n.data.valid,r)||[],c=(0,o._formatInvalidVms)(n.data.invalid,r)||[],d=(0,o._formatConflictVms)(n.data.conflicted,r)||[];return e.set("valid_vms",r.combineRequests?[].concat(i(e.valid_vms),i(u)):u).set("invalid_vms",r.combineRequests?[].concat(i(e.invalid_vms),i(c)):c).set("conflict_vms",r.combineRequests?[].concat(i(e.conflict_vms),i(d)):d).set("validationServiceCalled",!0).set("isRejectedValidatingVms",!1).set("isValidatingVms",l>0).set("numPendingValidationRequests",l)}return e.set("valid_vms",[]).set("invalid_vms",[]).set("conflict_vms",[]).set("isRejectedValidatingVms",!1).set("isValidatingVms",l>0).set("numPendingValidationRequests",l);case a.V2V_VALIDATE_VMS+"_REJECTED":var f=e.numPendingValidationRequests-1;return e.set("errorValidatingVms",t.payload).set("isRejectedValidatingVms",!0).set("isValidatingVms",f>0).set("numPendingValidationRequests",f).set("isCSVParseError",!1);case a.V2V_VALIDATE_VMS+"_CSV_PARSE_ERROR":return e.set("errorParsingCSV",t.payload).set("isRejectedValidatingVms",!0).set("isCSVParseError",!0).set("isValidatingVms",!1);case a.QUERY_V2V_PLAN_VMS+"_PENDING":return e.set("isQueryingVms",!0).set("isVmsQueryRejected",!1).set("vmsQueryError",null);case a.QUERY_V2V_PLAN_VMS+"_FULFILLED":var p=t.payload;return p&&p.data,e.set("isQueryingVms",!1).set("isVmsQueryRejected",!1).set("vmsQueryError",null);case a.QUERY_V2V_PLAN_VMS+"_REJECTED":return e.set("isQueryingVms",!1).set("isVmsQueryRejected",!0).set("vmsQueryError",t.payload);case a.V2V_VM_STEP_RESET:return e.set("validationServiceCalled",!1).set("valid_vms",[]).set("invalid_vms",[]).set("conflict_vms",[]).set("isRejectedValidatingVms",!1).set("isValidatingVms",!1);default:return e}}},1933:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryPreselectedVmsAction=t.csvParseErrorAction=t.csvImportAction=t.validateVmsAction=t.hideConfirmModalAction=t.showConfirmModalAction=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(258);Object.defineProperty(t,"showConfirmModalAction",{enumerable:!0,get:function(){return a.showConfirmModalAction}}),Object.defineProperty(t,"hideConfirmModalAction",{enumerable:!0,get:function(){return a.hideConfirmModalAction}});var o=n(37),i=u(n(62)),s=u(n(52)),l=n(315);function u(e){return e&&e.__esModule?e:{default:e}}t.validateVmsAction=function(e,t,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return function(e,t,n,a){return function(o){var i={action:"validate_vms",import:t};return n&&(i=r({},i,{service_template_id:n})),o({type:l.V2V_VALIDATE_VMS,payload:new Promise(function(t,n){s.default.post(e,i).then(function(e){t(e)}).catch(function(e){n(e)})}),meta:r({},a,{csvRows:t})})}}(new i.default(e+"/"+t).toString(),n,a,o)},t.csvImportAction=function(){return function(e){e({type:l.V2V_VM_STEP_RESET}),e((0,o.reset)("planWizardVMStep"))}},t.csvParseErrorAction=function(e){return function(t){t({type:l.V2V_VALIDATE_VMS+"_CSV_PARSE_ERROR",payload:e})}},t.queryPreselectedVmsAction=function(e){return function(e){return function(t){var n=e.map(function(e){return{id:e}});return t({type:l.QUERY_V2V_PLAN_VMS,payload:s.default.post("/api/vms?expand=resources&attributes=name,ems_cluster.name,ems_cluster.id,allocated_disk_storage,ext_management_system.name,v_parent_blue_folder_display_path",{action:"query",resources:n})})}}(e)}},1946:function(e,t){},1948:function(e,t){},1953:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(0)),i=f(n(1)),s=f(n(1952)),l=f(n(1934)),u=n(6),c=f(n(799)),d=f(n(7));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onFileDrop=function(e,t){e&&e.length>0?a.handleUnparsedFile(e[0]):alert(__("Invalid file extension. Only .csv files are accepted."))},a.handleUnparsedFile=function(e){var t=a.props,n=t.onCSVParseSuccess,o=t.onCSVParseFailure;if(e){var i=new FileReader;i.onload=function(){s.default.parse(i.result,function(e,t){if(t&&t.length>0){t=a.trimWhiteSpaces(t);var i=a.mapCSVColumnNameToKey(t[0]);if(!i.find(function(e){return"name"===e}))return void o(__("Error: Required column 'Name' does not exist in the .CSV file"));var s=t.map(function(e){return i.reduce(function(t,n,a){return r({},t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,e[a]))},{})});n(s)}else o(e?""+e:__("Error: Possibly a blank .CSV file"))})},i.readAsBinaryString(e)}},a.trimWhiteSpaces=function(e){return e.map(function(e){return e.map(function(e){return l.default.decode(e).trim()})})},a.mapCSVColumnNameToKey=function(e){return e[e.findIndex(function(e){return e===__("Name")})]="name",e[e.findIndex(function(e){return e===__("Host")})]="host",e[e.findIndex(function(e){return e===__("Provider")})]="provider",e[e.findIndex(function(e){return e===__("UID")})]="uid_ems",e[e.findIndex(function(e){return e===__("Security Group")})]="osp_security_group",e[e.findIndex(function(e){return e===__("Flavor")})]="osp_flavor",e},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){return o.default.createElement(c.default,{accept:".csv",onDrop:this.onFileDrop,onClick:function(e){return e.preventDefault()}},function(e){var t=e.getRootProps,n=e.getInputProps,a=e.isDragActive,i=e.open;return o.default.createElement("div",r({},t(),{className:(0,d.default)("csv-upload-dropzone",{active:a})}),o.default.createElement("input",n()),o.default.createElement(u.EmptyState,null,o.default.createElement(u.EmptyState.Icon,{type:"pf",name:"import"}),o.default.createElement(u.EmptyState.Title,null,__("Import File")),o.default.createElement(u.EmptyState.Info,null,__("Import a file including a list of VMs to be migrated.")),o.default.createElement(u.EmptyState.Action,null,o.default.createElement(u.Button,{bsStyle:"primary",onClick:i},__("Import")))))})}}]),t}();m.propTypes={onCSVParseSuccess:i.default.func,onCSVParseFailure:i.default.func},t.default=m},1954:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),o=n(6);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,n,a){var i=e.rowData,s=e.rowIndex,l=i.invalid||i.conflict,u=n||"select"+s,c=a||sprintf(__("Select row %s"),s.toString());return r.default.createElement(o.Table.SelectionCell,null,r.default.createElement(o.Table.Checkbox,{id:u,label:c,checked:i.selected&&!l,onChange:function(e){t(e,i)},disabled:l}))};s.propTypes={rowData:a.default.object,rowIndex:a.default.number.isRequired,onSelectRow:a.default.func,id:a.default.string,label:a.default.string},s.defaultProps={rowData:{},onSelectRow:o.noop,id:"",label:""},t.default=s},1955:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(0)),o=s(n(1)),i=n(6);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.cellProps,n=e.column,o=e.rows,s=e.onSelectAllRows,l=o.filter(function(e){return e.invalid||e.conflict}).length>0,u=o.filter(function(e){return!e.selected}).length>0,c=t.id||"selectAll";return a.default.createElement(i.Table.SelectionHeading,r({"aria-label":n.header.label},t),a.default.createElement(i.Table.Checkbox,{id:c,label:n.header.label,checked:!u&&!l,onChange:s,disabled:l}))};l.propTypes={cellProps:o.default.object,column:o.default.object,rows:o.default.array,onSelectAllRows:o.default.func},l.defaultProps={cellProps:{},column:{},rows:[],onSelectAllRows:i.noop},t.default=l},1978:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=y(n(0)),i=y(n(1)),s=y(n(473)),l=y(n(7)),u=h(n(472)),c=h(n(470)),d=n(469),f=n(6),p=y(n(778)),m=y(n(777)),_=y(n(776)),g=y(n(1955)),v=y(n(1954));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}function T(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));S.call(n);var r=n.props,a=r.input,i=r.rows,s=r.initialSelectedRows;s.length&&a.onChange(s);var l=function(){return n.state.sortingColumns||{}},c=u.sort({getSortingColumns:l,onSort:function(e){n.setState({sortingColumns:u.byColumn({sortingColumns:n.state.sortingColumns,sortingOrder:f.Table.defaultSortingOrder,selectedColumn:e})})},strategy:u.strategies.byProperty}),d=u.header({sortableTransform:c,getSortingColumns:l,strategy:u.strategies.byProperty});n.customHeaderFormatters=f.Table.customHeaderFormattersDefinition;var p=[{id:"name",title:__("VM Name"),placeholder:__("Filter by VM Name"),filterType:"text"},{id:"datacenter",title:__("Datacenter"),placeholder:__("Filter by Datacenter"),filterType:"text"},{id:"cluster",title:__("Cluster"),placeholder:__("Filter by Cluster"),filterType:"text"},{id:"folder",title:__("Folder"),placeholder:__("Filter by Folder"),filterType:"text"}];return n.state={filterTypes:p,currentFilterType:p[0],currentValue:"",activeFilters:[],searchFilterValue:"",sortingColumns:{name:{direction:f.Table.TABLE_SORT_DIRECTION.ASC,position:0}},columns:[{property:"select",header:{label:__("Select"),props:{index:0,rowSpan:1,colSpan:1,id:"select"},customFormatters:[g.default]},cell:{props:{index:0},formatters:[function(e,t){var r=t.rowData,a=t.rowIndex;return(0,v.default)({rowData:r,rowIndex:a},n.onSelectRow,"select"+a,"select "+a)}]}},{property:"reason",header:{label:"",props:{index:1,rowSpan:1,colSpan:1},transforms:[c],customFormatters:[f.Table.sortableHeaderCellFormatter]},cell:{props:{index:1},formatters:[function(e,t){var n=t.rowData;return o.default.createElement("span",null,o.default.createElement(f.OverlayTrigger,{overlay:o.default.createElement(f.Popover,{id:"Popover"},e),placement:"right",trigger:["click"],rootClose:!0},o.default.createElement(f.Button,{bsStyle:"link"},o.default.createElement(f.Icon,{type:"pf",name:n.valid?"ok":n.warning?"warning-triangle-o":"error-circle-o"}))))},f.Table.tableCellFormatter]}},{property:"name",header:{label:__("VM Name"),props:{index:2,rowSpan:1,colSpan:1},transforms:[c],formatters:[d],customFormatters:[f.Table.sortableHeaderCellFormatter]},cell:{props:{index:2},formatters:[f.Table.tableCellFormatter]}},{property:"datacenter",header:{label:__("Datacenter"),props:{index:3,rowSpan:1,colSpan:1},transforms:[c],formatters:[d],customFormatters:[f.Table.sortableHeaderCellFormatter]},cell:{props:{index:3},formatters:[f.Table.tableCellFormatter]}},{property:"cluster",header:{label:__("Cluster"),props:{index:4,rowSpan:1,colSpan:1},transforms:[c],formatters:[d],customFormatters:[f.Table.sortableHeaderCellFormatter]},cell:{props:{index:4},formatters:[f.Table.tableCellFormatter]}},{property:"folder",header:{label:__("Folder"),props:{index:5,rowSpan:1,colSpan:1},transforms:[c],formatters:[d],customFormatters:[f.Table.sortableHeaderCellFormatter]},cell:{props:{index:5},formatters:[f.Table.tableCellFormatter]}}],rows:i,selectedRows:s,pagination:{page:1,perPage:10,perPageOptions:[5,10,15]},pageChangeValue:1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,null,[{key:"deselectRow",value:function(e){return r({},e,{selected:!1})}},{key:"selectRow",value:function(e){return r({},e,{selected:!0})}}]),a(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.columns,r=t.pagination,a=t.sortingColumns,i=t.pageChangeValue,s=t.activeFilters,l=t.filterTypes,u=t.currentFilterType,d=t.currentValue,p=this.props,m=p.discoveryMode,g=p.onCsvImportAction,v=p.input.value,h=p.meta,y=h.pristine,T=h.error,E=this.filteredSearchedRows(),S=this.currentRows(E);return o.default.createElement(f.Grid,{fluid:!0},o.default.createElement("h2",null,__("Select VMs to be Migrated")),o.default.createElement(f.Toolbar,null,o.default.createElement(f.Filter,null,o.default.createElement(f.Filter.TypeSelector,{filterTypes:l,currentFilterType:u,onFilterTypeSelected:this.selectFilterType,id:"vms_step"}),o.default.createElement(f.FormControl,{type:u.filterType,value:d,placeholder:u.placeholder,onChange:function(t){return e.updateCurrentValue(t)},onKeyPress:function(t){return e.onValueKeyPress(t)},className:"large-filter-input"})),!m&&o.default.createElement("div",{className:"form-group"},o.default.createElement(f.Button,{onClick:g},o.default.createElement(f.Icon,{type:"pf",name:"import"})," Import CSV")),o.default.createElement(f.Toolbar.RightContent,null,o.default.createElement(_.default,{placeholder:__("Find By Keyword..."),onChange:this.onFindAction,onEnter:this.onFindAction,onExit:this.onFindExit})),s&&s.length>0&&o.default.createElement(f.Toolbar.Results,null,o.default.createElement("h5",null,E.length," ",1===E.length?__("Result"):__("Results")),o.default.createElement(f.Filter.ActiveLabel,null,__("Active Filters"),":"),o.default.createElement(f.Filter.List,null,s.map(function(t,n){return o.default.createElement(f.Filter.Item,{key:n,onRemove:e.removeFilter,filterData:t},t.label)})),o.default.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),e.clearFilters()}},__("Clear All Filters")))),o.default.createElement("br",null),o.default.createElement(f.Table.PfProvider,{striped:!0,bordered:!0,hover:!0,dataTable:!0,columns:n,components:{header:{cell:function(t){return e.customHeaderFormatters({cellProps:t,columns:n,sortingColumns:a,rows:S.rows,onSelectAllRows:e.onSelectAllRows})}}}},o.default.createElement(f.Table.Header,{headerRows:c.headerRows({columns:n})}),o.default.createElement(f.Table.Body,{rows:S.rows||[],rowKey:"id",onRow:this.onRow})),o.default.createElement(f.PaginationRow,{viewType:f.PAGINATION_VIEW.TABLE,pagination:r,pageInputValue:i,amountOfPages:S.amountOfPages,itemCount:S.itemCount,itemsStart:S.itemsStart,itemsEnd:S.itemsEnd,onPerPageSelect:this.onPerPageSelect,onFirstPage:this.onFirstPage,onPreviousPage:this.onPreviousPage,onPageInput:this.onPageInput,onNextPage:this.onNextPage,onLastPage:this.onLastPage,onSubmit:this.onSubmit}),o.default.createElement("br",null),!T&&v&&sprintf(__("%s VMs selected."),v.length),y&&T)}}]),t}(),S=function(){var e=this;this.onFirstPage=function(){e.setPage(1)},this.onLastPage=function(){var t=e.state.pagination.page,n=e.totalPages();t<n&&e.setPage(n)},this.onNextPage=function(){e.state.pagination.page<e.totalPages()&&e.setPage(e.state.pagination.page+1)},this.onPageInput=function(t){e.setState({pageChangeValue:t.target.value})},this.onPerPageSelect=function(t,n){var a=r({},e.state.pagination);a.perPage=t,a.page=1,e.setState({pagination:a})},this.onPreviousPage=function(){e.state.pagination.page>1&&e.setPage(e.state.pagination.page-1)},this.onRow=function(t,n){n.rowIndex;var r=e.state.selectedRows.indexOf(t.id)>-1;return{className:(0,l.default)({selected:r,warning:t.conflict,danger:t.invalid}),role:"row"}},this.onSelectAllRows=function(t){var n=e.props.input,r=e.state,a=r.rows,o=r.selectedRows,i=t.target.checked,s=e.filteredSearchedRows(),l=e.currentRows(s).rows;if(i){var u=l.filter(function(e){return!e.invalid&&!e.conflict}),c=[].concat(T(new Set([].concat(T(u.map(function(e){return e.id})),T(o))))),d=a.map(function(e){return c.indexOf(e.id)>-1?E.selectRow(e):e});n.onChange(c),e.setState({rows:d,selectedRows:c})}else{var f=l.map(function(e){return e.id}),p=o.filter(function(e){return!(f.indexOf(e)>-1)}),m=a.map(function(e){return p.indexOf(e.id)>-1?e:E.deselectRow(e)});n.onChange(p),e.setState({rows:m,selectedRows:p})}},this.onSelectRow=function(t,n){var r=e.props.input,a=e.state,o=a.rows,i=a.selectedRows,s=o.findIndex(function(e){return e.id===n.id});if(s>-1){var l=void 0,u=void 0;n.selected?(l=i.filter(function(e){return!(e===n.id)}),u=E.deselectRow(n)):(l=[].concat(T(i),[n.id]),u=E.selectRow(n)),o[s]=u,r.onChange(l),e.setState({rows:o,selectedRows:l})}},this.onSubmit=function(){e.setPage(e.state.pageChangeValue)},this.onValueKeyPress=function(t){var n=e.state,r=n.currentValue,a=n.currentFilterType;"Enter"===t.key&&r&&r.length>0&&(e.setState({currentValue:""}),e.filterAdded(a,r),t.stopPropagation(),t.preventDefault())},this.onFindAction=function(t){e.setState({activeFilters:[],searchFilterValue:t})},this.onFindExit=function(){e.setState({searchFilterValue:""})},this.setPage=function(t){var n=Number(t);if(!Number.isNaN(t)&&""!==t&&n>0&&n<=e.totalPages()){var a=r({},e.state.pagination);a.page=n,e.setState({pagination:a,pageChangeValue:n})}},this.currentRows=function(t){var n=e.state,r=n.sortingColumns,a=n.columns,o=n.pagination;return(0,d.compose)((0,f.paginate)(o),u.sorter({columns:a,sortingColumns:r,sort:s.default,strategy:u.strategies.byProperty}))(t)},this.totalPages=function(){var t=e.state.rows,n=e.state.pagination.perPage;return Math.ceil(t.length/n)},this.selectFilterType=function(t){e.state.currentFilterType!==t&&e.setState({currentValue:"",currentFilterType:t})},this.filterAdded=function(t,n){var r=t.title;r+=": ",r+=n;var a=[].concat(T(e.state.activeFilters),[{label:r,field:t,value:n}]);e.setState({activeFilters:a})},this.updateCurrentValue=function(t){e.setState({currentValue:t.target.value})},this.removeFilter=function(t){var n=e.state.activeFilters,r=n.indexOf(t);if(r>-1){var a=[].concat(T(n.slice(0,r)),T(n.slice(r+1)));e.setState({activeFilters:a})}},this.clearFilters=function(){e.setState({activeFilters:[]})},this.filteredSearchedRows=function(){var t=e.state,n=t.activeFilters,r=t.searchFilterValue,a=t.rows;return n&&n.length?(0,p.default)(n,a):r?(0,m.default)(r,a):a}};E.propTypes={rows:i.default.array,onCsvImportAction:i.default.func,discoveryMode:i.default.bool,initialSelectedRows:i.default.array,input:i.default.shape({value:i.default.arrayOf(i.default.string),onChange:i.default.func}),meta:i.default.shape({pristine:i.default.bool,error:i.default.string})},E.defaultProps={rows:[],onCsvImportAction:f.noop,discoveryMode:!1,initialSelectedRows:[]},t.default=E},1979:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlanWizardVMStep=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=_(n(0)),i=_(n(1)),s=_(n(38)),l=n(37),u=n(97),c=n(6),d=_(n(1978)),f=_(n(1953)),p=n(769),m=n(251);function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=t.PlanWizardVMStep=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=a=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onCSVParseSuccess=function(e){var t=a.props,n=t.infrastructure_mapping_id,r=t.validateVmsUrl,o=t.validateVmsAction,i=t.editingPlan,s=t.shouldPrefillForEditing;e.shift(),o(r,n,e,s&&i.id)},a.onCSVParseFailure=function(e){(0,a.props.csvParseErrorAction)(e)},a.validateVms=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.props,o=r.infrastructure_mapping_id,i=r.validateVmsUrl;(0,r.validateVmsAction)(i,o,e,t,n)},a.showOverwriteCsvConfirmModal=function(){var e=a.props,t=e.csvImportAction,n=e.showConfirmModalAction,o=e.hideConfirmModalAction;n(r({},m.overwriteCsvConfirmModalProps,{onConfirm:function(){o(),t()}}))},v(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.vm_choice_radio,r=t.editingPlan,a=t.shouldPrefillForEditing,o=t.queryPreselectedVmsAction;t.pristine&&"vms_via_discovery"===n&&(this.validateVms([],null,{combineRequests:!!a}),a&&o((0,p.getVmIds)(r)).then(function(t){var n=t.value.data.results.map(function(e){return{name:e.name}});e.validateVms(n,r.id,{combineRequests:!0})}))}},{key:"componentDidUpdate",value:function(e){var t=this.props.vm_choice_radio;t!==e.vm_choice_radio&&"vms_via_discovery"===t&&this.validateVms()}},{key:"render",value:function(){var e=this.props,t=e.vm_choice_radio,n=e.isValidatingVms,a=e.isRejectedValidatingVms,i=e.isCSVParseError,m=e.errorParsingCSV,_=e.valid_vms,v=e.invalid_vms,h=e.conflict_vms,y=e.validationServiceCalled,T=e.csvImportAction,E=e.shouldPrefillForEditing,S=e.editingPlan,P=e.isQueryingVms,b=e.formSelectedVms,A=e.pristine,C="vms_via_discovery"===t,O=E?(0,p.getVmIds)(S):[];if(a&&!i)return o.default.createElement("div",{className:"wizard-pf-complete blank-slate-pf"},o.default.createElement("div",{className:"wizard-pf-success-icon"},o.default.createElement("span",{className:"pficon pficon-error-circle-o"})),o.default.createElement("h3",{className:"blank-slate-pf-main-action"},__("Error Validating VMs")),o.default.createElement("p",{className:"blank-slate-pf-secondary-action"},__("Sorry, there was an error validating VMs. Please try again.")));if(a&&i)return o.default.createElement("div",{className:"wizard-pf-complete blank-slate-pf"},o.default.createElement("div",{className:"wizard-pf-success-icon"},o.default.createElement("span",{className:"pficon pficon-error-circle-o"})),o.default.createElement("h3",{className:"blank-slate-pf-main-action"},__("The selected file does not have the expected format.")),o.default.createElement("h3",{className:"blank-slate-pf-main-action"},m),o.default.createElement("p",{className:"blank-slate-pf-secondary-action"},__("See product documentation for the correct format of the .csv file")),o.default.createElement("div",{className:"form-group"},o.default.createElement(c.Button,{bsStyle:"primary",onClick:T},__("Import"))));if((n||!y)&&C)return o.default.createElement("div",{className:"blank-slate-pf"},o.default.createElement("div",{className:"spinner spinner-lg blank-slate-pf-icon"}),o.default.createElement("h3",{className:"blank-slate-pf-main-action"},__("Discovering VMs")),o.default.createElement("p",{className:"blank-slate-pf-secondary-action"},__("Discovering VMs associated with the Infrastructure Mapping selected.")));if(n&&!C)return o.default.createElement("div",{className:"blank-slate-pf"},o.default.createElement("div",{className:"spinner spinner-lg blank-slate-pf-icon"}),o.default.createElement("h3",{className:"blank-slate-pf-main-action"},__("Validating CSV Import")),o.default.createElement("p",{className:"blank-slate-pf-secondary-action"},__("Validating CSV VMs are associated with the Infrastructure Mapping selected.")));if(!C&&0===_.length&&0===v.length&&0===h.length)return o.default.createElement(f.default,{onCSVParseSuccess:this.onCSVParseSuccess,onCSVParseFailure:this.onCSVParseFailure});if(!n&&y&&(!E||!P)){var M=s.default.asMutable(_,{deep:!0}),R=s.default.asMutable(v,{deep:!0}).concat(M.filter(function(e){return!1===e.valid})),N=s.default.asMutable(h,{deep:!0}),I=[].concat(g(R),g(N),g(M));if(I.length){var V=b||[];A&&(V=C?O:M.filter(function(e){return!0===e.valid}).map(function(e){return e.id}));var w=I.map(function(e){return r({},e,{selected:V.some(function(t){return e.id===t})})});return o.default.createElement(o.default.Fragment,null,o.default.createElement(l.Field,{name:"selectedVms",component:d.default,rows:w,initialSelectedRows:V,onCsvImportAction:this.showOverwriteCsvConfirmModal,discoveryMode:C,validate:[(0,u.length)({min:1,msg:__("At least one VM needs to be selected to create the Migration Plan.")})]}))}return o.default.createElement("div",{className:"wizard-pf-complete blank-slate-pf"},o.default.createElement("div",{className:"wizard-pf-success-icon"},o.default.createElement("span",{className:"pficon pficon-warning-triangle-o"})),o.default.createElement("h3",{className:"blank-slate-pf-main-action"},__("No VMs were found.")),o.default.createElement("p",{className:"blank-slate-pf-secondary-action"},__("Sorry, no VMs were associated with this Infrastructure Mapping. Please try again.")))}return null}}]),t}();h.propTypes={vm_choice_radio:i.default.oneOf(["vms_via_csv","vms_via_discovery"]),infrastructure_mapping_id:i.default.string.isRequired,validateVmsUrl:i.default.string,validateVmsAction:i.default.func.isRequired,csvImportAction:i.default.func.isRequired,showConfirmModalAction:i.default.func.isRequired,hideConfirmModalAction:i.default.func.isRequired,csvParseErrorAction:i.default.func.isRequired,isValidatingVms:i.default.bool,isRejectedValidatingVms:i.default.bool,isCSVParseError:i.default.bool,errorParsingCSV:i.default.string,validationServiceCalled:i.default.bool,errorValidatingVms:i.default.string,valid_vms:i.default.array,invalid_vms:i.default.array,conflict_vms:i.default.array,editingPlan:i.default.object,shouldPrefillForEditing:i.default.bool,queryPreselectedVmsAction:i.default.func,isQueryingVms:i.default.bool,formSelectedVms:i.default.array,pristine:i.default.bool},h.defaultProps={vm_choice_radio:null,validateVmsUrl:"/api/transformation_mappings",isValidatingVms:!1,isRejectedValidatingVms:!1,isCSVParseError:!1,errorParsingCSV:"",validationServiceCalled:!1,errorValidatingVms:null,valid_vms:[],invalid_vms:[],conflict_vms:[]},t.default=(0,l.reduxForm)({form:"planWizardVMStep",initialValues:{selectedVms:[]},destroyOnUnmount:!1})(h)},1980:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(474);var o=(0,r.default)({isUpdatingMapping:!1,isPostingMappings:!1,isRejectedUpdatingMapping:!1,isRejectedPostingMappings:!1,errorUpdatingMapping:null,errorPostingMappings:null,transformationMappingsResult:{}});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.POST_V2V_TRANSFORM_MAPPINGS+"_PENDING":return e.set("isPostingMappings",!0);case a.POST_V2V_TRANSFORM_MAPPINGS+"_FULFILLED":return e.set("transformationMappingsResult",t.payload.data&&t.payload.data.results&&t.payload.data.results[0]).set("isRejectedPostingMappings",!1).set("isPostingMappings",!1);case a.POST_V2V_TRANSFORM_MAPPINGS+"_REJECTED":return e.set("errorPostingMappings",t.payload).set("isRejectedPostingMappings",!0).set("isPostingMappings",!1);case a.UPDATE_V2V_TRANSFORMATION_MAPPING+"_PENDING":return e.set("isUpdatingMapping",!0).set("isRejectedUpdatingMapping",!1);case a.UPDATE_V2V_TRANSFORMATION_MAPPING+"_FULFILLED":return e.set("transformationMappingsResult",t.payload.data).set("isUpdatingMapping",!1).set("errorUpdatingMapping",null);case a.UPDATE_V2V_TRANSFORMATION_MAPPING+"_REJECTED":return e.set("errorUpdatingMapping",t.payload).set("isRejectedUpdatingMapping",!0).set("isUpdatingMapping",!1);default:return e}}},1981:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateTransformationMappingAction=t.postTransformMappingsAction=t.continueToPlanAction=t.fetchTransformationMappingsAction=void 0;var r=n(489);Object.defineProperty(t,"fetchTransformationMappingsAction",{enumerable:!0,get:function(){return r.fetchTransformationMappingsAction}});var a=u(n(62)),o=u(n(52)),i=n(474),s=n(55),l=n(41);function u(e){return e&&e.__esModule?e:{default:e}}t.continueToPlanAction=function(e){return function(t){t({type:s.CONTINUE_TO_PLAN,payload:{id:e}}),t({type:l.V2V_MAPPING_WIZARD_EXITED})}},t.postTransformMappingsAction=function(e,t){return function(e,t){return function(n){return n({type:i.POST_V2V_TRANSFORM_MAPPINGS,payload:new Promise(function(n,r){o.default.post(e,t).then(function(e){n(e)}).catch(function(e){r(e)})})})}}(e,t)},t.updateTransformationMappingAction=function(e,t,n){return function(e,t){return function(n){return n({type:i.UPDATE_V2V_TRANSFORMATION_MAPPING,payload:new Promise(function(n,r){var a={action:"edit",name:t.name,description:t.description,transformation_mapping_items:t.transformation_mapping_items};o.default.post(e,a).then(function(e){return n(e)}).catch(function(e){return r(e)})})})}}(new a.default(e+"/"+t).toString(),n)}},1982:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformationHasBeenEdited=void 0;var r=n(474);t.transformationHasBeenEdited=function(e,t,n){var a=JSON.stringify(e.transformation_mapping_items.map(function(e){return function(e,t){return{source:""+r.SOURCE_HREF_SLUGS[e.source_type]+e.source_id,destination:""+r.DESTINATION_HREF_SLUGS[t][e.destination_type]+e.destination_id}}(e,n)})),o=JSON.stringify(t.transformation_mapping_items);return e.name!==t.name||e.description!==t.description||a!==o}},1983:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(0)),o=d(n(1)),i=n(6),s=n(1982),l=n(164),u=d(n(482)),c=d(n(481));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onContinueToPlanWizard=function(e){r.props.continueToPlanAction(e),r.props.redirectTo("/plans")},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.postMappingsUrl,n=e.postTransformMappingsAction,r=e.transformationsBody,a=e.editingMapping,o=e.updateTransformationMappingAction,i=e.targetProvider,l=e.fetchTransformationMappingsAction,u=e.fetchTransformationMappingsUrl;a?(0,s.transformationHasBeenEdited)(a,r,i)&&o(t,a.id,r).then(function(){l(u)}):n(t,r).then(function(){l(u)})}},{key:"render",value:function(){var e=this.props,t=e.isPostingMappings,n=e.isRejectedPostingMappings,r=e.isUpdatingMapping,o=e.transformationMappingsResult,i=(e.errorPostingMappings,e.transformationsBody);return t?a.default.createElement(u.default,{title:__("Creating Infrastructure Mapping..."),message:__("Please wait while the infrastructure mapping is created.")}):n?a.default.createElement(c.default,{title:__("Error Creating Infrastructure Mapping"),message:__("We're sorry, something went wrong. Please try again.")}):r?a.default.createElement(u.default,{title:__("Saving Infrastructure Mapping..."),message:__("Please wait while the infrastructure mapping is saved.")}):o?a.default.createElement("div",{className:"wizard-pf-complete blank-slate-pf"},a.default.createElement("div",{className:"wizard-pf-success-icon"},a.default.createElement("span",{className:"glyphicon glyphicon-ok-circle"})),a.default.createElement("h3",{className:"blank-slate-pf-main-action"},sprintf(__("All mappings in %s have been mapped."),i.name))):null}}]),t}();p.propTypes={postMappingsUrl:o.default.string,postTransformMappingsAction:o.default.func,transformationsBody:o.default.object,isPostingMappings:o.default.bool,isRejectedPostingMappings:o.default.bool,errorPostingMappings:o.default.object,transformationMappingsResult:o.default.object,continueToPlanAction:o.default.func,editingMapping:o.default.object,updateTransformationMappingAction:o.default.func,isUpdatingMapping:o.default.bool,targetProvider:o.default.string,fetchTransformationMappingsAction:o.default.func,fetchTransformationMappingsUrl:o.default.string,redirectTo:o.default.func},p.defaultProps={postMappingsUrl:"/api/transformation_mappings",postTransformMappingsAction:i.noop,transformationsBody:{},isPostingMappings:!0,isRejectedPostingMappings:!1,errorPostingMappings:null,transformationMappingsResult:null,continueToPlanAction:i.noop,fetchTransformationMappingsUrl:l.FETCH_TRANSFORMATION_MAPPINGS_URL},t.default=p},1984:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(319),o=n(41);var i=t.initialState=(0,r.default)({isFetchingSourceNetworks:!1,isRejectedSourceNetworks:!1,errorSourceNetworks:null,isFetchingTargetNetworks:!1,isRejectedTargetNetworks:!1,errorTargetNetworks:null,sourceNetworks:[],targetNetworks:[],isFetchingPublicCloudNetworks:!1,isRejectedPublicCloudNetworks:!1,errorPublicCloudNetworks:null,publicCloudNetworks:[]});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case a.FETCH_V2V_SOURCE_NETWORKS+"_PENDING":return e.set("isFetchingSourceNetworks",!0).set("isRejectedSourceNetworks",!1);case a.FETCH_V2V_SOURCE_NETWORKS+"_FULFILLED":return e.set("sourceNetworks",t.payload.sourceNetworks).set("isRejectedSourceNetworks",!1).set("isFetchingSourceNetworks",!1);case a.FETCH_V2V_SOURCE_NETWORKS+"_REJECTED":return e.set("errorSourceNetworks",t.payload).set("isRejectedSourceNetworks",!0).set("isFetchingSourceNetworks",!1);case a.FETCH_V2V_TARGET_NETWORKS+"_PENDING":return e.set("isFetchingTargetNetworks",!0).set("isRejectedTargetNetworks",!1);case a.FETCH_V2V_TARGET_NETWORKS+"_FULFILLED":return e.set("targetNetworks",t.payload.targetNetworks).set("isRejectedTargetNetworks",!1).set("isFetchingTargetNetworks",!1);case a.FETCH_V2V_TARGET_NETWORKS+"_REJECTED":return e.set("errorTargetNetworks",t.payload).set("isRejectedTargetNetworks",!0).set("isFetchingTargetNetworks",!1);case a.FETCH_V2V_PUBLIC_CLOUD_NETWORKS+"_PENDING":return e.set("isFetchingPublicCloudNetworks",!0).set("isRejectedPublicCloudNetworks",!1);case a.FETCH_V2V_PUBLIC_CLOUD_NETWORKS+"_FULFILLED":return e.set("publicCloudNetworks",t.payload).set("isFetchingPublicCloudNetworks",!1);case a.FETCH_V2V_PUBLIC_CLOUD_NETWORKS+"_REJECTED":return e.set("errorPublicCloudNetworks",t.payload).set("isRejectedPublicCloudNetworks",!0).set("isFetchingPublicCloudNetworks",!1);case o.V2V_MAPPING_WIZARD_EXITED:return i;default:return e}}},1985:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPublicCloudNetworksAction=t.fetchTargetNetworksAction=t.fetchSourceNetworksAction=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(62)),o=l(n(52)),i=n(319),s=n(41);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return function(t){return t({type:i.FETCH_V2V_SOURCE_NETWORKS,payload:new Promise(function(t,n){o.default.get(e).then(function(e){t(function(e){var t=e.data;return t.lans?{sourceNetworks:t.lans.map(function(e){return r({},e,{providerName:t.ext_management_system.name,clusterId:t.id})})}:{sourceNetworks:[]}}(e))}).catch(function(e){n(e)})})})}},c=(t.fetchSourceNetworksAction=function(e,t){var n=new a.default(e+"/"+t);return n.addSearch({attributes:i.QUERY_ATTRIBUTES.source}),u(n.toString())},function(e,t){return function(n){return n({type:i.FETCH_V2V_TARGET_NETWORKS,payload:new Promise(function(n,a){o.default.get(e).then(function(e){n(function(e,t){var n=e.data;return n[s.V2V_TARGET_PROVIDER_NETWORK_KEYS[t]]?{targetNetworks:n[s.V2V_TARGET_PROVIDER_NETWORK_KEYS[t]].map(function(e){return r({},e,{providerName:n.ext_management_system.name,clusterId:n.id})})}:{targetNetworks:[]}}(e,t))}).catch(function(e){a(e)})})})}}),d=(t.fetchTargetNetworksAction=function(e,t,n){var r=new a.default(e+"/"+t);return r.addSearch({attributes:i.QUERY_ATTRIBUTES[n]}),c(r.toString(),n)},function(e,t){return function(n){return n({type:i.FETCH_V2V_PUBLIC_CLOUD_NETWORKS,payload:new Promise(function(n,a){o.default.get(e).then(function(e){n(function(e,t){return e.data.resources.map(function(e){return r({},e,{providerName:t.ext_management_system.name,clusterId:t.id})})}(e,t))}).catch(function(e){return a(e)})})})}});t.fetchPublicCloudNetworksAction=function(e,t){var n=new a.default(e+"/"+t.ext_management_system.id+"/cloud_networks");return n.addSearch({expand:"resources"}),d(n.toString(),t)}},1986:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.normalizeCloudNetworkHref=function(e){var t=e.href&&e.href.replace(/\/providers\/\d+/,"");return r({},e,{href:t})}},1987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=v(n(0)),i=v(n(1)),s=v(n(7)),l=n(6),u=v(n(478)),c=v(n(477)),d=v(n(476)),f=v(n(475)),p=v(n(789)),m=n(351),_=n(254),g=n(786);function v(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=a=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={selectedSourceNetworks:[],selectedTargetNetwork:null,selectedNode:null},a.selectSourceNetwork=function(e){a.setState(function(t){return t.selectedSourceNetworks.some(function(t){return(0,m.networkKey)(t)===(0,m.networkKey)(e)})?{selectedSourceNetworks:t.selectedSourceNetworks.filter(function(t){return(0,m.networkKey)(t)!==(0,m.networkKey)(e)})}:{selectedSourceNetworks:[].concat(y(t.selectedSourceNetworks),[e])}})},a.selectTargetNetwork=function(e){a.setState(function(){return{selectedTargetNetwork:e}})},a.addNetworkMapping=function(){var e=a.props,t=e.input,n=t.value,o=t.onChange,i=e.selectedCluster,s=e.selectedClusterMapping,l=e.groupedSourceNetworks,u=a.state,c=u.selectedTargetNetwork,d=u.selectedSourceNetworks,f=!n.some(function(e){return e.id===s.id}),p=n.some(function(e){return e.nodes.some(function(e){return e.id===c.id})});if(0===n.length||f){var m=r({},(0,g.clustersMappingWithTreeViewAttrs)(s),{nodes:[r({},(0,g.targetNetworkWithTreeViewAttrs)(c),{nodes:d.reduce(function(e,t){return[].concat(y(e),y((0,g.networkGroupingForRep)(t,l,i)))},[])})]});o([].concat(y(n),[m]))}else{o(n.map(function(e){return e.id!==s.id?e:r({},e,p?{nodes:e.nodes.map(function(e){return e.id===c.id?r({},e,{nodes:[].concat(y(e.nodes),y(d.reduce(function(e,t){return[].concat(y(e),y((0,g.networkGroupingForRep)(t,l,i)))},[])))}):e})}:{nodes:[].concat(y(e.nodes),[r({},(0,g.targetNetworkWithTreeViewAttrs)(c),{nodes:d.reduce(function(e,t){return[].concat(y(e),y((0,g.networkGroupingForRep)(t,l,i)))},[])})])})}))}a.setState(function(e){return{selectedTargetNetwork:null,selectedSourceNetworks:[]}})},a.selectNode=function(e){var t=a.props.input,n=t.value,o=t.onChange;e.nodes?o(n.map(function(t){var n=t.nodes,a=h(t,["nodes"]);return r({},a,{nodes:n.map(function(t){var n=t.nodes,a=h(t,["nodes"]);return a.id===e.id?r({},a,{selected:!a.selected,nodes:n.map(function(e){return r({},e,{selected:!1})})}):r({},a,{selected:!1,nodes:n.map(function(e){return r({},e,{selected:!1})})})})})})):o(n.map(function(t){var n=t.nodes,a=h(t,["nodes"]);return r({},a,{nodes:n.map(function(t){var n=t.nodes,a=h(t,["nodes"]);return r({},a,{selected:!1,nodes:n.map(function(t){return(0,m.networkKey)(t)===(0,m.networkKey)(e)?r({},t,{selected:!t.selected}):t.selected?r({},t,{selected:!1}):t})})})})}));a.setState(function(){return{selectedNode:e}})},a.removeNode=function(){var e=a.props.input,t=e.value,n=e.onChange,o=a.state.selectedNode;n(o.nodes?t.reduce(function(e,t){var n=(0,g.mappingWithTargetNetworkRemoved)(t,o);return n?[].concat(y(e),[n]):[].concat(y(e))},[]):t.reduce(function(e,t){var n=t.nodes,a=h(t,["nodes"]),i=n.reduce(function(e,t){var n=(0,g.mappingWithSourceNetworkRemoved)(t,o);return n?[].concat(y(e),[n]):[].concat(y(e))},[]);return i.length>0?[].concat(y(e),[r({},a,{nodes:i})]):[].concat(y(e))},[])),a.setState(function(){return{selectedNode:null}})},a.removeAll=function(){a.props.input.onChange([])},a.allNetworksMapped=function(e){return!e.length&&o.default.createElement("div",{className:"dual-pane-mapper-item"},o.default.createElement(l.Icon,{type:"pf",name:"ok"})," ",__("All source networks have been mapped."))},T(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentWillReceiveProps",value:function(e){this.props.selectedCluster&&e.selectedCluster.id!==this.props.selectedCluster.id&&this.setState(function(){return{selectedSourceNetworks:[],selectedTargetNetwork:null}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.groupedSourceNetworks,r=t.groupedTargetNetworks,a=t.isFetchingSourceNetworks,i=t.isFetchingTargetNetworks,l=t.input,v=t.selectedCluster,h=t.targetProvider,y=t.preLoadingMappings,T=this.state,E=T.selectedSourceNetworks,S=T.selectedTargetNetwork,P=T.selectedNode,b=(0,s.default)("dual-pane-mapper-form",{"is-hidden":!v}),A=o.default.createElement(d.default,{selectedItems:E.length,totalItems:(0,g.sourceNetworksFilter)(n,l.value).length}),C=o.default.createElement(d.default,{selectedItems:S?1:0,totalItems:1});return o.default.createElement("div",{className:b},o.default.createElement("p",{style:{marginLeft:-48}},__("Select one or more source networks to map to a single target. Select Add Mapping. Multiple mappings can be added.")),o.default.createElement(u.default,{handleButtonClick:this.addNetworkMapping,validMapping:!(S&&E&&E.length>0)},o.default.createElement(c.default,{id:"source_networks",listTitle:__("Source Provider \\ Datacenter \\ Network"),loading:a,counter:A},n&&o.default.createElement(o.default.Fragment,null,(0,g.sourceNetworksFilter)(n,l.value).map(function(t){return o.default.createElement(f.default,{item:t,text:t.providerName+" \\ "+v.v_parent_datacenter+" \\ "+t.name,key:t.id,selected:E&&E.some(function(e){return(0,m.networkKey)(e)===(0,m.networkKey)(t)}),handleClick:e.selectSourceNetwork,handleKeyPress:e.selectSourceNetwork})}),this.allNetworksMapped((0,g.sourceNetworksFilter)(n,l.value)))),o.default.createElement(c.default,{id:"target_networks",listTitle:(0,_.multiProviderTargetLabel)(h,"network"),loading:i,counter:C},r&&(0,g.getRepresentatives)(r).map(function(t){return o.default.createElement(f.default,{item:t,text:t.providerName+" \\ "+t.name,key:t.id,selected:S&&(0,m.networkKey)(S)===(0,m.networkKey)(t),handleClick:e.selectTargetNetwork,handleKeyPress:e.selectTargetNetwork})}))),o.default.createElement(p.default,{mappings:(0,g.mappingsForTreeView)(l.value),selectNode:this.selectNode,removeNode:this.removeNode,removeAll:this.removeAll,selectedNode:P,loading:a||i||y}))}}]),t}();E.propTypes={input:i.default.object,groupedSourceNetworks:i.default.object,groupedTargetNetworks:i.default.object,isFetchingSourceNetworks:i.default.bool,isFetchingTargetNetworks:i.default.bool,selectedCluster:i.default.object,selectedClusterMapping:i.default.object,targetProvider:i.default.string,preLoadingMappings:i.default.bool},t.default=E},1988:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=_(n(0)),i=_(n(1)),s=n(6),l=n(37),u=n(97),c=_(n(1987)),d=n(163),f=n(254),p=n(319),m=n(786);function _(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));v.call(n);var a=n.props,o=a.clusterMappings,i=a.pristine,s=o.reduce(function(e,t){return e.concat(t.nodes)},[]);return 1!==s.length&&i||n.selectSourceCluster(s[0].id,function(e){n.state=r({},n.state,e())}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.editingMapping,r=t.targetProvider,a=t.initialize,o=t.initialized,i=t.clusterMappings,s=t.change,l=t.mappingWizardNetworksStepForm;if(n&&!o)return this.setState({preLoadingMappings:!0}),void(0,m.createNetworksMappings)(n,r,i).then(function(t){a({networksMappings:(0,f.updateMappings)(t,i)}),e.setState({preLoadingMappings:!1})});l&&l.values&&s("networksMappings",(0,f.updateMappings)(l.values.networksMappings,i))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.showAlertAction,r=t.isRejectedSourceNetworks,a=t.isRejectedTargetNetworks,o=this.state,i=o.selectedCluster,s=o.selectedClusterMapping;if(r!==e.isRejectedSourceNetworks&&e.isRejectedSourceNetworks)n(sprintf(__("Error retrieving cluster networks: %s, ID: %s"),i.name,i.id));else if(a!==e.isRejectedTargetNetworks&&e.isRejectedTargetNetworks&&!r){n(sprintf(__("Error retrieving cluster networks: %s, ID: %s"),s.name,s.id))}}},{key:"render",value:function(){var e=this.props,t=e.clusterMappings,n=e.isFetchingSourceNetworks,r=e.isFetchingTargetNetworks,a=e.groupedSourceNetworks,i=e.groupedTargetNetworks,s=e.form,p=e.targetProvider,m=this.state,_=m.selectedCluster,g=m.selectedClusterMapping,v=m.preLoadingMappings,h=(0,f.getClusterOptions)(t);return o.default.createElement("div",null,o.default.createElement(l.Field,{name:"cluster_select",label:__("Select a source cluster whose networks you want to map"),data_live_search:"true",component:d.BootstrapSelect,options:h,option_key:"id",option_value:"name",onSelect:this.selectSourceCluster,pre_selected_value:1===h.length?h[0].id:"",choose_text:"<"+__("Select a source cluster")+">",render_within_form:"true",form_name:s,inline_label:!0,labelWidth:6,controlWidth:4}),o.default.createElement(l.Field,{name:"networksMappings",component:c.default,groupedSourceNetworks:a,groupedTargetNetworks:i,selectedCluster:_,selectedClusterMapping:g,isFetchingSourceNetworks:n,isFetchingTargetNetworks:r,validate:(0,u.length)({min:1}),targetProvider:p,preLoadingMappings:v}))}}]),t}(),v=function(){var e=this;this.state={selectedCluster:void 0,selectedClusterMapping:null,preLoadingMappings:!1},this.selectSourceCluster=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.setState,r=e.props,a=r.fetchNetworksUrls,o=r.fetchSourceNetworksAction,i=r.fetchTargetNetworksAction,s=r.fetchPublicCloudNetworksAction,l=r.clusterMappings,u=r.targetProvider,c=l.find(function(e){return e.nodes.some(function(e){return e.id===t})}),d=c.nodes,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(c,["nodes"]);n(function(){return{selectedCluster:d.find(function(e){return e.id===t}),selectedClusterMapping:c}}),o(a.source,t),i(a[u],f.id,u),p.HAS_CLOUD_NETWORKS[u]&&s(a.public,f)}};g.propTypes={clusterMappings:i.default.array,editingMapping:i.default.object,fetchNetworksUrls:i.default.object,fetchPublicCloudNetworksAction:i.default.func,fetchSourceNetworksAction:i.default.func,fetchTargetNetworksAction:i.default.func,initialize:i.default.func,initialized:i.default.bool,isFetchingSourceNetworks:i.default.bool,isRejectedSourceNetworks:i.default.bool,isFetchingTargetNetworks:i.default.bool,isRejectedTargetNetworks:i.default.bool,form:i.default.string,pristine:i.default.bool,showAlertAction:i.default.func,groupedSourceNetworks:i.default.object,groupedTargetNetworks:i.default.object,targetProvider:i.default.string,change:i.default.func,mappingWizardNetworksStepForm:i.default.object},g.defaultProps={clusterMappings:[],fetchNetworksUrls:p.FETCH_NETWORK_URLS,fetchSourceNetworksAction:s.noop,fetchTargetNetworksAction:s.noop,isFetchingSourceNetworks:!1,isRejectedSourceNetworks:!1,isFetchingTargetNetworks:!1,isRejectedTargetNetworks:!1,form:"",pristine:!0,showAlertAction:s.noop,targetProvider:""},t.default=(0,l.reduxForm)({form:"mappingWizardNetworksStep",destroyOnUnmount:!1})(g)},1989:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(320),o=n(41);var i=(0,r.default)({isFetchingSourceDatastores:!1,isRejectedSourceDatastores:!1,errorSourceDatastores:null,isFetchingTargetDatastores:!1,isRejectedTargetDatastores:!1,errorTargetDatastores:null,sourceDatastores:[],targetDatastores:[]});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case a.FETCH_V2V_SOURCE_DATASTORES+"_PENDING":return e.set("isFetchingSourceDatastores",!0).set("isRejectedSourceDatastores",!1);case a.FETCH_V2V_SOURCE_DATASTORES+"_FULFILLED":return e.set("sourceDatastores",t.payload.sourceDatastores).set("isRejectedSourceDatastores",!1).set("isFetchingSourceDatastores",!1);case a.FETCH_V2V_SOURCE_DATASTORES+"_REJECTED":return e.set("errorSourceDatastores",t.payload).set("isRejectedSourceDatastores",!0).set("isFetchingSourceDatastores",!1);case a.FETCH_V2V_TARGET_DATASTORES+"_PENDING":return e.set("isFetchingTargetDatastores",!0).set("isRejectedTargetDatastores",!1);case a.FETCH_V2V_TARGET_DATASTORES+"_FULFILLED":return e.set("targetDatastores",t.payload.targetDatastores).set("isRejectedTargetDatastores",!1).set("isFetchingTargetDatastores",!1);case a.FETCH_V2V_TARGET_DATASTORES+"_REJECTED":return e.set("errorTargetDatastores",t.payload).set("isRejectedTargetDatastores",!0).set("isFetchingTargetDatastores",!1);case o.V2V_MAPPING_WIZARD_EXITED:return i;default:return e}}},1990:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTargetDatastoresAction=t.fetchSourceDatastoresAction=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(62)),o=l(n(52)),i=n(320),s=n(41);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return function(t){return t({type:i.FETCH_V2V_SOURCE_DATASTORES,payload:new Promise(function(t,n){o.default.get(e).then(function(e){t(function(e){var t=e.data;return t.storages?{sourceDatastores:t.storages.map(function(e){return r({},e,{providerName:t.ext_management_system.name,datacenterName:t.v_parent_datacenter})})}:{sourceDatastores:[]}}(e))}).catch(function(e){n(e)})})})}},c=(t.fetchSourceDatastoresAction=function(e,t){var n=new a.default(e+"/"+t);return n.addSearch({attributes:i.QUERY_ATTRIBUTES.source}),u(n.toString())},function(e,t){return function(n){return n({type:i.FETCH_V2V_TARGET_DATASTORES,payload:new Promise(function(n,a){o.default.get(e).then(function(e){n(function(e,t){var n=e.data;return n[s.V2V_TARGET_PROVIDER_STORAGE_KEYS[t]]?{targetDatastores:n[s.V2V_TARGET_PROVIDER_STORAGE_KEYS[t]].map(function(e){return r({},e,{providerName:n.ext_management_system.name})})}:{targetDatastores:[]}}(e,t))}).catch(function(e){return a(e)})})})}});t.fetchTargetDatastoresAction=function(e,t,n){var r=new a.default(e+"/"+t);return r.addSearch({attributes:i.QUERY_ATTRIBUTES[n]}),c(r.toString(),n)}},1991:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sourceDatastoreFilter=function(e,t){var n=t.reduce(function(e,t){var n=t.nodes.reduce(function(e,t){return e.concat(t.nodes)},[]);return e.concat(n)},[]);return e.filter(function(e){return!n.some(function(t){return t.id===e.id})})}},1992:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=v(n(0)),i=v(n(1)),s=v(n(7)),l=n(6),u=v(n(478)),c=v(n(477)),d=v(n(476)),f=v(n(475)),p=v(n(789)),m=n(1991),_=n(788),g=n(254);function v(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=a=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={selectedSourceDatastores:[],selectedTargetDatastore:null,selectedNode:null},a.selectSourceDatastore=function(e){a.setState(function(t){return t.selectedSourceDatastores.some(function(t){return t.id===e.id})?{selectedSourceDatastores:t.selectedSourceDatastores.filter(function(t){return t.id!==e.id})}:{selectedSourceDatastores:[].concat(y(t.selectedSourceDatastores),[e])}})},a.selectTargetDatastore=function(e){a.setState(function(){return{selectedTargetDatastore:e}})},a.addDatastoreMapping=function(){var e=a.props,t=e.input,n=e.selectedCluster,o=e.selectedClusterMapping,i=a.state.selectedTargetDatastore,s=!t.value.some(function(e){return e.id===o.id}),l=t.value.some(function(e){return e.nodes.some(function(e){return e.id===i.id})});a.setState(function(e){return 0===t.value.length||s?t.onChange([].concat(y(t.value),[r({},o,{text:o.name,selectable:!1,nodes:[r({},e.selectedTargetDatastore,{text:(0,_.targetDatastoreTreeViewInfo)(e.selectedTargetDatastore,e.selectedSourceDatastores),selectable:!0,selected:!1,state:{expanded:!0},nodes:e.selectedSourceDatastores.map(function(e){return r({},e,{text:e.name,icon:"fa fa-file-o",selectable:!0,selected:!1,sourceClusterId:n.id})})})]})])):t.onChange(t.value.map(function(t){return t.id!==o.id?t:r({},t,l?{nodes:t.nodes.map(function(t){return t.id===e.selectedTargetDatastore.id?r({},t,{text:(0,_.targetDatastoreTreeViewInfo)(t,t.nodes.concat(e.selectedSourceDatastores)),nodes:t.nodes.concat(e.selectedSourceDatastores.map(function(e){return r({},e,{text:e.name,icon:"fa fa-file-o",selectable:!0,selected:!1,sourceClusterId:n.id})}))}):t})}:{nodes:t.nodes.concat(r({},e.selectedTargetDatastore,{text:(0,_.targetDatastoreTreeViewInfo)(e.selectedTargetDatastore,e.selectedSourceDatastores),selectable:!0,selected:!1,state:{expanded:!0},nodes:e.selectedSourceDatastores.map(function(e){return r({},e,{text:e.name,icon:"fa fa-file-o",selectable:!0,selected:!1,sourceClusterId:n.id})})}))})})),{selectedTargetDatastore:null,selectedSourceDatastores:[]}})},a.selectNode=function(e){var t=a.props.input,n=t.value,o=t.onChange;e.nodes?o(n.map(function(t){var n=t.nodes,a=h(t,["nodes"]);return r({},a,{nodes:n.map(function(t){var n=t.nodes,a=h(t,["nodes"]);return a.id===e.id?r({},a,{selected:!a.selected,nodes:n.map(function(e){return r({},e,{selected:!1})})}):r({},a,{selected:!1,nodes:n.map(function(e){return r({},e,{selected:!1})})})})})})):o(n.map(function(t){var n=t.nodes,a=h(t,["nodes"]);return r({},a,{nodes:n.map(function(t){var n=t.nodes,a=h(t,["nodes"]);return r({},a,{selected:!1,nodes:n.map(function(t){return t.id===e.id?r({},t,{selected:!t.selected}):t.selected?r({},t,{selected:!1}):t})})})})}));a.setState(function(){return{selectedNode:e}})},a.removeNode=function(){var e=a.props.input,t=e.value,n=e.onChange,r=a.state.selectedNode;n(t.map(function(e){return(0,_.updateMappings)(e,r)}).filter(function(e){return void 0!==e})),a.setState(function(){return{selectedNode:null}})},a.removeAll=function(){a.props.input.onChange([])},a.allDatastoresMapped=function(e){return!e.length&&o.default.createElement("div",{className:"dual-pane-mapper-item"},o.default.createElement(l.Icon,{type:"pf",name:"ok"})," ",__("All source datastores have been mapped."))},T(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentWillReceiveProps",value:function(e){this.props.selectedCluster&&e.selectedCluster.id!==this.props.selectedCluster.id&&this.setState(function(){return{selectedSourceDatastores:[],selectedTargetDatastore:null}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.sourceDatastores,r=t.targetDatastores,a=t.isFetchingSourceDatastores,i=t.isFetchingTargetDatastores,l=t.input,v=t.selectedCluster,h=t.targetProvider,y=t.preLoadingMappings,T=this.state,E=T.selectedSourceDatastores,S=T.selectedTargetDatastore,P=T.selectedNode,b=(0,s.default)("dual-pane-mapper-form",{"is-hidden":!v}),A=o.default.createElement(d.default,{selectedItems:E.length,totalItems:(0,m.sourceDatastoreFilter)(n,l.value).length}),C=o.default.createElement(d.default,{selectedItems:S?1:0,totalItems:1});return o.default.createElement("div",{className:b},o.default.createElement("p",{style:{marginLeft:-40}},__("Select source datastore(s) and a target datastore and click Add Mapping to add the mapping. Multiple mappings can be added.")),o.default.createElement(u.default,{handleButtonClick:this.addDatastoreMapping,validMapping:!(S&&E&&E.length>0)},o.default.createElement(c.default,{id:"source_datastores",listTitle:__("Source Provider \\ Datacenter \\ Datastore"),loading:a,counter:A},n&&o.default.createElement(o.default.Fragment,null,(0,m.sourceDatastoreFilter)(n,l.value).map(function(t){return o.default.createElement(f.default,{item:t,text:(0,_.sourceDatastoreInfo)(t),key:t.id,selected:E&&E.some(function(e){return e.id===t.id}),handleClick:e.selectSourceDatastore,handleKeyPress:e.selectSourceDatastore})}),this.allDatastoresMapped((0,m.sourceDatastoreFilter)(n,l.value)))),o.default.createElement(c.default,{id:"target_datastores",listTitle:(0,g.multiProviderTargetLabel)(h,"storage"),loading:i,counter:C},r&&r.map(function(t){return o.default.createElement(f.default,{item:t,text:(0,_.targetDatastoreInfo)(t),key:t.id,selected:S&&S.id===t.id,handleClick:e.selectTargetDatastore,handleKeyPress:e.selectTargetDatastore})}))),o.default.createElement(p.default,{mappings:l.value,selectNode:this.selectNode,removeNode:this.removeNode,removeAll:this.removeAll,selectedNode:P,loading:a||i||y}))}}]),t}();t.default=E,E.propTypes={input:i.default.object,selectedCluster:i.default.object,selectedClusterMapping:i.default.object,sourceDatastores:i.default.array,targetDatastores:i.default.array,isFetchingSourceDatastores:i.default.bool,isFetchingTargetDatastores:i.default.bool,targetProvider:i.default.string,preLoadingMappings:i.default.bool}},1993:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=_(n(0)),i=_(n(1)),s=n(37),l=n(97),u=n(6),c=_(n(1992)),d=n(163),f=n(254),p=n(320),m=n(788);function _(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));v.call(n);var a=n.props,o=a.clusterMappings,i=a.pristine,s=o.reduce(function(e,t){return e.concat(t.nodes)},[]);return 1!==s.length&&i||n.selectSourceCluster(s[0].id,function(e){n.state=r({},n.state,e())}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.editingMapping,r=t.targetProvider,a=t.initialize,o=t.initialized,i=t.clusterMappings,s=t.change,l=t.mappingWizardDatastoresStepForm;if(n&&!o)return this.setState({preLoadingMappings:!0}),void(0,m.createDatastoresMappings)(n,r).then(function(t){a({datastoresMappings:(0,f.updateMappings)(t,i)}),e.setState({preLoadingMappings:!1})});l&&l.values&&s("datastoresMappings",(0,f.updateMappings)(l.values.datastoresMappings,i))}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.showAlertAction,r=t.isRejectedSourceDatastores,a=t.isRejectedTargetDatastores,o=this.state,i=o.selectedCluster,s=o.selectedClusterMapping;if(r!==e.isRejectedSourceDatastores&&e.isRejectedSourceDatastores)n(sprintf(__("Error retrieving cluster datastores: %s, ID: %s"),i.name,i.id));else if(a!==e.isRejectedTargetDatastores&&e.isRejectedTargetDatastores&&!r){n(sprintf(__("Error retrieving cluster datastores: %s, ID: %s"),s.name,s.id))}}},{key:"render",value:function(){var e=this.props,t=e.clusterMappings,n=e.isFetchingSourceDatastores,r=e.isFetchingTargetDatastores,a=e.sourceDatastores,i=e.targetDatastores,u=e.form,p=e.showAlertAction,m=e.targetProvider,_=this.state,g=_.selectedCluster,v=_.selectedClusterMapping,h=_.preLoadingMappings,y=(0,f.getClusterOptions)(t);return o.default.createElement("div",null,o.default.createElement(s.Field,{name:"cluster_select",label:__("Select a source cluster whose datastores you want to map"),data_live_search:"true",component:d.BootstrapSelect,options:y,option_key:"id",option_value:"name",onSelect:this.selectSourceCluster,pre_selected_value:1===y.length?y[0].id:"",choose_text:"<"+__("Select a source cluster")+">",render_within_form:"true",form_name:u,inline_label:!0,labelWidth:6,controlWidth:4}),o.default.createElement(s.Field,{name:"datastoresMappings",component:c.default,sourceDatastores:a,targetDatastores:i,selectedCluster:g,selectedClusterMapping:v,isFetchingSourceDatastores:n,isFetchingTargetDatastores:r,validate:(0,l.length)({min:1}),showAlertAction:p,targetProvider:m,preLoadingMappings:h}))}}]),t}(),v=function(){var e=this;this.state={selectedCluster:void 0,selectedClusterMapping:null,preLoadingMappings:!1},this.selectSourceCluster=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.setState,r=e.props,a=r.fetchStoragesUrls,o=r.fetchSourceDatastoresAction,i=r.fetchTargetDatastoresAction,s=r.clusterMappings,l=r.targetProvider,u=s.find(function(e){return e.nodes.some(function(e){return e.id===t})}),c=u.nodes,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(u,["nodes"]);n(function(){return{selectedCluster:c.find(function(e){return e.id===t}),selectedClusterMapping:u}}),o(a.source,t),i(a[l],d.id,l)}};g.propTypes={clusterMappings:i.default.array,editingMapping:i.default.object,fetchStoragesUrls:i.default.object,fetchSourceDatastoresAction:i.default.func,fetchTargetDatastoresAction:i.default.func,sourceDatastores:i.default.arrayOf(i.default.object),targetDatastores:i.default.arrayOf(i.default.object),isFetchingSourceDatastores:i.default.bool,isRejectedSourceDatastores:i.default.bool,isFetchingTargetDatastores:i.default.bool,initialize:i.default.func,initialized:i.default.bool,isRejectedTargetDatastores:i.default.bool,form:i.default.string,pristine:i.default.bool,showAlertAction:i.default.func,targetProvider:i.default.string,change:i.default.func,mappingWizardDatastoresStepForm:i.default.object},g.defaultProps={clusterMappings:[],fetchStoragesUrls:p.FETCH_STORAGE_URLS,fetchSourceDatastoresAction:u.noop,fetchTargetDatastoresAction:u.noop,sourceDatastores:[],targetDatastores:[],isFetchingSourceDatastores:!1,isRejectedSourceDatastores:!1,isFetchingTargetDatastores:!1,isRejectedTargetDatastores:!1,form:"",pristine:!0,showAlertAction:u.noop,targetProvider:""},t.default=(0,s.reduxForm)({form:"mappingWizardDatastoresStep",destroyOnUnmount:!1})(g)},1994:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(321),o=n(41);var i=t.initialState=(0,r.default)({sourceClusters:[],isFetchingSourceClusters:!1,isRejectedSourceClusters:!1,errorSourceClusters:null,targetClusters:[],isFetchingTargetClusters:!1,isRejectedTargetClusters:!1,errorTargetClusters:null,providers:[],isQueryingProviders:!1,isRejectedQueryProviders:!1,errorQueryProviders:null});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case a.FETCH_V2V_SOURCE_CLUSTERS+"_PENDING":return e.set("isFetchingSourceClusters",!0).set("isRejectedSourceClusters",!1);case a.FETCH_V2V_SOURCE_CLUSTERS+"_FULFILLED":return t.payload.data&&t.payload.data.resources&&t.payload.data.resources[0]?e.set("sourceClusters",t.payload.data.resources).set("isRejectedSourceClusters",!1).set("isFetchingSourceClusters",!1):e.set("sourceClusters",[]).set("isFetchingSourceClusters",!1).set("isRejectedSourceClusters",!1);case a.FETCH_V2V_SOURCE_CLUSTERS+"_REJECTED":return e.set("errorSourceClusters",t.payload).set("isRejectedSourceClusters",!0).set("isFetchingSourceClusters",!1);case a.QUERY_V2V_PROVIDERS+"_PENDING":return e.set("isQueryingProviders",!0).set("isRejectedQueryProviders",!1);case a.QUERY_V2V_PROVIDERS+"_FULFILLED":return e.set("providers",t.payload.data.results).set("isQueryingProviders",!1).set("isRejectedQueryProviders",!1).set("errorQueryProviders",null);case a.QUERY_V2V_PROVIDERS+"_REJECTED":return e.set("errorQueryProviders",t.payload).set("isRejectedQueryProviders",!0).set("isQueryingProviders",!1);case o.V2V_MAPPING_WIZARD_EXITED:return i;default:return e}}},1995:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queryProvidersAction=t.fetchSourceClustersAction=t.hideAlertAction=t.showAlertAction=void 0;var r=n(255);Object.defineProperty(t,"showAlertAction",{enumerable:!0,get:function(){return r.showAlertAction}}),Object.defineProperty(t,"hideAlertAction",{enumerable:!0,get:function(){return r.hideAlertAction}});var a=s(n(62)),o=s(n(52)),i=n(321);function s(e){return e&&e.__esModule?e:{default:e}}t.fetchSourceClustersAction=function(e){return function(e){return function(t){return t({type:i.FETCH_V2V_SOURCE_CLUSTERS,payload:o.default.get(e)})}}(new a.default(e).toString())},t.queryProvidersAction=function(e,t){var n=new a.default(e);return n.addSearch({attributes:"authentications"}),function(e,t){return function(n){return n({type:i.QUERY_V2V_PROVIDERS,payload:o.default.post(e,{action:"query",resources:t.map(function(e){return{id:e}})})})}}(n.toString(),t)}},1996:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getProviderIds=function(e){var t=new Set;return e.forEach(function(e){return t.add(e.ems_id)}),[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}},1997:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(1)),o=s(n(7)),i=n(6);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.mappings,n=e.selectMapping,a=e.removeMapping,s=e.removeAll,l=e.selectedMapping,u=e.loading;return r.default.createElement("div",{className:"treeview-container"},r.default.createElement("div",{className:(0,o.default)("treeview-container--body",{loading:u})},r.default.createElement(i.Spinner,{loading:u},t.length>0?r.default.createElement(i.TreeView,{nodes:t,selectNode:n,highlightOnSelect:!0,highlightOnHover:!0}):r.default.createElement("div",{className:"treeview__is-empty"},r.default.createElement("h3",null,__("No mappings have been added yet"))))),r.default.createElement("div",{className:"treeview-container--buttons"},r.default.createElement(i.Button,{disabled:0===t.length||!l,onClick:a},__("Remove Mapping"))," ",r.default.createElement(i.Button,{disabled:0===t.length,onClick:s},__("Remove All"))))};l.propTypes={mappings:a.default.array,selectMapping:a.default.func,removeMapping:a.default.func,removeAll:a.default.func,selectedMapping:a.default.object,loading:a.default.bool},t.default=l},1998:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n(0)),i=h(n(1)),s=n(6),l=h(n(478)),u=h(n(477)),c=h(n(476)),d=h(n(475)),f=h(n(1997)),p=n(792),m=n(791),_=n(321),g=n(41),v=n(254);function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return n=a=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={selectedTargetCluster:null,selectedSourceClusters:[],selectedMapping:null},a.selectSourceCluster=function(e){a.setState(function(t){return t.selectedSourceClusters.some(function(t){return t.id===e.id})?{selectedSourceClusters:t.selectedSourceClusters.filter(function(t){return t.id!==e.id})}:{selectedSourceClusters:[].concat(y(t.selectedSourceClusters),[e])}})},a.selectTargetCluster=function(e){a.setState(function(){return{selectedTargetCluster:e}})},a.addMapping=function(){var e=a.props.input,t=e.value,n=e.onChange,r=a.state,o=r.selectedTargetCluster,i=r.selectedSourceClusters;t.some(function(e){return e.id===o.id})?n(t.map(function(e){return(0,p.updateMapping)(e,o,i)})):n([].concat(y(t),[(0,p.createNewMapping)(o,i)]));a.setState(function(){return{selectedTargetCluster:null,selectedSourceClusters:[]}})},a.selectMapping=function(e){var t=a.props.input;t.onChange(t.value.map(function(t){return t.id===e.id?r({},t,{selected:!t.selected}):t.id!==e.id&&t.selected?r({},t,{selected:!1}):t})),a.setState(function(){return{selectedMapping:e}})},a.removeMapping=function(){var e=a.props.input;a.setState(function(t){var n=e.value;return e.onChange(n.filter(function(e){return!(e.id===t.selectedMapping.id)})),{selectedMapping:null}})},a.removeAll=function(){a.props.input.onChange([])},a.noClustersFound=function(e,t){return!e.length&&!t&&o.default.createElement("div",{className:"dual-pane-mapper-item"},o.default.createElement(s.Icon,{type:"pf",name:"error-circle-o"})," ",__("No clusters found."))},a.allClustersMapped=function(e,t,n){return!!e.length&&!t.length&&!n&&o.default.createElement("div",{className:"dual-pane-mapper-item"},o.default.createElement(s.Icon,{type:"pf",name:"ok"})," ",__("All source clusters have been mapped."))},T(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.sourceClusters,r=t.targetClusters,a=t.isFetchingSourceClusters,i=t.isFetchingTargetClusters,s=t.input,h=t.targetProvider,y=t.rhvConversionHosts,T=t.providers,E=t.isQueryingProviders,S=this.state,P=S.selectedTargetCluster,b=S.selectedSourceClusters,A=S.selectedMapping,C=(0,m.sourceClustersFilter)(n,s.value),O=o.default.createElement(c.default,{selectedItems:b.length,totalItems:C.length}),M=o.default.createElement(c.default,{selectedItems:P?1:0,totalItems:1});return o.default.createElement("div",{className:"dual-pane-mapper-form"},o.default.createElement("p",{style:{marginLeft:-40}},__("Select source cluster(s) and a target cluster and click Add Mapping to add the mapping. Multiple mappings can be added.")),o.default.createElement(l.default,{handleButtonClick:this.addMapping,validMapping:!(P&&b&&b.length>0)},n&&o.default.createElement(u.default,{id:"source_clusters",listTitle:__("Source Provider \\ Datacenter \\ Cluster"),loading:a,counter:O},C.map(function(t){return o.default.createElement(d.default,{item:t,text:t.v_parent_datacenter?t.ext_management_system.name+" \\ "+t.v_parent_datacenter+" \\ "+t.name:""+t.name,key:t.id,selected:b&&b.some(function(e){return e.id===t.id}),handleClick:e.selectSourceCluster,handleKeyPress:e.selectSourceCluster})}),this.noClustersFound(n,a),this.allClustersMapped(n,C,a)),r&&o.default.createElement(u.default,{id:"target_clusters",listTitle:(0,v.multiProviderTargetLabel)(h,"cluster"),loading:i,counter:M},r.map(function(t){var n=void 0;h===g.RHV?n=0===y.filter(function(e){return e.resource.ems_cluster_id===t.id}).length:h===g.OPENSTACK&&(n=T.length&&!E&&!(0,p.providerHasSshKeyPair)(t,T));return o.default.createElement(d.default,{item:t,text:t.v_parent_datacenter?t.ext_management_system.name+" \\ "+t.v_parent_datacenter+" \\ "+t.name:t.ext_management_system.name+" \\ "+t.name,key:t.id,selected:P&&P.id===t.id,handleClick:e.selectTargetCluster,handleKeyPress:e.selectTargetCluster,warningMessage:n?_.TARGET_WARNING_MESSAGES[h]:""})}),this.noClustersFound(r,i))),s.value&&o.default.createElement(f.default,{mappings:s.value,selectMapping:this.selectMapping,removeMapping:this.removeMapping,removeAll:this.removeAll,selectedMapping:A,loading:i||a}))}}]),t}();E.propTypes={input:i.default.object,sourceClusters:i.default.arrayOf(i.default.object),targetClusters:i.default.arrayOf(i.default.object),isFetchingSourceClusters:i.default.bool,isFetchingTargetClusters:i.default.bool,targetProvider:i.default.string,rhvConversionHosts:i.default.array,providers:i.default.array,isQueryingProviders:i.default.bool},t.default=E},1999:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n(0)),o=m(n(1)),i=n(6),s=n(37),l=n(97),u=m(n(1998)),c=n(321),d=n(322),f=n(1996),p=n(41);function m(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=_(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.fetchClusters=function(){var e=r.props,t=e.fetchSourceClustersUrl,n=e.fetchSourceClustersAction,a=e.fetchTargetComputeUrls,o=e.fetchTargetClustersAction,i=e.targetProvider,s=e.queryProvidersAction,l=e.queryProvidersUrl;n(t),o(a[i]).then(function(e){var t=e.value&&e.value.data&&e.value.data.resources.length>0;i===p.OPENSTACK&&t&&s(l,(0,f.getProviderIds)(e.value.data.resources))})},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.targetProvider,n=e.ospConversionHosts,r=e.showAlertAction;this.fetchClusters(),t===p.OPENSTACK&&0===n.length&&r(__("No OpenStack conversion hosts are configured. You can continue to create an infrastructure mapping, but you must configure a conversion host before migration execution."),"warning")}},{key:"componentWillUnmount",value:function(){this.props.hideAlertAction()}},{key:"render",value:function(){var e=this.props,t=e.isFetchingSourceClusters,n=e.sourceClusters,r=e.isFetchingTargetClusters,o=e.targetClusters,c=e.isRejectedSourceClusters,d=e.isRejectedTargetClusters,f=e.targetProvider,p=e.rhvConversionHosts,m=e.providers,_=e.isQueryingProviders;return c||d?a.default.createElement("div",{className:"wizard-pf-complete blank-slate-pf"},a.default.createElement("div",{className:"wizard-pf-success-icon"},a.default.createElement("span",{className:"pficon pficon-error-circle-o"})),a.default.createElement("h3",{className:"blank-slate-pf-main-action"},__("Error Retrieving Clusters")),a.default.createElement("p",{className:"blank-slate-pf-secondary-action"},__("We're sorry, something went wrong. Please try again.")),a.default.createElement(i.Button,{bsStyle:"primary",onClick:this.fetchClusters},__("Retry"))):a.default.createElement(s.Field,{name:"clusterMappings",component:u.default,sourceClusters:n,targetClusters:o,validate:[(0,l.length)({min:1})],isFetchingSourceClusters:t,isFetchingTargetClusters:r,targetProvider:f,rhvConversionHosts:p,providers:m,isQueryingProviders:_})}}]),t}();g.propTypes={fetchSourceClustersUrl:o.default.string,fetchSourceClustersAction:o.default.func,fetchTargetComputeUrls:o.default.object,fetchTargetClustersAction:o.default.func,showAlertAction:o.default.func,hideAlertAction:o.default.func,sourceClusters:o.default.arrayOf(o.default.object),targetClusters:o.default.arrayOf(o.default.object),isFetchingSourceClusters:o.default.bool,isFetchingTargetClusters:o.default.bool,isRejectedSourceClusters:o.default.bool,isRejectedTargetClusters:o.default.bool,targetProvider:o.default.string,rhvConversionHosts:o.default.array,ospConversionHosts:o.default.array,providers:o.default.array,isQueryingProviders:o.default.bool,queryProvidersAction:o.default.func,queryProvidersUrl:o.default.string},g.defaultProps={fetchSourceClustersAction:i.noop,fetchTargetClustersAction:i.noop,isFetchingSourceClusters:!0,isFetchingTargetClusters:!0,isRejectedSourceClusters:!1,isRejectedTargetClusters:!1,targetProvider:"",rhvConversionHosts:[],ospConversionHosts:[],fetchSourceClustersUrl:"/api/clusters?expand=resources&attributes=ext_management_system.emstype,v_parent_datacenter,ext_management_system.name&filter[]=ext_management_system.emstype=vmwarews",fetchTargetComputeUrls:d.FETCH_TARGET_COMPUTE_URLS,queryProvidersUrl:c.QUERY_PROVIDERS_URL},t.default=(0,s.reduxForm)({form:"mappingWizardClustersStep",destroyOnUnmount:!1})(g)},20:function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},200:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.determineTargetProvider=t.getTransformationMappingItemsByDestinationType=t.getTransformationMappingItemsBySourceType=t.groupClusterTransformationItemsByDestinationId=t.getSourceClustersWithMappings=t.getMappedSourceClusters=t.createTransformationMappings=t.mappingUrlRegex=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(41);function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=t.mappingUrlRegex=/\/api\/\w{1,}\/\d{1,}/,s=(t.createTransformationMappings=function(e,t,n,r){var a=t.values.clusterMappings.reduce(function(e,t){var n=t.href.match(i)[0],r=t.nodes.reduce(function(e,t){return e.concat({source:t.href.match(i)[0],destination:n})},[]);return e.concat(r)},[]),s=n.values.datastoresMappings.reduce(function(e,t){var n=t.nodes.reduce(function(e,t){var n=t.nodes.reduce(function(e,n){return e.concat({source:n.href.match(i)[0],destination:t.href.match(i)[0]})},[]);return e.concat(n)},[]);return e.concat(n)},[]),l=r.values.networksMappings.reduce(function(e,t){var n=t.nodes.reduce(function(e,t){var n=t.nodes.reduce(function(e,n){return e.concat({source:n.href.match(i)[0],destination:t.href.match(i)[0]})},[]);return e.concat(n)},[]);return e.concat(n)},[]);return{name:e.values.name,description:e.values.description,state:"draft",transformation_mapping_items:[].concat(o(a),o(s),o(l))}},t.getMappedSourceClusters=function(e){return e.reduce(function(e,t){return e.concat(t.nodes)},[])},t.getSourceClustersWithMappings=function(e){return e.reduce(function(e,t){var n=t.nodes.reduce(function(e,t){var n=t.nodes.map(function(e){return e.sourceClusterId});return e.concat(Array.from(new Set(n)))},[]);return e.concat(Array.from(new Set(n)))},[])},t.groupClusterTransformationItemsByDestinationId=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){return r({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.destination_id,e[t.destination_id]?[].concat(o(e[t.destination_id]),[t.source_id]):[t.source_id]))},{})},t.getTransformationMappingItemsBySourceType=function(e,t){return t.transformation_mapping_items.filter(function(t){return t.source_type===e})},t.getTransformationMappingItemsByDestinationType=function(e,t){return t.transformation_mapping_items.filter(function(t){return t.destination_type===e})});t.determineTargetProvider=function(e){return s(a.TRANSFORMATION_MAPPING_ITEM_DESTINATION_TYPES.openstack.cluster,e).length?"openstack":"rhevm"}},2000:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(488),o=n(41);var i=t.initialState=(0,r.default)({editingMapping:null,conversionHosts:[],isFetchingConversionHosts:!1,isRejectedConversionHosts:!1,errorFetchingConversionHosts:null});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case a.SET_V2V_EDITING_MAPPING:return e.set("editingMapping",t.payload);case a.FETCH_V2V_CONVERSION_HOSTS+"_PENDING":return e.set("isFetchingConversionHosts",!0).set("isRejectedConversionHosts",!1).set("errorFetchingConversionHosts",null);case a.FETCH_V2V_CONVERSION_HOSTS+"_FULFILLED":return e.set("conversionHosts",t.payload.data.resources).set("isFetchingConversionHosts",!1).set("isRejectedConversionHosts",!1).set("errorFetchingConversionHosts",null);case a.FETCH_V2V_CONVERSION_HOSTS+"_REJECTED":return e.set("isFetchingConversionHosts",!1).set("isRejectedConversionHosts",!0).set("errorFetchingConversionHosts",t.payload);case o.V2V_MAPPING_WIZARD_EXITED:return i;default:return e}}},2001:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchConversionHostsAction=t.setEditingMappingAction=void 0;var r=i(n(62)),a=i(n(52)),o=n(488);function i(e){return e&&e.__esModule?e:{default:e}}t.setEditingMappingAction=function(e){return{type:o.SET_V2V_EDITING_MAPPING,payload:e}},t.fetchConversionHostsAction=function(e){return function(e){return function(t){return t({type:o.FETCH_V2V_CONVERSION_HOSTS,payload:a.default.get(e)})}}(new r.default(e).toString())}},2002:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.asyncValidate=function(e,t,n){return new Promise(function(t,r){var a=e.name,o=n.transformationMappings,i=n.editingMapping,s=o.reduce(function(e,t){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[t.name.trim()])},[]).find(function(e){return e===a.trim()}),l=i&&s===i.name;s&&!l?(n.showAlertAction(sprintf(__("Infrastructure mapping %s already exists"),a)),r({name:__("Mapping name already exists. Enter a unique name.")})):t()})},t.onChange=function(e,t,n){n.valid&&n.hideAlertAction()}},2003:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=_(n(0)),o=_(n(1)),i=n(37),s=n(97),l=n(6),u=n(203),c=n(163),d=n(88),f=n(41),p=n(2002),m=n(200);function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.componentDidMount=function(){var e=r.props,t=e.editingMapping,n=e.initialize,a=e.initialized,o=e.conversionHosts,i=e.fetchConversionHostsAction,s=e.fetchConversionHostsUrl;t&&!a&&n({name:t.name,description:t.description,targetProvider:(0,m.determineTargetProvider)(t)}),0===o.length&&i(s)},r.onSelect=function(e){var t=r.props,n=t.targetProvider,a=t.dispatch,o=t.setEditingMappingAction;n!==e&&(o(null),a((0,i.reset)("mappingWizardClustersStep")),a((0,i.reset)("mappingWizardDatastoresStep")),a((0,i.reset)("mappingWizardNetworksStep")))},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.targetProvider,n=e.editingMapping;return a.default.createElement(l.Form,{className:"form-horizontal"},a.default.createElement(i.Field,{name:"name",label:__("Name"),required:!0,component:u.FormField,type:"text",help:d.validation.name.help,maxLength:d.validation.name.maxLength,maxLengthWarning:d.validation.name.maxLengthWarning,validate:[(0,s.required)({msg:d.validation.name.requiredMessage})]}),a.default.createElement(i.Field,{name:"description",label:__("Description"),component:u.FormField,type:"textarea",help:d.validation.description.help,maxLength:d.validation.description.maxLength,maxLengthWarning:d.validation.description.maxLengthWarning}),a.default.createElement(i.Field,{name:"targetProvider",label:__("Target Provider"),component:c.BootstrapSelect,options:f.V2V_TARGET_PROVIDERS,option_key:"id",option_value:"name",pre_selected_value:t||f.V2V_TARGET_PROVIDERS[0].id,labelWidth:2,controlWidth:9,inline_label:!0,onSelect:this.onSelect,disabled:!!n}))}}]),t}();v.propTypes={targetProvider:o.default.string,dispatch:o.default.func,editingMapping:o.default.object,initialize:o.default.func,initialized:o.default.bool,setEditingMappingAction:o.default.func,fetchConversionHostsAction:o.default.func,fetchConversionHostsUrl:o.default.string,conversionHosts:o.default.array},v.defaultProps={targetProvider:"",conversionHosts:[],fetchConversionHostsUrl:"/api/conversion_hosts?attributes=resource&expand=resources",dispatch:l.noop},t.default=(0,i.reduxForm)({form:"mappingWizardGeneralStep",destroyOnUnmount:!1,asyncValidate:p.asyncValidate,asyncBlurFields:["name"],onChange:p.onChange})(v)},2004:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(41);var o=(0,r.default)({transformationsBody:{},warningModalVisible:!1,alert:""});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.V2V_SET_TRANSFORMATIONS_BODY:return e.set("transformationsBody",t.payload);case a.V2V_SHOW_WARNING_MODAL:return r.default.merge(e,{warningModalVisible:!0,sourceClustersWithoutMappings:t.payload});case a.V2V_HIDE_WARNING_MODAL:return r.default.merge(e,{warningModalVisible:!1});case a.V2V_SHOW_ALERT:return r.default.merge(e,t.payload);case a.V2V_HIDE_ALERT:return e.set("alertText","");default:return e}}},2005:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mappingWizardFormFilter=function(e){return{mappingWizardGeneralStep:e.mappingWizardGeneralStep,mappingWizardClustersStep:e.mappingWizardClustersStep,mappingWizardDatastoresStep:e.mappingWizardDatastoresStep,mappingWizardNetworksStep:e.mappingWizardNetworksStep}}},2006:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),o=n(6);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.warningModalVisible,n=e.hideWarningModalAction,a=e.onFinalStep,i=e.activeStepIndex,s=e.nextStep,l=e.sourceClustersWithoutMappings,u=2===i?"Datastores":"Networks";return r.default.createElement(o.Modal,{show:t,onHide:n,onExited:n,dialogClassName:"warning-modal",backdropClassName:"warning-modal",backdrop:"static"},r.default.createElement(o.Modal.Header,null,r.default.createElement("button",{className:"close",onClick:n,"aria-hidden":"true","aria-label":"Close"},r.default.createElement(o.Icon,{type:"pf",name:"close"})),r.default.createElement(o.Modal.Title,null,sprintf(__("Unmapped %s"),u))),r.default.createElement(o.Modal.Body,{className:"warning-modal-body"},r.default.createElement("div",{className:"warning-modal-body--icon"},r.default.createElement(o.Icon,{type:"pf",name:"warning-triangle-o"})),r.default.createElement("div",{className:"warning-modal-body--list"},r.default.createElement("h3",null,sprintf(__("The following source clusters have no mapped %s"),u.toLowerCase())),r.default.createElement("ul",null,l&&l.map(function(e){return r.default.createElement("li",{key:e.id},e.name)})))),r.default.createElement(o.Modal.Footer,{className:"warning-modal-footer"},r.default.createElement(o.Button,{bsStyle:"default",className:"btn-cancel",onClick:n},__("Cancel")),r.default.createElement(o.Button,{bsStyle:"primary",onClick:a?n:s,autoFocus:!0},a?__("Close"):3===i?__("Create"):__("Continue"))))};s.propTypes={warningModalVisible:a.default.bool,hideWarningModalAction:a.default.func,onFinalStep:a.default.bool,activeStepIndex:a.default.number,nextStep:a.default.func,sourceClustersWithoutMappings:a.default.array},t.default=s},2007:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),i=c(n(1)),s=n(6),l=c(n(483)),u=c(n(175));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mappingWizardGeneralStepContainer=u.default.markup("MappingWizardGeneralStepContainer"),n.mappingWizardClustersStepContainer=u.default.markup("MappingWizardClustersStepContainer"),n.mappingWizardDatastoresStepContainer=u.default.markup("MappingWizardDatastoresStepContainer"),n.mappingWizardNetworksStepContainer=u.default.markup("MappingWizardNetworksStepContainer"),n.mappingWizardResultsStepContainer=u.default.markup("MappingWizardResultsStepContainer"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return JSON.stringify(this.props)!==JSON.stringify(e)}},{key:"componentWillUnmount",value:function(){(0,this.props.hideAlertAction)()}},{key:"render",value:function(){var e=this;return o.default.createElement(l.default.Body,r({},this.props,{loadingTitle:__("Loading Infrastructure Mappings..."),loadingMessage:__("This may take a minute."),stepButtonsDisabled:!0,steps:[{title:__("General"),render:function(){return e.mappingWizardGeneralStepContainer},disableGoto:!this.props.mappingWizardGeneralStep.values},{title:__("Map Compute"),render:function(){return e.mappingWizardClustersStepContainer},disableGoto:!this.props.mappingWizardClustersStep.values},{title:__("Map Storage"),render:function(){return e.mappingWizardDatastoresStepContainer},disableGoto:!this.props.mappingWizardDatastoresStep.values},{title:__("Map Networks"),render:function(){return e.mappingWizardNetworksStepContainer},disableGoto:!this.props.mappingWizardNetworksStep.values},{title:__("Results"),render:function(){return e.mappingWizardResultsStepContainer},disableGoto:!0}]}))}}]),t}();d.propTypes={loaded:i.default.bool,activeStepIndex:i.default.number,activeStep:i.default.string,goToStep:i.default.func,disableNextStep:i.default.bool,transformationsBody:i.default.object,mappingWizardGeneralStep:i.default.object,mappingWizardClustersStep:i.default.object,mappingWizardDatastoresStep:i.default.object,mappingWizardNetworksStep:i.default.object,hideAlertAction:i.default.func},d.defaultProps={loaded:!1,activeStepIndex:0,activeStep:"1",goToStep:s.noop,disableNextStep:!0,transformationsBody:{},mappingWizardGeneralStep:{},mappingWizardClustersStep:{},mappingWizardDatastoresStep:{},mappingWizardNetworksStep:{},hideAlertAction:s.noop},t.default=d},2008:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(0)),o=c(n(1)),i=n(6),s=n(200),l=c(n(2007)),u=c(n(2006));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=["mappingWizardGeneralStep","mappingWizardClustersStep","mappingWizardDatastoresStep","mappingWizardNetworksStep","mappingWizardResultsStep"],p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={activeStepIndex:0},r.prevStep=function(){var e=r.state.activeStepIndex;r.setState({activeStepIndex:Math.max(e-1,0)})},r.nextStep=function(){var e=r.state.activeStepIndex,t=r.props,n=t.mappingWizardGeneralStep,a=t.mappingWizardClustersStep,o=t.mappingWizardDatastoresStep,i=t.mappingWizardNetworksStep,l=t.setTransformationsBodyAction,u=t.showWarningModalAction,c=t.hideWarningModalAction,d=t.warningModalVisible,p=t.showAlertAction,m=t.hideAlertAction;if(0===e)n.asyncErrors?p(sprintf(__("Infrastructure mapping %s already exists"),n.values.name)):(m(),r.setState({activeStepIndex:Math.min(e+1,f.length-1)}));else if(2!==e||d)if(3!==e||d){if(c(),3===e)l((0,s.createTransformationMappings)(n,a,o,i));r.setState({activeStepIndex:Math.min(e+1,f.length-1)})}else{var _=a.values.clusterMappings,g=i.values.networksMappings,v=(0,s.getMappedSourceClusters)(_).filter(function(e){return!(0,s.getSourceClustersWithMappings)(g).includes(e.id)});if(v.length>0)u(v);else l((0,s.createTransformationMappings)(n,a,o,i)),r.setState({activeStepIndex:Math.min(e+1,f.length-1)})}else{var h=a.values.clusterMappings,y=o.values.datastoresMappings,T=(0,s.getMappedSourceClusters)(h).filter(function(e){return!(0,s.getSourceClustersWithMappings)(y).includes(e.id)});T.length>0?u(T):r.setState({activeStepIndex:Math.min(e+1,f.length-1)})}},r.goToStep=function(e){2===r.state.activeStepIndex&&3===e?r.nextStep():r.setState(function(){return{activeStepIndex:e}})},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.hideMappingWizard,n=e.hideMappingWizardAction,r=e.mappingWizardExitedAction,o=e.hideWarningModalAction,s=e.warningModalVisible,c=e.sourceClustersWithoutMappings,d=e.mappingWizardGeneralStep,p=e.mappingWizardClustersStep,m=e.mappingWizardDatastoresStep,_=e.mappingWizardNetworksStep,g=e.alertText,v=e.alertType,h=e.hideAlertAction,y=e.editingMapping,T=this.state,E=T.activeStepIndex,S=T.transformationsBody,P=(E+1).toString(),b=0===E,A=E===f.length-1,C=!A&&f[E],O=!A&&this.props[C],M=!(A||!O.syncErrors&&!O.asyncErrors);return a.default.createElement(i.Wizard,{show:!t,onClose:function(){n(A)},onExited:r,backdrop:"static"},a.default.createElement(i.Wizard.Header,{onClose:function(){n(A)},title:y?__("Edit Infrastructure Mapping"):__("Create Infrastructure Mapping")}),a.default.createElement(i.Wizard.Body,null,a.default.createElement(l.default,{loaded:!0,activeStepIndex:E,activeStep:P,goToStep:this.goToStep,disableNextStep:M,transformationsBody:S,mappingWizardGeneralStep:d,mappingWizardClustersStep:p,mappingWizardDatastoresStep:m,mappingWizardNetworksStep:_,alertText:g,alertType:v,hideAlertAction:h})),a.default.createElement(i.Wizard.Footer,null,a.default.createElement(i.Button,{bsStyle:"default",className:"btn-cancel",onClick:function(){n(A)},disabled:A},__("Cancel")),a.default.createElement(i.Button,{bsStyle:"default",onClick:this.prevStep,disabled:b||A},a.default.createElement(i.Icon,{type:"fa",name:"angle-left"}),__("Back")),a.default.createElement(i.Button,{bsStyle:"primary",onClick:A?function(){return n(A)}:this.nextStep,disabled:M},A?__("Close"):3===E?y?__("Save"):__("Create"):__("Next"),!A&&a.default.createElement(i.Icon,{type:"fa",name:"angle-right"}))),a.default.createElement(u.default,{warningModalVisible:s,hideWarningModalAction:o,onFinalStep:A,activeStepIndex:E,nextStep:this.nextStep,sourceClustersWithoutMappings:c}))}}]),t}();p.propTypes={hideMappingWizard:o.default.bool,hideMappingWizardAction:o.default.func,mappingWizardExitedAction:o.default.func,mappingWizardGeneralStep:o.default.object,mappingWizardClustersStep:o.default.object,mappingWizardDatastoresStep:o.default.object,mappingWizardNetworksStep:o.default.object,setTransformationsBodyAction:o.default.func,showWarningModalAction:o.default.func,hideWarningModalAction:o.default.func,warningModalVisible:o.default.bool,sourceClustersWithoutMappings:o.default.array,alertText:o.default.string,alertType:o.default.string,showAlertAction:o.default.func,hideAlertAction:o.default.func,editingMapping:o.default.object},p.defaultProps={hideMappingWizard:!0,hideMappingWizardAction:i.noop,mappingWizardExitedAction:i.noop,mappingWizardGeneralStep:{},mappingWizardClustersStep:{},mappingWizardDatastoresStep:{},mappingWizardNetworksStep:{},setTransformationsBodyAction:i.noop,hideAlertAction:i.noop},t.default=p},2009:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addAssociatedPlansCount=function(e){return e.map(function(e){return e.associatedPlansCount=e.service_templates&&e.service_templates.length,e})}},201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FETCH_V2V_PLAN_REQUEST="FETCH_V2V_PLAN_REQUEST",t.FETCH_V2V_PLAN="FETCH_V2V_PLAN",t.FETCH_V2V_ALL_REQUESTS_WITH_TASKS_FOR_PLAN="FETCH_V2V_ALL_REQUESTS_WITH_TASKS_FOR_PLAN",t.QUERY_V2V_PLAN_VMS="QUERY_V2V_PLAN_VMS",t.RESET_PLAN_STATE="RESET_PLAN_STATE",t.FETCH_V2V_MIGRATION_TASK_LOG="FETCH_V2V_MIGRATION_TASK_LOG",t.DOWNLOAD_LOG_CLICKED="DOWNLOAD_LOG_CLICKED",t.DOWNLOAD_LOG_COMPLETED="DOWNLOAD_LOG_COMPLETED",t.FETCH_V2V_ANSIBLE_PLAYBOOK_TEMPLATE="FETCH_V2V_ANSIBLE_PLAYBOOK_TEMPLATE",t.FETCH_V2V_ORCHESTRATION_STACK="FETCH_V2V_ORCHESTRATION_STACK",t.CANCEL_V2V_PLAN_REQUEST_TASKS="CANCEL_V2V_PLAN_REQUEST_TASKS",t.REMOVE_TASKS_SELECTED_FOR_CANCELLATION="REMOVE_TASKS_SELECTED_FOR_CANCELLATION",t.UPDATE_TASKS_SELECTED_FOR_CANCELLATION="UPDATE_TASKS_SELECTED_FOR_CANCELLATION",t.DELETE_ALL_TASKS_SELECTED_FOR_CANCELLATION="DELETE_ALL_TASKS_SELECTED_FOR_CANCELLATION",t.ADD_TASKS_TO_MARKED_FOR_CANCELLATION="ADD_TASKS_TO_MARKED_FOR_CANCELLATION",t.ADD_TASK_TO_NOTIFICATION_SENT_LIST="ADD_TASK_TO_NOTIFICATION_SENT_LIST",t.FETCH_V2V_REQUEST_TASK="FETCH_V2V_REQUEST_TASK",t.FETCH_V2V_CONVERSION_HOST="FETCH_V2V_CONVERSION_HOST",t.REQUEST_TASKS_URL="/api/request_tasks";var r=t.STATUS_MESSAGE_KEYS={ACQUIRE_TRANSFORMATION_HOST:"Acquire Transformation Host",ASSESS_MIGRATION:"Assess Migration",AUTOMATION_STARTING:"Automation Starting",COLLAPSE_SNAPSHOTS:"Collapse Snapshots",CONVERT_DISKS:"Convert disks",FAILED:"Failed",SOURCE_MIGRATED:"Mark source as migrated",MIGRATING:"Migrating",MIGRATION_COMPLETE:"Migration complete",POST_MIGRATION:"Post-migration",POWER_OFF:"Power off",POWER_ON:"Power-on VM",PRE_MIGRATION:"Pre-migration",PRE_TRANSFORM_VM:"Pre Transform VM",REFRESH_INVENTORY:"Refresh inventory",RESTORE_VM_ATTRIBUTES:"Restore VM Attributes",RUN_PRE_MIGRATION_PLAYBOOK:"Run pre-migration playbook",RUN_POST_MIGRATION_PLAYBOOK:"Run post-migration playbook",TRANSFORM_VM:"Transform VM",UPDATE_DESCRIPTION:"Update description of VM",VALIDATING:"Validating",VM_TRANSFORMATIONS_COMPLETED:"VM Transformations completed",VM_MIGRATED:"Virtual machine migrated",VM_TRANSFORMATIONS_FAILED:"VM Transformations failed"},a={};a[r.ACQUIRE_TRANSFORMATION_HOST]=__("Acquire Transformation Host"),a[r.ASSESS_MIGRATION]=__("Assess Migration"),a[r.AUTOMATION_STARTING]=__("Automation Starting"),a[r.COLLAPSE_SNAPSHOTS]=__("Collapse Snapshots"),a[r.CONVERT_DISKS]=__("Convert disks"),a[r.FAILED]=__("Failed"),a[r.SOURCE_MIGRATED]=__("Mark source as migrated"),a[r.MIGRATING]=__("Migrating"),a[r.MIGRATION_COMPLETE]=__("Migration complete"),a[r.POST_MIGRATION]=__("Postmigration"),a[r.POWER_OFF]=__("Power off"),a[r.POWER_ON]=__("Power-on VM"),a[r.PRE_MIGRATION]=__("Premigration"),a[r.PRE_TRANSFORM_VM]=__("Premigrate VM"),a[r.REFRESH_INVENTORY]=__("Refresh inventory"),a[r.RESTORE_VM_ATTRIBUTES]=__("Restore VM Attributes"),a[r.RUN_PRE_MIGRATION_PLAYBOOK]=__("Run premigration playbook"),a[r.RUN_POST_MIGRATION_PLAYBOOK]=__("Run postmigration playbook"),a[r.TRANSFORM_VM]=__("Migrate VM"),a[r.UPDATE_DESCRIPTION]=__("Update description of VM"),a[r.VALIDATING]=__("Validating"),a[r.VM_TRANSFORMATIONS_COMPLETED]=__("VM migrations completed"),a[r.VM_MIGRATED]=__("Virtual machine migrated"),a[r.VM_TRANSFORMATIONS_FAILED]=__("VM migrations failed"),a[r.CANCELLED]=__("VM cancelled"),t.V2V_MIGRATION_STATUS_MESSAGES=a},2010:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.networksSchema=void 0;var r=n(101);t.networksSchema=(0,r.array)().of((0,r.object)().shape({href:(0,r.string)().required(),id:(0,r.string)().required(),switch_id:(0,r.string)().required(),name:(0,r.string)().required(),uid_ems:(0,r.string)().required()})).nullable()},2011:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.datastoresSchema=void 0;var r=n(101);t.datastoresSchema=(0,r.array)().of((0,r.object)().shape({href:(0,r.string)().required(),id:(0,r.string)().required()})).nullable()},2012:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clustersSchema=void 0;var r=n(101);t.clustersSchema=(0,r.array)().of((0,r.object)().shape({href:(0,r.string)().required(),id:(0,r.string)().required(),ems_id:(0,r.string)().required(),uid_ems:(0,r.string)().required(),ext_management_system:(0,r.object)().shape({emstype:(0,r.string)().required(),name:(0,r.string)().required()}).required(),v_parent_datacenter:(0,r.string)().nullable()})).nullable()},2013:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateMappings=t.validateNetworks=t.validateDatastores=t.validateClusters=void 0;var r=n(323),a=n(2012),o=n(2011),i=n(804),s=n(2010);t.validateClusters=function(e){(0,r.validateSchema)(a.clustersSchema,e)},t.validateDatastores=function(e){(0,r.validateSchema)(o.datastoresSchema,e)},t.validateNetworks=function(e){(0,r.validateSchema)(s.networksSchema,e)},t.validateMappings=function(e){(0,r.validateSchema)(i.mappingsSchema,e)}},2014:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(2013),o=n(164),i=n(41),s=n(55),l=n(2009);var u=t.initialState=(0,r.default)({cloudNetworks:[],cloudTenants:[],cloudVolumeTypes:[],clusters:[],datastores:[],deleteInfrastructureMappingResponse:null,errorCloudNetworks:null,errorCloudTenants:null,errorCloudVolumeTypes:null,errorClusters:null,errorDatastores:null,errorDeleteInfrastructureMapping:null,errorNetworks:null,errorTransformationMappings:null,hideMappingWizard:!0,isDeletingInfrastructureMapping:!1,isFetchingCloudNetworks:!1,isFetchingCloudTenants:!1,isFetchingCloudVolumeTypes:!1,isFetchingClusters:!1,isFetchingDatastores:!1,isFetchingNetworks:!1,isFetchingTransformationMappings:!1,isRejectedCloudNetworks:!1,isRejectedCloudTenants:!1,isRejectedCloudVolumeTypes:!1,isRejectedClusters:!1,isRejectedDatastores:!1,isRejectedInfrastructureMapping:!1,isRejectedNetworks:!1,isRejectedTransformationMappings:!1,mappingToDelete:null,mappingWizardVisible:!1,networks:[],openMappingWizardOnMount:!1,showDeleteConfirmationModal:!1,transformationMappings:[],yesToDeleteInfrastructureMapping:!1});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case s.CONTINUE_TO_PLAN:return e.set("hideMappingWizard",!0);case o.DELETE_V2V_INFRASTRUCTURE_MAPPING+"_PENDING":return e.set("yesToDeleteInfrastructureMapping",!1).set("isDeletingInfrastructureMapping",t.payload);case o.DELETE_V2V_INFRASTRUCTURE_MAPPING+"_FULFILLED":return e.set("deleteInfrastructureMappingResponse",t.payload.data).set("isDeletingInfrastructureMapping",null).set("isRejectedInfrastructureMapping",!1).set("errorDeleteInfrastructureMapping",null);case o.DELETE_V2V_INFRASTRUCTURE_MAPPING+"_REJECTED":return e.set("errorDeleteInfrastructureMapping",t.payload).set("isRejectedInfrastructureMapping",!0).set("isDeletingInfrastructureMapping",null);case o.FETCH_V2V_CLOUD_NETWORKS+"_PENDING":return e.set("isFetchingCloudNetworks",!0).set("isRejectedCloudNetworks",!1);case o.FETCH_V2V_CLOUD_NETWORKS+"_FULFILLED":return e.set("cloudNetworks",t.payload.data.resources).set("isFetchingCloudNetworks",!1).set("isRejectedCloudNetworks",!1).set("errorCloudNetworks",null);case o.FETCH_V2V_CLOUD_NETWORKS+"_REJECTED":return e.set("errorCloudNetworks",t.payload).set("isRejectedCloudNetworks",!0).set("isFetchingCloudNetworks",!1);case o.FETCH_V2V_CLOUD_TENANTS+"_PENDING":return e.set("isFetchingCloudTenants",!0).set("isRejectedCloudTenants",!1);case o.FETCH_V2V_CLOUD_TENANTS+"_FULFILLED":return e.set("cloudTenants",t.payload.data.resources).set("isFetchingCloudTenants",!1).set("isRejectedCloudTenants",!1).set("errorCloudTenants",null);case o.FETCH_V2V_CLOUD_TENANTS+"_REJECTED":return e.set("errorCloudTenants",t.payload).set("isRejectedCloudTenants",!0).set("isFetchingCloudTenants",!1);case o.FETCH_V2V_CLOUD_VOLUME_TYPES+"_PENDING":return e.set("isFetchingCloudVolumeTypes",!0).set("isRejectedCloudVolumeTypes",!1);case o.FETCH_V2V_CLOUD_VOLUME_TYPES+"_FULFILLED":return e.set("cloudVolumeTypes",t.payload.data.resources).set("isFetchingCloudVolumeTypes",!1).set("isRejectedCloudVolumeTypes",!1).set("errorCloudVolumeTypes",null);case o.FETCH_V2V_CLOUD_VOLUME_TYPES+"_REJECTED":return e.set("errorCloudVolumeTypes",t.payload).set("isRejectedCloudVolumeTypes",!0).set("isFetchingCloudVolumeTypes",!1);case o.FETCH_V2V_CLUSTERS+"_PENDING":return e.set("isFetchingClusters",!0).set("isRejectedClusters",!1);case o.FETCH_V2V_CLUSTERS+"_FULFILLED":return(0,a.validateClusters)(t.payload.data.resources),e.set("clusters",t.payload.data.resources).set("isFetchingClusters",!1).set("isRejectedClusters",!1).set("errorClusters",null);case o.FETCH_V2V_CLUSTERS+"_REJECTED":return e.set("errorClusters",t.payload).set("isRejectedClusters",!0).set("isFetchingClusters",!1);case o.FETCH_V2V_DATASTORES+"_PENDING":return e.set("isFetchingDatastores",!0).set("isRejectedDatastores",!1);case o.FETCH_V2V_DATASTORES+"_FULFILLED":return(0,a.validateDatastores)(t.payload.data.resources),e.set("datastores",t.payload.data.resources).set("isFetchingDatastores",!1).set("isRejectedDatastores",!1).set("errorDatastores",null);case o.FETCH_V2V_DATASTORES+"_REJECTED":return e.set("errorDatastores",t.payload).set("isRejectedDatastores",!0).set("isFetchingDatastores",!1);case o.FETCH_V2V_NETWORKS+"_PENDING":return e.set("isFetchingNetworks",!0).set("isRejectedNetworks",!1);case o.FETCH_V2V_NETWORKS+"_FULFILLED":return(0,a.validateNetworks)(t.payload.data.resources),e.set("networks",t.payload.data.resources).set("isFetchingNetworks",!1).set("isRejectedNetworks",!1).set("errorNetworks",null);case o.FETCH_V2V_NETWORKS+"_REJECTED":return e.set("errorNetworks",t.payload).set("isRejectedNetworks",!0).set("isFetchingNetworks",!1);case o.FETCH_V2V_TRANSFORMATION_MAPPINGS+"_PENDING":return e.set("isFetchingTransformationMappings",!0).set("isRejectedTransformationMappings",!1);case o.FETCH_V2V_TRANSFORMATION_MAPPINGS+"_FULFILLED":return(0,a.validateMappings)(t.payload.data.resources),e.set("transformationMappings",(0,l.addAssociatedPlansCount)(t.payload.data.resources)).set("isRejectedTransformationMappings",!1).set("isFetchingTransformationMappings",!1).set("isContinuingToPlan",!1);case o.FETCH_V2V_TRANSFORMATION_MAPPINGS+"_REJECTED":return e.set("errorTransformationMappings",t.payload).set("isRejectedTransformationMappings",!0).set("isFetchingTransformationMappings",!1);case o.HIDE_V2V_DELETE_CONFIRMATION_MODAL:return e.set("yesToDeleteInfrastructureMapping",!1).set("showDeleteConfirmationModal",t.payload);case o.OPEN_V2V_MAPPING_WIZARD_ON_MOUNT:return e.set("openMappingWizardOnMount",!0);case o.SET_V2V_MAPPING_TO_DELETE:return e.set("mappingToDelete",t.payload);case o.SHOW_V2V_DELETE_CONFIRMATION_MODAL:return e.set("showDeleteConfirmationModal",!0);case o.YES_TO_DELETE_AND_HIDE_DELETE_CONFIRMATION_MODAL:return e.set("yesToDeleteInfrastructureMapping",!0).set("showDeleteConfirmationModal",!1);case i.V2V_HIDE_MAPPING_WIZARD:return e.set("hideMappingWizard",!0);case i.V2V_MAPPING_WIZARD_EXITED:return e.set("mappingWizardVisible",!1).set("openMappingWizardOnMount",!1);case i.V2V_SHOW_MAPPING_WIZARD:return r.default.merge(e,{mappingWizardVisible:!0,hideMappingWizard:!1});default:return e}}},2015:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),a=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.children;!function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}(e,["children"]);return r.default.createElement("div",{className:"infra-mapping-item-target"},t)};i.propTypes={children:a.default.node},t.default=i},2016:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),a=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.children;!function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}(e,["children"]);return r.default.createElement("div",{className:"infra-mapping-source-container"},r.default.createElement("div",{className:"infra-mapping-item-source"},t),r.default.createElement("div",{className:"arrow-wrapper"},r.default.createElement("div",{className:"arrow-stem"}),r.default.createElement("div",{className:"arrow-head"})))};i.propTypes={children:a.default.node},t.default=i},2017:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),o=n(6);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.showDeleteConfirmationModal,n=e.hideDeleteConfirmationModalAction,a=e.mappingToDelete,i=e.yesToDeleteInfrastructureMappingAction,s=e.notStartedTransformationPlans,l=e.finishedWithErrorTransformationPlans;return r.default.createElement(o.Modal,{show:t,onHide:n,backdrop:"static"},r.default.createElement(o.Modal.Header,null,r.default.createElement(o.Modal.CloseButton,{onClick:n}),r.default.createElement(o.Modal.Title,null,__("Delete Infrastructure Mapping"))),r.default.createElement(o.Modal.Body,{className:"warning-modal-body"},r.default.createElement("div",{className:"warning-modal-body--icon"},r.default.createElement(o.Icon,{type:"pf",name:"delete"})),r.default.createElement("div",{className:"warning-modal-body--list"},r.default.createElement("h4",null,a&&function(e,t,n){var a=[];if(t.filter(function(t){return t.options.config_info.transformation_mapping_id===e.id}).map(function(e){return a.push({name:e.name,id:e.id})}),n.filter(function(t){return t.options.config_info.transformation_mapping_id===e.id}).map(function(e){return a.push({name:e.name,id:e.id})}),a.length>0){var o=r.default.createElement("div",null,r.default.createElement("h4",null,__("The infrastructure mapping is associated with migration plans that include unmigrated VMs. Deleting the mapping will prevent you from migrating the VMs in these plans:"))),i=r.default.createElement("div",{className:"warning-modal-body-enable-scrollbar"},r.default.createElement("strong",null,a.map(function(e){return r.default.createElement("ul",{key:e.id},e.name)})));return r.default.createElement("div",null,o,i)}return""}(a,s,l)),r.default.createElement("h4",null,a&&function(e){var t="<strong>"+e.name+"</strong>",n=sprintf(__("Are you sure you want to delete the infrastructure mapping %s ?"),t);return r.default.createElement("div",{dangerouslySetInnerHTML:{__html:n}})}(a)))),r.default.createElement(o.Modal.Footer,null,r.default.createElement(o.Button,{bsStyle:"default",className:"btn-cancel",onClick:n},__("Cancel")),r.default.createElement(o.Button,{bsStyle:"primary",onClick:i},__("Delete"))))};s.propTypes={showDeleteConfirmationModal:a.default.bool,hideDeleteConfirmationModalAction:a.default.func,mappingToDelete:a.default.object,yesToDeleteInfrastructureMappingAction:a.default.func,notStartedTransformationPlans:a.default.array,finishedWithErrorTransformationPlans:a.default.array},t.default=s},2018:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=v(n(0)),o=v(n(1)),i=v(n(38)),s=v(n(531)),l=n(6),u=n(205),c=v(n(123)),d=v(n(2017)),f=v(n(2016)),p=v(n(2015)),m=n(352),_=v(n(204)),g=n(897);function v(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={transformationMappingsMutable:[]},r.clusterName=function(e){return e.v_parent_datacenter?e.ext_management_system.name+" \\ "+e.v_parent_datacenter+" \\ "+e.name:e.ext_management_system.name+" \\ "+e.name},r.toggleExpand=function(e,t){t===e.expandType?e.expanded=!e.expanded:(e.expanded=!0,e.expandType=t),r.setState({transformationMappingsMutable:r.state.transformationMappingsMutable})},r.closeExpand=function(e){e.expanded=!1,r.setState({transformationMappingsMutable:r.state.transformationMappingsMutable})},r.renderEmptyState=function(){return a.default.createElement(c.default,{showWizardAction:r.props.createInfraMappingClick,description:__("Create an infrastructure mapping to later be used by a migration plan"),buttonText:__("Create Infrastructure Mapping"),className:"mappings"})},r.renderHeadingWithLink=function(){return a.default.createElement("div",{className:"heading-with-link-container"},a.default.createElement("div",{className:"pull-left"},a.default.createElement("h3",null,__("Infrastructure Mappings"))),a.default.createElement("div",{className:"pull-right"},a.default.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),r.props.createInfraMappingClick()}},a.default.createElement(l.Icon,{type:"pf",name:"add-circle-o"})," ",__("Create Infrastructure Mapping"))))},r.renderMappingErrorsPopoverIcon=function(e,t){return a.default.createElement(l.OverlayTrigger,{rootClose:!0,trigger:"click",placement:"top",overlay:a.default.createElement(l.Popover,{id:"error-popover-"+e.name+"-"+t,style:{width:400}},__("Missing elements may indicate a change in your provider configuration. If you change the source or target provider, delete this mapping and create a new one."))},a.default.createElement(l.Icon,{type:"pf",name:"error-circle-o"}))},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.clusters,r=t.networks,o=t.datastores,i=t.cloudTenants,v=t.cloudNetworks,h=t.cloudVolumeTypes,y=t.error,T=t.inProgressRequestsTransformationMappings,E=t.showDeleteConfirmationModalAction,S=t.setMappingToDeleteAction,P=t.showDeleteConfirmationModal,b=t.hideDeleteConfirmationModalAction,A=t.mappingToDelete,C=t.yesToDeleteInfrastructureMappingAction,O=t.notStartedTransformationPlans,M=t.finishedWithErrorTransformationPlans,R=t.showMappingWizardEditModeAction,N=this.state.transformationMappingsMutable;return a.default.createElement(a.default.Fragment,null,a.default.createElement(_.default,{filterTypes:g.INFRA_MAPPINGS_FILTER_TYPES,sortFields:g.INFRA_MAPPINGS_SORT_FIELDS,listItems:N},function(t){var d=t.filteredSortedPaginatedListItems,_=t.renderFilterControls,g=t.renderSortControls,P=t.renderActiveFilters,b=t.renderPaginationRow;return y?a.default.createElement(c.default,{title:__("Error loading mappings."),iconType:"pf",iconName:"error-circle-o",className:"mappings",description:a.default.createElement(a.default.Fragment,null,a.default.createElement("span",null,__("There was an error loading Infrastructure Mappings.")),a.default.createElement("br",null),a.default.createElement("span",null,__("Please refresh and try again.")))}):N.length>0?a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Grid.Row,null,a.default.createElement(l.Toolbar,null,_(),g(),!y&&a.default.createElement(l.Toolbar.RightContent,null,a.default.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),e.props.createInfraMappingClick()}},a.default.createElement(l.Icon,{type:"pf",name:"add-circle-o"})," ",__("Create Infrastructure Mapping"))),P(d))),a.default.createElement("div",{style:{overflow:"auto",paddingBottom:300,height:"100%"}},a.default.createElement(l.ListView,{style:{marginTop:10},className:"infra-mappings-list-view",id:"infrastructure_mappings"},d.items.map(function(t){var c=t.service_templates&&t.service_templates.length,d=(0,m.mapInfrastructureMappings)(t.transformation_mapping_items,n,o,r,i,v,h),_=d.targetClusters,g=d.targetDatastores,y=d.targetNetworks,P=(0,m.getHeaderText)(t.transformation_mapping_items),b=0,A=0;_&&Object.keys(_).forEach(function(e){A+=1,b+=_[e].sourceClusters.length});var C=0,O=0;g&&Object.keys(g).forEach(function(e){O+=1,C+=g[e].sources.length});var M=0,N=0;return y&&Object.keys(y).forEach(function(e){N+=1,M+=y[e].sources.length}),a.default.createElement(l.ListView.Item,{key:t.id,heading:t.name,description:a.default.createElement(s.default,{id:t.description},a.default.createElement("small",null,t.description)),stacked:!0,compoundExpand:!0,compoundExpanded:t.expanded,onCloseCompoundExpand:function(){return e.closeExpand(t)},additionalInfo:[a.default.createElement(l.ListView.InfoItem,{key:0,id:"networks"},null===y?a.default.createElement("div",{className:"list-view-pf-expand"},e.renderMappingErrorsPopoverIcon(t,"networks"),__("Networks missing")):a.default.createElement(l.ListView.Expand,{expanded:t.expanded&&0===t.expandType,toggleExpanded:function(){e.toggleExpand(t,0)}},a.default.createElement(l.Icon,{type:"pf",name:"network"}),a.default.createElement("div",{className:"mappings-expand-label-group"},a.default.createElement("div",{className:"mappings-expand-label"},sprintf(n__("%d Source Network","%d Source Networks",M),M)),a.default.createElement("div",{className:"mappings-expand-label"},sprintf(n__("%d Target Network","%d Target Networks",N),N))))),a.default.createElement(l.ListView.InfoItem,{key:1,id:"datastores"},null===g?a.default.createElement("div",{className:"list-view-pf-expand"},e.renderMappingErrorsPopoverIcon(t,"datastores"),__("Datastores missing")):a.default.createElement(l.ListView.Expand,{expanded:t.expanded&&1===t.expandType,toggleExpanded:function(){e.toggleExpand(t,1)}},a.default.createElement(l.Icon,{type:"fa",name:"database"}),a.default.createElement("div",{className:"mappings-expand-label-group"},a.default.createElement("div",{className:"mappings-expand-label"},sprintf(n__("%d Source Datastore","%d Source Datastores",C),C)),a.default.createElement("div",{className:"mappings-expand-label"},sprintf(n__("%d Target Datastore","%d Target Datastores",O),O))))),a.default.createElement(l.ListView.InfoItem,{key:2,id:"clusters"},null===_?a.default.createElement("div",{className:"list-view-pf-expand"},e.renderMappingErrorsPopoverIcon(t,"clusters"),__("Clusters missing")):a.default.createElement(l.ListView.Expand,{expanded:t.expanded&&2===t.expandType,toggleExpanded:function(){e.toggleExpand(t,2)}},a.default.createElement(l.Icon,{type:"pf",name:"cluster"}),a.default.createElement("div",{className:"mappings-expand-label-group"},a.default.createElement("div",{className:"mappings-expand-label"},sprintf(n__("%d Source Cluster","%d Source Clusters",b),b)),a.default.createElement("div",{className:"mappings-expand-label"},sprintf(n__("%d Target Cluster","%d Target Clusters",A),A))))),c?a.default.createElement(l.ListView.InfoItem,{key:3,id:"associated-plans"},a.default.createElement(l.ListView.Expand,{expanded:t.expanded&&3===t.expandType,toggleExpanded:function(){e.toggleExpand(t,3)}},a.default.createElement(l.Icon,{type:"pf",name:"catalog"}),sprintf(n__("%d Associated Plan","%d Associated Plans",c),c))):null],actions:a.default.createElement("div",null,a.default.createElement(l.Button,{bsStyle:"link",disabled:!(!c&&_&&g&&y),onClick:function(e){e.stopPropagation(),R(t)}},a.default.createElement(l.Icon,{type:"pf",name:"edit"})),T.find(function(e){return e===t.id})?a.default.createElement(l.Button,{bsStyle:"link",disabled:!0},a.default.createElement(l.Icon,{type:"pf",className:"delete-infra-mapping-icon-disabled",name:"delete"})):a.default.createElement(l.Button,{bsStyle:"link",onClick:function(e){e.stopPropagation(),S(t),E()}},a.default.createElement(l.Icon,{type:"pf",name:"delete"})))},a.default.createElement(l.Grid.Row,null,a.default.createElement(l.Grid.Col,{sm:12},0===t.expandType&&a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Grid.Row,{className:"infra-mapping-header-row"},a.default.createElement(l.Grid.Col,{xs:6},a.default.createElement("b",null,P.sourceNetworks)),a.default.createElement(l.Grid.Col,{xs:6},a.default.createElement("b",null,P.targetNetworks))),Object.keys(y).map(function(t){var n=y[t];return a.default.createElement(l.Grid.Row,{key:t,className:"infra-mapping-networks-row"},a.default.createElement(l.Grid.Col,{xs:6},a.default.createElement(f.default,null,n.sources.map(function(t){return a.default.createElement("div",{key:t.sourceNetwork.id},e.clusterName(t.sourceCluster)," \\ "+t.sourceNetwork.name+" ")}))),a.default.createElement(l.Grid.Col,{xs:6},a.default.createElement(p.default,null,e.clusterName(n.target.targetCluster)," \\ "+n.target.targetNetwork.name+" ")))})),1===t.expandType&&a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Grid.Row,{className:"infra-mapping-header-row"},a.default.createElement(l.Grid.Col,{xs:6},a.default.createElement("b",null,P.sourceDatastores)),a.default.createElement(l.Grid.Col,{xs:6},a.default.createElement("b",null,P.targetDatastores))),Object.keys(g).map(function(t){var n=g[t];return a.default.createElement(l.Grid.Row,{key:t,className:"infra-mapping-datastores-row"},a.default.createElement(l.Grid.Col,{xs:6},a.default.createElement(f.default,null,n.sources.map(function(t){return a.default.createElement("div",{key:t.sourceDatastore.id},e.clusterName(t.sourceCluster)," \\ "+t.sourceDatastore.name+" ")}))),a.default.createElement(l.Grid.Col,{xs:6},a.default.createElement(p.default,null,e.clusterName(n.target.targetCluster)," \\ "+n.target.targetDatastore.name+" ")))})),2===t.expandType&&a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Grid.Row,{className:"infra-mapping-header-row"},a.default.createElement(l.Grid.Col,{xs:6},a.default.createElement("b",null,P.sourceClusters)),a.default.createElement(l.Grid.Col,{xs:6},a.default.createElement("b",null,P.targetClusters))),Object.keys(_).map(function(t){var n=_[t];return a.default.createElement(l.Grid.Row,{key:t,className:"infra-mapping-clusters-row"},a.default.createElement(l.Grid.Col,{xs:6},a.default.createElement(f.default,null,n.sourceClusters.map(function(t){return a.default.createElement("div",{key:t.id},e.clusterName(t))}))),a.default.createElement(l.Grid.Col,{xs:6},a.default.createElement(p.default,null,e.clusterName(n.targetCluster))))})),3===t.expandType&&a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Grid.Row,null,a.default.createElement(l.Grid.Col,{xs:12},a.default.createElement("b",null,__("Created:"))," ",(0,u.formatDateTime)(t.created_at))),a.default.createElement("br",null),a.default.createElement(l.Grid.Row,null,a.default.createElement(l.Grid.Col,{xs:12},a.default.createElement("b",null,__("Associated Plans")))),a.default.createElement(l.Grid.Row,{className:"infra-mapping-associated-plans-row"},a.default.createElement(l.Grid.Col,{xs:12}," ",c>0?t.service_templates.map(function(e,t){return a.default.createElement("div",{key:t},a.default.createElement("span",null,e.name)," "," ")}):null))))))})),b(d))):e.renderEmptyState()}),a.default.createElement(d.default,{showDeleteConfirmationModal:P,hideDeleteConfirmationModalAction:b,mappingToDelete:A,yesToDeleteInfrastructureMappingAction:C,notStartedTransformationPlans:O,finishedWithErrorTransformationPlans:M}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.transformationMappings===t.transformationMappings)return null;var n=i.default.asMutable(e.transformationMappings,{deep:!0});return n.forEach(function(e,n){var r=t.transformationMappingsMutable.find(function(t){return t.id===e.id});r&&(e.expanded=r.expanded||!1,e.expandType=r.expandType||null)}),{transformationMappings:e.transformationMappings,transformationMappingsMutable:n}}}]),t}();y.propTypes={clusters:o.default.array,datastores:o.default.array,networks:o.default.array,cloudTenants:o.default.array,cloudVolumeTypes:o.default.array,cloudNetworks:o.default.array,transformationMappings:o.default.array,error:o.default.bool,createInfraMappingClick:o.default.func,inProgressRequestsTransformationMappings:o.default.array,showDeleteConfirmationModalAction:o.default.func,setMappingToDeleteAction:o.default.func,showDeleteConfirmationModal:o.default.bool,hideDeleteConfirmationModalAction:o.default.func,mappingToDelete:o.default.object,yesToDeleteInfrastructureMappingAction:o.default.func,notStartedTransformationPlans:o.default.array,finishedWithErrorTransformationPlans:o.default.array,showMappingWizardEditModeAction:o.default.func},t.default=y},2019:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=_(a),i=_(n(1)),s=n(6),l=_(n(354)),u=_(n(175)),c=_(n(2018)),d=n(55),f=n(164),p=n(202),m=_(n(123));function _(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.mappingWizard=u.default.markup("MappingWizardContainer",n.props.store),n.componentDidMount=function(){var e=n.props,t=e.fetchArchivedTransformationPlansUrl,r=e.fetchCloudNetworksAction,a=e.fetchCloudNetworksUrl,o=e.fetchCloudTenantsAction,i=e.fetchCloudTenantsUrl,s=e.fetchCloudVolumeTypesAction,l=e.fetchCloudVolumeTypesUrl,u=e.fetchClustersAction,c=e.fetchClustersUrl,d=e.fetchDatastoresAction,f=e.fetchDatastoresUrl,p=e.fetchNetworksAction,m=e.fetchNetworksUrl,_=e.fetchProvidersAction,g=e.fetchProvidersUrl,v=e.fetchTransformationMappingsAction,h=e.fetchTransformationMappingsUrl,y=e.fetchTransformationPlansAction,T=e.fetchTransformationPlansUrl,E=e.openMappingWizardOnMount,S=e.showMappingWizardAction;E&&S(),r(a),o(i,{addSearch:{attributes:"ext_management_system.name,cloud_networks,cloud_volume_types"}}),s(l),u(c),d(f),p(m),_(g),v(h),Promise.all([y({url:T,archived:!1}),y({url:t,archived:!0})]).then(function(){n.pollingInterval||n.willUnmount||n.startPolling()})},n.componentDidUpdate=function(e){e.yesToDeleteInfrastructureMapping!==n.props.yesToDeleteInfrastructureMapping&&n.props.yesToDeleteInfrastructureMapping&&n.props.deleteInfrastructureMappingAction(n.props.mappingToDelete).then(function(){return n.props.fetchTransformationMappingsAction(n.props.fetchTransformationMappingsUrl)}),e.mappinWizardVisible!==n.props.mappingWizardVisible&&(n.props.mappingWizardVisible?n.stopPolling():n.props.mappingWizardVisible||n.pollingInterval||n.willUnmount||(n.props.fetchTransformationPlansAction({url:n.props.fetchTransformationPlansUrl,archived:!1}),n.startPolling()))},n.startPolling=function(){var e=n.props,t=e.fetchTransformationPlansAction,r=e.fetchTransformationPlansUrl;n.pollingInterval=setInterval(function(){t({url:r,archived:!1})},15e3)},n.stopPolling=function(){n.pollingInterval&&(clearInterval(n.pollingInterval),n.pollingInterval=null)},n.inProgressRequestsTransformationMappings=function(){var e=n.props.activeTransformationPlans,t=[];return e&&e.map(function(e){return t.push(e.options.config_info.transformation_mapping_id)}),t},n.willUnmount=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentWillUnmount",value:function(){this.willUnmount=!0,this.stopPolling()}},{key:"render",value:function(){var e=this.props,t=e.archivedTransformationPlans,n=e.cloudNetworks,r=e.cloudTenants,a=e.cloudVolumeTypes,i=e.clusters,u=e.datastores,d=e.deleteInfrastructureMappingAction,f=e.finishedWithErrorTransformationPlans,p=e.hasSufficientProviders,_=e.hideDeleteConfirmationModalAction,g=e.isFetchingCloudNetworks,v=e.isFetchingCloudTenants,h=e.isFetchingCloudVolumeTypes,y=e.isFetchingClusters,T=e.isFetchingDatastores,E=e.isFetchingNetworks,S=e.isFetchingProviders,P=e.isFetchingTransformationMappings,b=e.isRejectedCloudNetworks,A=e.isRejectedCloudTenants,C=e.isRejectedCloudVolumeTypes,O=e.isRejectedClusters,M=e.isRejectedDatastores,R=e.isRejectedNetworks,N=e.isRejectedTransformationMappings,I=e.mappingToDelete,V=e.mappingWizardVisible,w=e.networks,F=e.notStartedTransformationPlans,k=e.transformationMappings,D=e.transformationPlans,j=e.setMappingToDeleteAction,L=e.showDeleteConfirmationModal,H=e.showDeleteConfirmationModalAction,W=e.showMappingWizardAction,U=e.showMappingWizardEditModeAction,x=e.yesToDeleteInfrastructureMappingAction;return o.default.createElement(o.default.Fragment,null,o.default.createElement(l.default,null,o.default.createElement(s.Breadcrumb.Item,{active:!0},__("Compute")),o.default.createElement(s.Breadcrumb.Item,{active:!0},__("Migration")),o.default.createElement(s.Breadcrumb.Item,{active:!0},o.default.createElement("strong",null,__("Infrastructure Mappings")))),o.default.createElement(s.Spinner,{loading:g||v||h||y||T||E||S||P,style:{marginTop:100}},p?o.default.createElement(c.default,{clusters:i,datastores:u,networks:w,cloudTenants:r,cloudNetworks:n,cloudVolumeTypes:a,transformationMappings:k,error:O||M||R||b||A||C||N,createInfraMappingClick:W,inProgressRequestsTransformationMappings:this.inProgressRequestsTransformationMappings(),showDeleteConfirmationModalAction:H,setMappingToDeleteAction:j,showDeleteConfirmationModal:L,hideDeleteConfirmationModalAction:_,mappingToDelete:I,yesToDeleteInfrastructureMappingAction:x,notStartedTransformationPlans:F,finishedWithErrorTransformationPlans:f,deleteInfrastructureMappingAction:d,migrationPlansExist:D.length>0||t.length>0,showMappingWizardEditModeAction:U}):o.default.createElement(m.default,{description:__("The source and target providers must be configured before attempting a migration"),buttonText:__("Configure Providers"),buttonHref:"/ems_infra/show_list",className:"mappings"})),V&&this.mappingWizard)}}]),t}();g.propTypes={activeTransformationPlans:i.default.array,archivedTransformationPlans:i.default.array,cloudNetworks:i.default.array,cloudTenants:i.default.array,cloudVolumeTypes:i.default.array,clusters:i.default.array,datastores:i.default.array,deleteInfrastructureMappingAction:i.default.func,networks:i.default.array,transformationMappings:i.default.array,fetchArchivedTransformationPlansUrl:i.default.string,fetchCloudNetworksAction:i.default.func,fetchCloudNetworksUrl:i.default.string,fetchCloudTenantsAction:i.default.func,fetchCloudTenantsUrl:i.default.string,fetchCloudVolumeTypesAction:i.default.func,fetchCloudVolumeTypesUrl:i.default.string,fetchClustersAction:i.default.func,fetchClustersUrl:i.default.string,fetchDatastoresAction:i.default.func,fetchDatastoresUrl:i.default.string,fetchNetworksAction:i.default.func,fetchNetworksUrl:i.default.string,fetchProvidersAction:i.default.func,fetchProvidersUrl:i.default.string,fetchTransformationMappingsAction:i.default.func,fetchTransformationMappingsUrl:i.default.string,fetchTransformationPlansAction:i.default.func,fetchTransformationPlansUrl:i.default.string,finishedWithErrorTransformationPlans:i.default.array,hasSufficientProviders:i.default.bool,hideDeleteConfirmationModalAction:i.default.func,isFetchingCloudNetworks:i.default.bool,isFetchingCloudTenants:i.default.bool,isFetchingCloudVolumeTypes:i.default.bool,isFetchingClusters:i.default.bool,isFetchingDatastores:i.default.bool,isFetchingNetworks:i.default.bool,isFetchingProviders:i.default.bool,isFetchingTransformationMappings:i.default.bool,isRejectedCloudNetworks:i.default.bool,isRejectedCloudTenants:i.default.bool,isRejectedCloudVolumeTypes:i.default.bool,isRejectedClusters:i.default.bool,isRejectedDatastores:i.default.bool,isRejectedNetworks:i.default.bool,isRejectedTransformationMappings:i.default.bool,mappingToDelete:i.default.object,mappingWizardVisible:i.default.bool,notStartedTransformationPlans:i.default.array,openMappingWizardOnMount:i.default.bool,setMappingToDeleteAction:i.default.func,showDeleteConfirmationModal:i.default.bool,showDeleteConfirmationModalAction:i.default.func,showMappingWizardAction:i.default.func,showMappingWizardEditModeAction:i.default.func,store:i.default.object,transformationPlans:i.default.array,yesToDeleteInfrastructureMapping:i.default.bool,yesToDeleteInfrastructureMappingAction:i.default.func},g.defaultProps={fetchCloudNetworksUrl:"/api/cloud_networks?expand=resources",fetchCloudTenantsUrl:f.FETCH_CLOUD_TENANTS_URL,fetchCloudVolumeTypesUrl:"/api/cloud_volume_types?expand=resources",fetchClustersUrl:"/api/clusters/?attributes=ext_management_system.emstype,v_parent_datacenter,ext_management_system.name,lans,storages&expand=resources",fetchDatastoresUrl:"/api/data_stores?expand=resources",fetchNetworksUrl:"/api/lans/?expand=resources",fetchTransformationMappingsUrl:f.FETCH_TRANSFORMATION_MAPPINGS_URL,fetchArchivedTransformationPlansUrl:d.FETCH_ARCHIVED_TRANSFORMATION_PLANS_URL,fetchTransformationPlansUrl:d.FETCH_TRANSFORMATION_PLANS_URL,fetchProvidersUrl:p.FETCH_V2V_PROVIDERS_URL},t.default=g},202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FETCH_V2V_PROVIDERS="FETCH_V2V_PROVIDERS",t.FETCH_V2V_PROVIDERS_URL="/api/providers?expand=resources&attributes=authentications",t.PROVIDERS={source:["ManageIQ::Providers::Vmware::InfraManager"],target:["ManageIQ::Providers::Redhat::InfraManager","ManageIQ::Providers::Openstack::CloudManager"]}},2020:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.incompleteCancellationTasks=t.allVMTasksForRequestOfPlan=t.getSuccessfulMigrations=t.getFailedMigrations=t.includeDownloadInProgressTaskId=t.excludeDownloadDoneTaskId=t.removeCancelledTasksFromSelection=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=l(n(534)),o=n(201),i=n(533),s=l(n(532));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.removeCancelledTasksFromSelection=function(e,t){return e.filter(function(e){return t.every(function(t){return e.id!==t.id})})};t.excludeDownloadDoneTaskId=function(e,t){return e.filter(function(e){return e!==t})},t.includeDownloadInProgressTaskId=function(e,t){return e?e.concat(t):[t]},t.getFailedMigrations=function(e){return e.filter(function(e){return function(e){return"finished"===e.state&&"Ok"!==e.status}(e)})},t.getSuccessfulMigrations=function(e){return e.filter(function(e){return function(e){return"finished"===e.state&&"Ok"===e.status}(e)})},t.allVMTasksForRequestOfPlan=function(e,t){return function(e){var t=[];return e.forEach(function(e){var n={id:e.id,message:o.V2V_MIGRATION_STATUS_MESSAGES[e.message]||__("VM migrations stalled"),delivered_on:new Date(e.options.delivered_on),updated_on:new Date(e.updated_on),completed:e.message===o.STATUS_MESSAGE_KEYS.VM_TRANSFORMATIONS_COMPLETED||e.message===o.STATUS_MESSAGE_KEYS.VM_TRANSFORMATIONS_FAILED||e.message===o.STATUS_MESSAGE_KEYS.FAILED||!o.V2V_MIGRATION_STATUS_MESSAGES[e.message]&&"finished"===e.state,state:e.state,status:e.status,options:{},cancelation_status:e.cancelation_status,source_id:e.source_id,log_available:e.options.virtv2v_wrapper&&e.options.virtv2v_wrapper.v2v_log.length>0};e.options.playbooks&&(n.options.prePlaybookRunning=e.options.playbooks.pre&&"active"===e.options.playbooks.pre.job_state,n.options.postPlaybookRunning=e.options.playbooks.post&&"active"===e.options.playbooks.post.job_state,n.options.prePlaybookComplete=e.options.playbooks.pre&&"finished"===e.options.playbooks.pre.job_state,n.options.postPlaybookComplete=e.options.playbooks.post&&"finished"===e.options.playbooks.post.job_state,n.options.playbooks=e.options.playbooks),n.options.progress=e.options.progress,n.options.virtv2v_wrapper=e.options.virtv2v_wrapper,e.diskSpaceCompletedGb||(n.diskSpaceCompletedGb="0"),e.percentComplete||(n.percentComplete=0),e.totalDiskSpaceGb||(n.totalDiskSpaceGb="100%");var s=e.description.match(/\[(.*?)\]/);if(s){var l=r(s,2);n.descriptionPrefix=l[0],n.vmName=l[1]}var u=n.delivered_on,c=n.updated_on;if(n.startDateTime=u,n.lastUpdateDateTime=c,n.elapsedTime=(0,i.IsoElapsedTime)(new Date(u),new Date(c)),n.completed&&(n.completedSuccessfully=e.options.progress&&"Virtual machine migrated"===e.options.progress.current_description||e.options.progress&&"Mark source as migrated"===e.options.progress.current_description),e.options&&e.options.virtv2v_disks&&e.options.virtv2v_disks.length){n.totalDiskSpace=e.options.virtv2v_disks.reduce(function(e,t){return e+t.size},0),n.totalDiskSpaceGb=(0,a.default)(n.totalDiskSpace).format("0.00b");var d=e.options.virtv2v_disks.reduce(function(e,t){return e+t.percent},0)/(100*e.options.virtv2v_disks.length);n.diskSpaceCompleted=d*n.totalDiskSpace,n.diskSpaceCompletedGb=(0,a.default)(n.diskSpaceCompleted).format("0.00b"),n.percentComplete=Math.round(100*d)}t.push(n)}),t}((0,s.default)(e,t))},t.incompleteCancellationTasks=function(e,t,n){var r=(0,s.default)(e,t).filter(function(e){return"finished"===e.state});return u(n,r)}},2021:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(38)),o=l(n(899)),i=n(201),s=n(2020);function l(e){return e&&e.__esModule?e:{default:e}}var u=t.initialState=(0,a.default)({isFetchingPlanRequest:!1,isRejectedPlanRequest:!1,planRequestPreviouslyFetched:!1,errorPlanRequest:null,planRequestTasks:[],planRequestFailed:!1,planRequestDenied:!1,isFetchingPlan:!1,isRejectedPlan:!1,errorPlan:null,plan:{},planArchived:!1,isQueryingVms:!1,isRejectedVms:!1,errorVms:null,vms:[],isFetchingAnsiblePlaybookTemplate:!1,isRejectedAnsiblePlaybookTemplate:!1,errorAnsiblePlaybookTemplate:null,ansiblePlaybookTemplate:{},isFetchingOrchestrationStack:!1,isRejectedOrchestrationStack:!1,errorOrchestrationStack:null,orchestrationStack:{},selectedTasksForCancel:[],markedForCancellation:[],failedMigrations:[],successfulMigrations:[],notificationsSentList:[],isFetchingRequestTask:!1,isRejectedRequestTask:!1,requestTask:{},errorRequestTask:null,conversionHosts:{}});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case i.FETCH_V2V_PLAN+"_PENDING":return e.set("isFetchingPlan",!0).set("isRejectedPlan",!1);case i.FETCH_V2V_PLAN+"_FULFILLED":return e.set("plan",t.payload.data).set("planName",t.payload.data.name).set("planArchived",!!t.payload.data.archived).set("isFetchingPlan",!1).set("isRejectedPlan",!1).set("errorPlan",null);case i.FETCH_V2V_PLAN+"_REJECTED":return e.set("isFetchingPlan",!1).set("isRejectedPlan",!0).set("errorPlan",t.payload);case i.FETCH_V2V_ALL_REQUESTS_WITH_TASKS_FOR_PLAN+"_PENDING":return e.set("isFetchingPlanRequest",!0).set("isRejectedPlanRequest",!1);case i.FETCH_V2V_ALL_REQUESTS_WITH_TASKS_FOR_PLAN+"_FULFILLED":if(t.payload.data){var n=(0,s.allVMTasksForRequestOfPlan)(t.payload.data.results,e.plan.options.config_info.actions),a=o.default.getMostRecentEntityByCreationDate(t.payload.data.results),l=a.miq_request_tasks.map(function(e){return e.source_id}),c=[];return n.filter(function(e){return-1===l.indexOf(e.source_id)}).forEach(function(t){-1===e.notificationsSentList.indexOf(t.id)&&c.push(t.id)}),e.set("notificationsSentList",e.notificationsSentList.concat(c)).set("planRequestTasks",n).set("selectedTasksForCancel",(0,s.incompleteCancellationTasks)(t.payload.data.results,e.plan.options.config_info.actions,e.selectedTasksForCancel)).set("allRequestsWithTasksForPlan",t.payload.data.results).set("planRequestPreviouslyFetched",!0).set("planRequestFailed","Error"===a.status).set("planRequestDenied","Denied"===a.status).set("failedMigrations",(0,s.getFailedMigrations)(n)).set("successfulMigrations",(0,s.getSuccessfulMigrations)(n)).set("isRejectedPlanRequest",!1).set("errorPlanRequest",null).set("isFetchingPlanRequest",!1)}return e.set("planRequestPreviouslyFetched",!0).set("isRejectedPlanRequest",!1).set("errorPlanRequest",null).set("isFetchingPlanRequest",!1);case i.FETCH_V2V_ALL_REQUESTS_WITH_TASKS_FOR_PLAN+"_REJECTED":return e.set("errorPlanRequest",t.payload).set("isRejectedPlanRequest",!0).set("isFetchingPlanRequest",!1);case i.QUERY_V2V_PLAN_VMS+"_PENDING":return e.set("isQueryingVms",!0).set("isRejectedVms",!1);case i.QUERY_V2V_PLAN_VMS+"_FULFILLED":return e.set("vms",t.payload.data.results).set("isQueryingVms",!1).set("isRejectedVms",!1).set("errorVms",null);case i.QUERY_V2V_PLAN_VMS+"_REJECTED":return e.set("isQueryingVms",!1).set("isRejectedVms",!0).set("errorVms",t.payload);case i.RESET_PLAN_STATE:return e.set("planRequestTasks",[]).set("vms",[]).set("planRequestPreviouslyFetched",!1).set("markedForCancellation",[]).set("selectedTasksForCancel",[]).set("planRequestFailed",!1).set("planRequestDenied",!1);case i.FETCH_V2V_MIGRATION_TASK_LOG+"_PENDING":return e.set("isFetchingMigrationTaskLog",!0).set("isRejectedMigrationTaskLog",!1);case i.FETCH_V2V_MIGRATION_TASK_LOG+"_FULFILLED":return e.set("isFetchingMigrationTaskLog",!1).set("isRejectedMigrationTaskLog",!1).set("errorMigrationTaskLog",null);case i.FETCH_V2V_MIGRATION_TASK_LOG+"_REJECTED":return e.set("isFetchingMigrationTaskLog",!1).set("isRejectedMigrationTaskLog",!0).set("errorMigrationTaskLog",t.payload);case i.FETCH_V2V_ANSIBLE_PLAYBOOK_TEMPLATE+"_PENDING":return e.set("isFetchingAnsiblePlaybookTemplate",!0).set("isRejectedAnsiblePlaybookTemplate",!1);case i.FETCH_V2V_ANSIBLE_PLAYBOOK_TEMPLATE+"_FULFILLED":return e.set("ansiblePlaybookTemplate",t.payload.data).set("isFetchingAnsiblePlaybookTemplate",!1).set("isRejectedAnsiblePlaybookTemplate",!1).set("errorAnsiblePlaybookTemplate",null);case i.FETCH_V2V_ANSIBLE_PLAYBOOK_TEMPLATE+"_REJECTED":return e.set("isFetchingAnsiblePlaybookTemplate",!1).set("isRejectedAnsiblePlaybookTemplate",!0).set("errorAnsiblePlaybookTemplate",t.payload);case i.FETCH_V2V_ORCHESTRATION_STACK+"_PENDING":return e.set("isFetchingOrchestrationStack",!0).set("isRejectedOrchestrationStack",!1);case i.FETCH_V2V_ORCHESTRATION_STACK+"_FULFILLED":return e.set("orchestrationStack",t.payload.data).set("isFetchingOrchestrationStack",!1).set("isRejectedOrchestrationStack",!1).set("errorOrchestrationStack",null);case i.FETCH_V2V_ORCHESTRATION_STACK+"_REJECTED":return e.set("isFetchingOrchestrationStack",!1).set("isRejectedOrchestrationStack",!0).set("errorOrchestrationStack",t.payload);case i.DOWNLOAD_LOG_CLICKED:return e.set("downloadLogInProgressTaskIds",(0,s.includeDownloadInProgressTaskId)(e.downloadLogInProgressTaskIds,t.payload));case i.DOWNLOAD_LOG_COMPLETED:return e.set("downloadLogInProgressTaskIds",(0,s.excludeDownloadDoneTaskId)(e.downloadLogInProgressTaskIds,t.payload));case i.REMOVE_TASKS_SELECTED_FOR_CANCELLATION:return e.set("selectedTasksForCancel",(0,s.removeCancelledTasksFromSelection)(e.selectedTasksForCancel,t.payload));case i.ADD_TASKS_TO_MARKED_FOR_CANCELLATION:return e.set("markedForCancellation",e.markedForCancellation.concat(t.payload));case i.UPDATE_TASKS_SELECTED_FOR_CANCELLATION:return e.set("selectedTasksForCancel",t.payload);case i.DELETE_ALL_TASKS_SELECTED_FOR_CANCELLATION:return e.set("selectedTasksForCancel",[]);case i.ADD_TASK_TO_NOTIFICATION_SENT_LIST:return e.set("notificationsSentList",e.notificationsSentList.concat(t.payload));case i.FETCH_V2V_REQUEST_TASK+"_PENDING":return e.set("isFetchingRequestTask",!1).set("isRejectedRequestTask",!1);case i.FETCH_V2V_REQUEST_TASK+"_FULFILLED":return e.set("requestTask",t.payload.data).set("isFetchingRequestTask",!1).set("isRejectedRequestTask",!1).set("errorRequestTask",null);case i.FETCH_V2V_REQUEST_TASK+"_REJECTED":return e.set("errorRequestTask",t.payload).set("isRejectedRequestTask",!0).set("isFetchingRequestTask",!1);case i.FETCH_V2V_CONVERSION_HOST:return e.set("conversionHosts",r({},e.conversionHosts,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.payload.id,t.payload.conversion_host)));default:return e}}},2024:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchConversionHostAction=t.fetchRequestTaskAction=t.dispatchVMTasksCompletionNotificationAction=t.deleteAllSelectedTasksForCancelAction=t.updateSelectedTasksForCancelAction=t.cancelPlanRequestTasksAction=t.downloadLogAction=t.resetPlanStateAction=t.fetchPlanAction=t._getPlanActionCreator=t.queryPlanVmsAction=t.fetchTasksForAllRequestsForPlanAction=t.fetchAnsiblePlaybookTemplateAction=t.fetchOrchestrationStackAction=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=c(n(62)),o=n(2023),i=c(n(52)),s=c(n(797)),l=n(201),u=n(325);function c(e){return e&&e.__esModule?e:{default:e}}t.fetchOrchestrationStackAction=function(e,t,n){var s=t.match(/pre|post/),c=r(s,1)[0],d=new a.default(e+"/"+n.options.playbooks[c].job_id);return d.addSearch({attributes:"stdout"}),function(e,t,n){return function(r){return r({type:l.DOWNLOAD_LOG_CLICKED,payload:n.id}),r({type:l.FETCH_V2V_ORCHESTRATION_STACK,payload:new Promise(function(a,s){return i.default.get(e).then(function(e){a(e),r({type:l.DOWNLOAD_LOG_COMPLETED,payload:n.id});var i=n.vmName+"-"+t+".log",s=new File([e.data.stdout],i,{type:"text/plain;charset=utf-8"});(0,o.saveAs)(s);var c=sprintf(__('"%s" download successful'),i);r({type:u.V2V_NOTIFICATION_ADD,message:c,notificationType:"success",actionEnabled:!1})}).catch(function(e){r({type:l.DOWNLOAD_LOG_COMPLETED,payload:n.id}),s(e)})})})}}(d.toString(),t,n)},t.fetchAnsiblePlaybookTemplateAction=function(e,t){return function(e){return function(t){return t({type:l.FETCH_V2V_ANSIBLE_PLAYBOOK_TEMPLATE,payload:i.default.get(e)})}}(new a.default(e+"/"+t).toString())},t.fetchTasksForAllRequestsForPlanAction=function(e,t){return function(e,t){return function(n){n({type:l.FETCH_V2V_ALL_REQUESTS_WITH_TASKS_FOR_PLAN,payload:new Promise(function(n,r){i.default.post(e,{action:"query",resources:t}).then(function(e){n(e)}).catch(function(e){return r(e)})})})}}(e,t)},t.queryPlanVmsAction=function(e){return function(e){return function(t){var n=e.map(function(e){return{id:e}});return t({type:l.QUERY_V2V_PLAN_VMS,payload:i.default.post("/api/vms",{action:"query",resources:n})})}}(e)};var d=t._getPlanActionCreator=function(e){return function(t){return t({type:l.FETCH_V2V_PLAN,payload:new Promise(function(t,n){i.default.get(e).then(function(e){t(e)}).catch(function(e){n(e)})})})}},f=(t.fetchPlanAction=function(e,t){var n=new a.default(e+"/"+t);return n.addSearch({attributes:"miq_requests,archived,active"}),d(n.toString())},t.resetPlanStateAction=function(){return{type:l.RESET_PLAN_STATE}},t.downloadLogAction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"v2v";return function(n){n({type:l.DOWNLOAD_LOG_CLICKED,payload:e.id}),n({type:l.FETCH_V2V_MIGRATION_TASK_LOG,payload:new Promise(function(r,a){s.default.get("/migration_log/download_migration_log/"+e.id+"?log_type="+t).then(function(a){r(a),n({type:l.DOWNLOAD_LOG_COMPLETED,payload:e.id});var i="";"v2v"===t&&(i="virt-v2v"),"wrapper"===t&&(i="virt-v2v-wrapper");var s=e.vmName+"-"+i+".log";if("Ok"===a.data.status){var c=new File([a.data.log_contents],s,{type:"text/plain;charset=utf-8"});(0,o.saveAs)(c);var d=sprintf(__('"%s" download successful'),s);n({type:u.V2V_NOTIFICATION_ADD,message:d,notificationType:"success",actionEnabled:!1})}else{var f=sprintf(__('Failed to download "%s". Reason - "%s"'),s,a.data.status_message);n({type:u.V2V_NOTIFICATION_ADD,message:f,notificationType:"error",persistent:!0,actionEnabled:!1})}}).catch(function(t){n({type:l.DOWNLOAD_LOG_COMPLETED,payload:e.id}),a(t)})})})}},t.cancelPlanRequestTasksAction=function(e,t){return function(n){var r=[],a=[];if(t.forEach(function(e){e.completed?r.push(e):a.push(e)}),n({type:l.REMOVE_TASKS_SELECTED_FOR_CANCELLATION,payload:r}),0!==a.length){var o=a.map(function(e){return{id:e.id}});n({type:l.CANCEL_V2V_PLAN_REQUEST_TASKS,payload:new Promise(function(r,a){i.default.post(e,{action:"cancel",resources:o}).then(function(e){r(e);var a=__("Migration cancel request submitted for VMs: ")+" "+t.map(function(e){return e.vmName}).join(", ");n({type:u.V2V_NOTIFICATION_ADD,message:a,notificationType:"success",actionEnabled:!1}),n({type:l.ADD_TASKS_TO_MARKED_FOR_CANCELLATION,payload:t}),n({type:l.REMOVE_TASKS_SELECTED_FOR_CANCELLATION,payload:t})}).catch(function(e){return a(e)})})})}else n({type:u.V2V_NOTIFICATION_ADD,message:__("Cannot cancel completed VM Migrations"),notificationType:"error",persistent:!0,actionEnabled:!1})}},t.updateSelectedTasksForCancelAction=function(e){return function(t){t({type:l.UPDATE_TASKS_SELECTED_FOR_CANCELLATION,payload:e})}},t.deleteAllSelectedTasksForCancelAction=function(e){return function(e){e({type:l.DELETE_ALL_TASKS_SELECTED_FOR_CANCELLATION})}},t.dispatchVMTasksCompletionNotificationAction=function(e,t,n){return function(r){e.forEach(function(e){if(!n.find(function(t){return t===e.id})){var t=sprintf(__("%s failed to migrate"),e.vmName);r({type:u.V2V_NOTIFICATION_ADD,message:t,notificationType:"error",persistent:!0,actionEnabled:!1}),r({type:l.ADD_TASK_TO_NOTIFICATION_SENT_LIST,payload:e.id})}}),t.forEach(function(e){if(!n.find(function(t){return t===e.id})){var t=sprintf(__("%s migrated successfully"),e.vmName);r({type:u.V2V_NOTIFICATION_ADD,message:t,notificationType:"success",actionEnabled:!1}),r({type:l.ADD_TASK_TO_NOTIFICATION_SENT_LIST,payload:e.id})}})}},t.fetchRequestTaskAction=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new a.default(e+"/"+t),o=n.attributes;return o&&r.addSearch({attributes:o}),function(e){return function(t){return t({type:l.FETCH_V2V_REQUEST_TASK,payload:i.default.get(e)})}}(r.toString())});t.fetchConversionHostAction=function(e,t){return function(n){n(f(e,t,{attributes:"conversion_host"})).then(function(e){n({type:l.FETCH_V2V_CONVERSION_HOST,payload:e.value.data})})}}},2025:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTIVE_PLAN_SORT_FIELDS=t.FINISHED_PLAN_SORT_FIELDS=t.ACTIVE_PLAN_FILTER_TYPES=t.FINISHED_PLAN_FILTER_TYPES=void 0;var r=n(201);t.FINISHED_PLAN_FILTER_TYPES=[{id:"vmName",title:__("VM Name"),placeholder:__("Filter by VM Name"),filterType:"text"},{id:"status",title:__("Status"),placeholder:__("Filter by Status"),filterType:"select",filterValues:[{title:__("Ok"),id:"Ok"},{title:__("Error"),id:"Error"}]}],t.ACTIVE_PLAN_FILTER_TYPES=[{id:"vmName",title:__("VM Name"),placeholder:__("Filter by VM Name"),filterType:"text"},{id:"message",title:__("Status"),placeholder:__("Filter by Status"),filterType:"select",filterValues:[{title:r.V2V_MIGRATION_STATUS_MESSAGES[r.STATUS_MESSAGE_KEYS.VALIDATING],id:r.STATUS_MESSAGE_KEYS.VALIDATING},{title:r.V2V_MIGRATION_STATUS_MESSAGES[r.STATUS_MESSAGE_KEYS.PRE_MIGRATION],id:r.STATUS_MESSAGE_KEYS.PRE_MIGRATION},{title:r.V2V_MIGRATION_STATUS_MESSAGES[r.STATUS_MESSAGE_KEYS.MIGRATING],id:r.STATUS_MESSAGE_KEYS.MIGRATING},{title:r.V2V_MIGRATION_STATUS_MESSAGES[r.STATUS_MESSAGE_KEYS.VM_TRANSFORMATIONS_COMPLETED],id:r.STATUS_MESSAGE_KEYS.VM_TRANSFORMATIONS_COMPLETED},{title:r.V2V_MIGRATION_STATUS_MESSAGES[r.STATUS_MESSAGE_KEYS.VM_TRANSFORMATIONS_FAILED],id:r.STATUS_MESSAGE_KEYS.VM_TRANSFORMATIONS_FAILED}]}],t.FINISHED_PLAN_SORT_FIELDS=[{id:"elapsedTime",title:__("Elapsed Time"),isNumeric:!1},{id:"vmName",title:__("VM Name"),isNumeric:!1},{id:"status",title:__("Status"),isNumeric:!1}],t.ACTIVE_PLAN_SORT_FIELDS=[{id:"elapsedTime",title:__("Elapsed Time"),isNumeric:!1},{id:"vmName",title:__("VM Name"),isNumeric:!1},{id:"message",title:__("Status"),isNumeric:!1}]},2026:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),o=n(6);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.title,n=e.iconType,a=e.iconName,i=e.description,s=e.descriptionIsNode;return r.default.createElement("div",null,r.default.createElement("br",null),r.default.createElement(o.EmptyState,null,r.default.createElement(o.EmptyState.Icon,{type:n,name:a}),r.default.createElement(o.EmptyState.Title,null,sprintf(__("%s"),t)),r.default.createElement(o.EmptyState.Info,null,s?i:sprintf(__("%s"),i))))};s.propTypes={title:a.default.string,iconType:a.default.string,iconName:a.default.string,description:a.default.oneOfType([a.default.string,a.default.node]),descriptionIsNode:a.default.bool},t.default=s},2027:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(1)),o=n(6),i=s(n(204));function s(e){return e&&e.__esModule?e:{default:e}}var l=function e(t){return r.default.createElement(i.default,{filterTypes:e.filterTypes,sortFields:e.sortFields,listItems:t.planVms},function(e){var t=e.filteredSortedPaginatedListItems,n=e.renderFilterControls,a=e.renderSortControls,i=e.renderActiveFilters,s=e.renderPaginationRow;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Grid.Row,null,r.default.createElement(o.Toolbar,null,n(),a(),i(t))),r.default.createElement("div",{style:{overflow:"auto",paddingBottom:300,height:"100%"}},r.default.createElement(o.ListView,{className:"plan-request-details-list"},t.items.map(function(e,t){return r.default.createElement(o.ListView.Item,{key:e.id,heading:e.name,additionalInfo:[r.default.createElement(o.ListView.InfoItem,{key:e.id+"-times",style:{minWidth:150,paddingRight:20}},r.default.createElement(o.ListView.Icon,{type:"fa",size:"lg",name:"clock-o"}),"00:00:00"),r.default.createElement(o.ListView.InfoItem,{key:e.id+"-message",style:{minWidth:150,paddingRight:20}},__("Not started"))],actions:r.default.createElement(o.UtilizationBar,{now:0,min:0,max:100,description:__("0 GBs Migrated"),label:" ",usedTooltipFunction:function(e,t){return r.default.createElement(o.Tooltip,{id:Date.now()},t," % ",__("Migrated"))},availableTooltipFunction:function(e,t){return r.default.createElement(o.Tooltip,{id:Date.now()},Math.round(e-t)," % ",__("Remaining"))},descriptionPlacementTop:!0}),stacked:!0})})),s(t)))})};l.propTypes={planVms:a.default.array},l.sortFields=[{id:"name",title:__("Name"),isNumeric:!1}],l.filterTypes=[{id:"name",title:__("Name"),placeholder:__("Filter by Name"),filterType:"text"}],t.default=l},2028:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(0)),o=d(n(1)),i=n(6),s=n(205),l=n(201),u=d(n(1023)),c=d(n(846));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={showConfirmCancel:!1},r.onSelect=function(e,t){var n=r.props,a=n.downloadLogAction,o=n.fetchOrchestrationStackUrl,i=n.fetchOrchestrationStackAction;"migration"===e?a(t,"v2v"):"wrapper"===e?a(t,"wrapper"):i(o,e,t)},r.overlayTriggerClick=function(e){if(r.props.conversionHosts[e.id]||r.props.fetchConversionHostAction(r.props.fetchConversionHostUrl,e.id),e.options.playbooks){var t=e.options.playbooks,n=null;for(var a in t)"active"===t[a].job_state&&(n=a);if(n){var o=r.props,i=o.plan.options.config_info,s=o.fetchAnsiblePlaybookTemplateUrl;(0,o.fetchAnsiblePlaybookTemplateAction)(s,i[n+"_service_id"])}}},r.getCancelSelectionState=function(){var e=r.props,t=e.selectedTasksForCancel,n=e.markedForCancellation,a=e.filteredListItems.filter(function(e){return!e.completed&&!e.cancelation_status&&!n.find(function(t){return t.id===e.id})});return{incompleteTasks:a,allSelected:t.length===a.length&&t.length>0,noneSelected:0===t.length}},r.handleCheckboxChange=function(e){var t=r.props,n=t.selectedTasksForCancel;(0,t.updateSelectedTasksForCancelAction)(n.find(function(t){return t.id===e.id})?n.filter(function(t){return!(t.id===e.id)}):[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n),[e]))},r.handleSelectAllCheckboxChange=function(){r.getCancelSelectionState().allSelected?r.deselectAllTasks():r.selectAllInProgressTasks()},r.taskIsSelected=function(e){return r.props.selectedTasksForCancel.findIndex(function(t){return t.id===e.id})>-1},r.selectAllInProgressTasks=function(){var e=r.getCancelSelectionState().incompleteTasks;(0,r.props.updateSelectedTasksForCancelAction)(e)},r.deselectAllTasks=function(){(0,r.props.deleteAllSelectedTasksForCancelAction)()},r.onCancelMigrationsCancel=function(){r.setState({showConfirmCancel:!1})},r.onCancelMigrationsClick=function(){r.setState({showConfirmCancel:!0})},r.onCancelMigrationsConfirm=function(){var e=r.props.selectedTasksForCancel,t=r.props;(0,t.cancelPlanRequestTasksAction)(t.cancelPlanRequestTasksUrl,e),r.setState({showConfirmCancel:!1})},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidUpdate",value:function(e,t){if(e.planRequestTasks!==this.props.planRequestTasks){var n=this.props,r=n.failedMigrations,a=n.successfulMigrations,o=n.notificationsSentList;(0,n.dispatchVMTasksCompletionNotificationAction)(r,a,o)}}},{key:"render",value:function(){var e=this,t=this.state.showConfirmCancel,n=this.props,r=n.downloadLogInProgressTaskIds,o=n.ansiblePlaybookTemplate,d=n.planRequestTasks,f=n.selectedTasksForCancel,p=n.markedForCancellation,m=n.filteredSortedPaginatedListItems,_=n.renderFilterControls,g=n.renderSortControls,v=n.renderActiveFilters,h=n.renderPaginationRow,y=n.conversionHosts,T=this.getCancelSelectionState(),E=T.allSelected,S=T.noneSelected,P=d.length,b=a.default.createElement("input",{type:"checkbox",checked:E,onClick:function(e){e.stopPropagation()},onChange:this.handleSelectAllCheckboxChange});return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.Grid.Row,null,a.default.createElement(i.Toolbar,null,a.default.createElement(i.FormGroup,{style:{paddingLeft:0}},a.default.createElement(i.DropdownButton,{title:b,id:"bulk-selector"},a.default.createElement(i.MenuItem,{eventKey:"1",disabled:E,onClick:this.selectAllInProgressTasks},__("Select All")),a.default.createElement(i.MenuItem,{eventKey:"2",disabled:S,onClick:this.deselectAllTasks},__("Select None")))),_({style:{paddingLeft:20}}),g(),a.default.createElement(i.Toolbar.RightContent,null,a.default.createElement(i.Button,{disabled:0===f.length,onClick:this.onCancelMigrationsClick},__("Cancel Migration"))),v(m)),f.length>0&&a.default.createElement(i.Toolbar,null,a.default.createElement(i.Toolbar.RightContent,null,sprintf(__("%s of %s selected"),f.length,P)))),a.default.createElement("div",{style:{overflow:"auto",paddingBottom:300,height:"100%"}},a.default.createElement(i.ListView,{className:"plan-request-details-list"},m.items.map(function(t,n){var c=t.message,d=!1;switch(p.find(function(e){return e.id===t.id})&&(c=t.message+": "+__("Cancel request sent"),d=!0),t.cancelation_status){case"cancel_requested":c=t.message+": "+__("Cancel requested"),d=!0;break;case"canceling":c=t.message+": "+__("Canceling"),d=!0;break;case"canceled":c=t.message+": "+__("Canceled"),d=!0;break;default:d=!1}var f=void 0;"Pending"===t.message?f=a.default.createElement(i.ListView.Icon,{type:"pf",name:"pending",size:"md",style:{width:"inherit",backgroundColor:"transparent"}}):d&&t.completed?(c=t.message+": "+__("Migration cancelled"),f=a.default.createElement(i.ListView.Icon,{type:"fa",name:"ban",size:"md",style:{width:"inherit",backgroundColor:"transparent"}})):f=t.completed&&!t.completedSuccessfully?a.default.createElement(i.ListView.Icon,{type:"pf",name:"error-circle-o",size:"md",style:{width:"inherit",backgroundColor:"transparent"}}):t.completed?a.default.createElement(i.ListView.Icon,{type:"pf",name:"ok",size:"md",style:{width:"inherit",backgroundColor:"transparent"}}):a.default.createElement(i.Spinner,{loading:!0});var m=sprintf(__("%s of %s Migrated"),t.diskSpaceCompletedGb,t.totalDiskSpaceGb),_=a.default.createElement(i.Popover,{id:"popover"+t.id+n,title:l.V2V_MIGRATION_STATUS_MESSAGES[t.message],className:"task-info-popover no-max-width"},a.default.createElement("div",null,a.default.createElement("div",null,a.default.createElement("b",null,__("Start Time"),": "),(0,s.formatDateTime)(t.startDateTime)),a.default.createElement("div",null,a.default.createElement("b",null,__("Conversion Host"),": "),y[t.id]&&y[t.id].name),a.default.createElement("br",null),a.default.createElement("div",null,a.default.createElement("strong",null,__("Status Detail"),": "),t.options.progress&&t.options.progress.current_state&&t.options.progress.states&&t.options.progress.states[t.options.progress.current_state].message),t.log_available&&a.default.createElement("div",null,a.default.createElement("br",null),a.default.createElement("strong",null,__("Log:")),a.default.createElement("br",null),t.options.virtv2v_wrapper.v2v_log))),g=t.options.prePlaybookRunning||t.options.postPlaybookRunning?a.default.createElement("div",null,a.default.createElement("b",null,__("Running playbook service"),": "),o.name):a.default.createElement("div",null,a.default.createElement("b",null,__("Status"),": "),t.options.progress&&l.V2V_MIGRATION_STATUS_MESSAGES[t.options.progress.current_description]);return a.default.createElement(i.ListView.Item,{key:t.id,checkboxInput:a.default.createElement("input",{type:"checkbox",disabled:d||t.completed,checked:e.taskIsSelected(t),onChange:function(){e.handleCheckboxChange(t)}}),leftContent:f,heading:t.vmName,additionalInfo:[a.default.createElement(i.ListView.InfoItem,{key:t.id+"-message",style:{flexDirection:"column",alignItems:"flex-start",marginRight:80,minWidth:200}},a.default.createElement("div",null,a.default.createElement("div",{style:{display:"inline-block",textAlign:"left"}},a.default.createElement("span",null,c),g),"",a.default.createElement(i.OverlayTrigger,{rootClose:!0,trigger:"click",onEnter:function(){return e.overlayTriggerClick(t)},placement:"left",overlay:_},a.default.createElement(i.Button,{bsStyle:"link"},a.default.createElement(i.Icon,{type:"pf",name:"info"})))),a.default.createElement("div",null,a.default.createElement(i.ListView.Icon,{type:"fa",size:"lg",name:"clock-o"}),a.default.createElement(u.default,{startTime:t.startDateTime,endTime:t.completed?t.lastUpdateDateTime:null}))),a.default.createElement(i.ListView.InfoItem,{key:t.id+"-times",style:{minWidth:150,paddingRight:20}},a.default.createElement(i.UtilizationBar,{now:t.percentComplete,min:0,max:100,description:m,label:" ",usedTooltipFunction:function(e,t){return a.default.createElement(i.Tooltip,{id:Date.now()},t," % ",__("Migrated"))},availableTooltipFunction:function(e,t){return a.default.createElement(i.Tooltip,{id:Date.now()},e-t," % ",__("Remaining"))},descriptionPlacementTop:!0}))],actions:a.default.createElement(i.DropdownButton,{id:t.id+"-"+t.descriptionPrefix+"_download_log_dropdown",title:__("Download Log"),pullRight:!0,onSelect:function(n){return e.onSelect(n,t)},disabled:!t.log_available||r&&r.find(function(e){return e===t.id})&&!t.options.prePlaybookComplete&&!t.options.postPlaybookComplete},t.options.prePlaybookComplete&&a.default.createElement(i.MenuItem,{eventKey:"preMigration",disabled:r&&r.indexOf(t.id)>-1},__("Premigration log")),a.default.createElement(i.MenuItem,{eventKey:"migration",disabled:r&&r.indexOf(t.id)>-1},__("Migration log")),a.default.createElement(i.MenuItem,{eventKey:"wrapper",disabled:r&&r.indexOf(t.id)>-1},__("Virt-v2v-wrapper log")),t.options.postPlaybookComplete&&a.default.createElement(i.MenuItem,{eventKey:"postMigration",disabled:r&&r.indexOf(t.id)>-1},__("Postmigration log"))),stacked:!0})})),h(m)),a.default.createElement(c.default,{show:t,title:__("Cancel Migrations"),body:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",null,__("If you cancel, these VMs will not be migrated and will be fully restored in the source provider.")),a.default.createElement("ul",null,f.map(function(e){return a.default.createElement("li",{key:e.id},e.vmName)})),a.default.createElement("p",null,__("Do you want to cancel?"))),cancelButtonLabel:__("No"),confirmButtonLabel:__("Cancel Migrations"),onConfirm:this.onCancelMigrationsConfirm,onCancel:this.onCancelMigrationsCancel}))}}]),t}();p.propTypes={planRequestTasks:o.default.array,downloadLogAction:o.default.func,downloadLogInProgressTaskIds:o.default.array,plan:o.default.object,fetchAnsiblePlaybookTemplateUrl:o.default.string,fetchAnsiblePlaybookTemplateAction:o.default.func,ansiblePlaybookTemplate:o.default.object,fetchOrchestrationStackUrl:o.default.string,fetchOrchestrationStackAction:o.default.func,cancelPlanRequestTasksAction:o.default.func,cancelPlanRequestTasksUrl:o.default.string,selectedTasksForCancel:o.default.array,updateSelectedTasksForCancelAction:o.default.func,deleteAllSelectedTasksForCancelAction:o.default.func,markedForCancellation:o.default.array,failedMigrations:o.default.array,successfulMigrations:o.default.array,notificationsSentList:o.default.array,dispatchVMTasksCompletionNotificationAction:o.default.func,filteredListItems:o.default.array,filteredSortedPaginatedListItems:o.default.object,renderFilterControls:o.default.func,renderSortControls:o.default.func,renderActiveFilters:o.default.func,renderPaginationRow:o.default.func,conversionHosts:o.default.object,fetchConversionHostAction:o.default.func,fetchConversionHostUrl:o.default.string},p.defaultProps={fetchConversionHostUrl:l.REQUEST_TASKS_URL},t.default=p},2029:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n(0)),o=g(n(1)),i=g(n(38)),s=n(6),l=g(n(354)),u=g(n(2028)),c=g(n(2027)),d=g(n(2026)),f=g(n(173)),p=g(n(204)),m=n(2025),_=n(201);function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.startPolling=function(e){var t=n.props,r=t.fetchTasksForAllRequestsForPlanAction,a=t.fetchTasksForAllRequestsForPlanUrl;n.pollingInterval=setInterval(function(){r(a,e)},15e3)},n.stopPolling=function(){n.pollingInterval&&(clearInterval(n.pollingInterval),n.pollingInterval=null)},n.state={planRequestTasksMutable:i.default.asMutable(e.planRequestTasks),vmsMutable:[],planNotStarted:!1,planFinished:!1,planRequestPreviouslyFetched:!1},n.props.resetPlanStateAction(),n.willUnmount=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return t.planNotStarted||e.planRequestTasks!==t.planRequestTasks?{planRequestTasks:e.planRequestTasks,planRequestTasksMutable:i.default.asMutable(e.planRequestTasks),vms:e.vms,vmsMutable:i.default.asMutable(e.vms),planNotStarted:0===e.planRequestTasks.length,planRequestPreviouslyFetched:e.planRequestPreviouslyFetched}:null}}]),r(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.fetchPlanUrl,r=t.fetchPlanAction,a=t.planId,o=t.fetchTasksForAllRequestsForPlanUrl,i=t.fetchTasksForAllRequestsForPlanAction,s=t.queryPlanVmsAction;r(n,a).then(function(t){var n=t.value.data,r=n.miq_requests,a=n.options.config_info.actions,l=[];if(a&&a.length&&(l=a.map(function(e){return e.vm_id})),r.length>0){var u=(0,f.default)(r);i(o,r),"active"!==u.request_state||e.pollingInterval||e.willUnmount?e.setState(function(){return{planFinished:!0}}):e.startPolling(r)}else s(l)})}},{key:"componentWillUnmount",value:function(){this.willUnmount=!0;var e=this.props.resetPlanStateAction;this.stopPolling(),e()}},{key:"render",value:function(){var e=this.props,t=e.plan,n=e.planName,r=e.planArchived,o=e.planRequestFailed,i=e.planRequestDenied,f=e.isRejectedPlanRequest,_=e.isFetchingPlanRequest,g=e.isRejectedPlan,v=e.isFetchingPlan,h=e.isQueryingVms,y=e.isRejectedVms,T=e.downloadLogAction,E=e.downloadLogInProgressTaskIds,S=e.fetchAnsiblePlaybookTemplateAction,P=e.fetchPlanUrl,b=e.ansiblePlaybookTemplate,A=e.fetchOrchestrationStackUrl,C=e.fetchOrchestrationStackAction,O=e.orchestrationStack,M=e.cancelPlanRequestTasksAction,R=e.cancelPlanRequestTasksUrl,N=e.selectedTasksForCancel,I=e.updateSelectedTasksForCancelAction,V=e.deleteAllSelectedTasksForCancelAction,w=e.markedForCancellation,F=e.failedMigrations,k=e.successfulMigrations,D=e.notificationsSentList,j=e.dispatchVMTasksCompletionNotificationAction,L=e.fetchConversionHostAction,H=e.conversionHosts,W=this.state,U=W.planRequestTasksMutable,x=W.vmsMutable,G=W.planNotStarted,q=W.planFinished,z=W.planRequestPreviouslyFetched,B={inProgress:a.default.createElement(s.Icon,{type:"pf",name:"spinner2"}),success:a.default.createElement(s.Icon,{type:"pf",name:"ok"}),failed:a.default.createElement(s.Icon,{type:"pf",name:"error-circle-o"}),archived:a.default.createElement(s.Icon,{type:"fa",name:"archive"})},K=(o||i)&&B.failed||r&&B.archived||q&&B.success||!G&&B.inProgress||null;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,null,a.default.createElement(s.Breadcrumb.Item,{active:!0},__("Compute")),a.default.createElement(s.Breadcrumb.Item,{active:!0},__("Migration")),a.default.createElement(s.Breadcrumb.Item,{href:"#/plans"},__("Migration Plans")),!g&&n&&a.default.createElement(s.Breadcrumb.Item,{active:!0},a.default.createElement("strong",null,K,K?" "+n:n))),a.default.createElement(s.Spinner,{loading:(v||_||h)&&!z},!G&&z&&!f&&U.length>0&&a.default.createElement(p.default,{filterTypes:q?m.FINISHED_PLAN_FILTER_TYPES:m.ACTIVE_PLAN_FILTER_TYPES,sortFields:q?m.FINISHED_PLAN_SORT_FIELDS:m.ACTIVE_PLAN_SORT_FIELDS,listItems:U,defaultSortTypeIndex:1},function(e){var n=e.filteredListItems,r=e.filteredSortedPaginatedListItems,o=e.renderFilterControls,i=e.renderSortControls,s=e.renderActiveFilters,l=e.renderPaginationRow;return a.default.createElement(u.default,{plan:t,planFinished:q,planRequestTasks:U,downloadLogAction:T,downloadLogInProgressTaskIds:E,fetchAnsiblePlaybookTemplateAction:S,fetchAnsiblePlaybookTemplateUrl:P,ansiblePlaybookTemplate:b,fetchOrchestrationStackUrl:A,fetchOrchestrationStackAction:C,orchestrationStack:O,cancelPlanRequestTasksUrl:R,cancelPlanRequestTasksAction:M,selectedTasksForCancel:N,updateSelectedTasksForCancelAction:I,deleteAllSelectedTasksForCancelAction:V,markedForCancellation:w,failedMigrations:F,successfulMigrations:k,notificationsSentList:D,dispatchVMTasksCompletionNotificationAction:j,filteredListItems:n,filteredSortedPaginatedListItems:r,renderFilterControls:o,renderSortControls:i,renderActiveFilters:s,renderPaginationRow:l,fetchConversionHostAction:L,conversionHosts:H})}),!G&&z&&0===U.length&&a.default.createElement(d.default,{title:__("No Migration Tasks."),iconType:"pf",iconName:"warning-triangle-o",description:__("No VM migration tasks have been started for this plan. Please refresh and try again.")}),G&&!y&&x.length>0&&a.default.createElement(c.default,{planVms:x}),G&&i&&a.default.createElement(d.default,{title:__("Migration Failed"),iconType:"pf",iconName:"error-circle-o",description:a.default.createElement(a.default.Fragment,null,__("Unable to migrate VMs because no conversion host was configured at the time of the attempted migration.")," ",__("See the product documentation for information on configuring conversion hosts.")),descriptionIsNode:!0}),G&&!i&&0===x.length&&a.default.createElement(d.default,{title:__("No VMs"),iconType:"pf",iconName:"warning-triangle-o",description:__("No VMs were returned for this migration plan. Please refresh and try again.")})),(f||g||y)&&a.default.createElement(d.default,{title:__("Unable to retrieve migration details."),iconType:"pf",iconName:"error-circle-o",description:__("Sorry, we were unable to retrieve migration details at this time. Please refresh and try again.")}))}}]),t}();v.propTypes={fetchTasksForAllRequestsForPlanUrl:o.default.string,fetchTasksForAllRequestsForPlanAction:o.default.func.isRequired,planName:o.default.string,planRequestFailed:o.default.bool,planRequestDenied:o.default.bool,planArchived:o.default.bool,planRequestTasks:o.default.array,isRejectedPlanRequest:o.default.bool,isFetchingPlanRequest:o.default.bool,planRequestPreviouslyFetched:o.default.bool,errorPlanRequest:o.default.object,fetchPlanUrl:o.default.string,fetchPlanAction:o.default.func,isFetchingPlan:o.default.bool,isRejectedPlan:o.default.bool,planId:o.default.string,queryPlanVmsAction:o.default.func,isQueryingVms:o.default.bool,isRejectedVms:o.default.bool,resetPlanStateAction:o.default.func,downloadLogAction:o.default.func,downloadLogInProgressTaskIds:o.default.array,plan:o.default.object,fetchAnsiblePlaybookTemplateAction:o.default.func,ansiblePlaybookTemplate:o.default.object,fetchOrchestrationStackUrl:o.default.string,fetchOrchestrationStackAction:o.default.func,orchestrationStack:o.default.object,cancelPlanRequestTasksAction:o.default.func,cancelPlanRequestTasksUrl:o.default.string,selectedTasksForCancel:o.default.array,updateSelectedTasksForCancelAction:o.default.func,deleteAllSelectedTasksForCancelAction:o.default.func,markedForCancellation:o.default.array,failedMigrations:o.default.array,successfulMigrations:o.default.array,notificationsSentList:o.default.array,dispatchVMTasksCompletionNotificationAction:o.default.func,fetchConversionHostAction:o.default.func,conversionHosts:o.default.object},v.defaultProps={planName:"",planRequestTasks:[],isRejectedPlanRequest:!1,isFetchingPlanRequest:!1,planRequestPreviouslyFetched:!1,errorPlanRequest:null,fetchPlanUrl:"/api/service_templates",fetchTasksForAllRequestsForPlanUrl:"/api/requests?expand=resource&attributes=miq_request_tasks",fetchOrchestrationStackUrl:"/api/orchestration_stacks",cancelPlanRequestTasksUrl:_.REQUEST_TASKS_URL},t.default=v},203:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormField=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(1)),i=n(6),s=n(37);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.input,n=e.label,o=e.required,l=e.controlId,u=e.type,c=e.options,d=e.optionKey,f=e.optionValue,p=e.labelWidth,m=e.controlWidth,_=e.meta,g=_.touched,v=_.error,h=e.help,y=e.maxLength,T=e.maxLengthWarning,E=e.info,S=e.children,P=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["input","label","required","controlId","type","options","optionKey","optionValue","labelWidth","controlWidth","meta","help","maxLength","maxLengthWarning","info","children"]),b=y&&t.value.length>=y&&T,A=r({key:{label:n},controlId:l,validationState:(g&&v?"error":b&&"warning")||null},P),C=function(e){var n=e.target.value;y&&n.length>y||t.onChange(e)};return a.default.createElement(i.Form.FormGroup,A,a.default.createElement(i.Grid.Col,{componentClass:i.Form.ControlLabel,sm:Number.parseInt(p,10)||2},o&&a.default.createElement("span",{className:"required-asterisk"},"* "),n,E?a.default.createElement(i.OverlayTrigger,{rootClose:!0,trigger:"click",placement:"top",overlay:a.default.createElement(i.Popover,{id:"info-popover-"+t.name,style:{width:400}},E)},a.default.createElement(i.Button,{bsStyle:"link"},a.default.createElement(i.Icon,{type:"pf",name:"info"}))):null),a.default.createElement(i.Grid.Col,{sm:Number.parseInt(m,10)||9,id:t.name},function(){if(S)return S({input:t});var e=void 0;switch(u){case"textarea":e=a.default.createElement(i.Form.FormControl,r({},t,{onChange:C,type:u,componentClass:"textarea"}));break;case"text":e=a.default.createElement(i.Form.FormControl,r({},t,{onChange:C,type:u}));break;case"select":e=a.default.createElement("select",r({className:"form-control"},t),a.default.createElement("option",{disabled:!0,value:""},"<"+__("Choose")+">"),c.map(function(e){return a.default.createElement("option",{value:e[d],key:e[f]},e[f])}));break;case"radio":e=c.map(function(e){return a.default.createElement("div",{key:e.id},a.default.createElement("label",{htmlFor:t.name},a.default.createElement(s.Field,{name:t.name,component:"input",type:"radio",value:e.id})," "+e.name),a.default.createElement("br",null))})}return e}(),(h||g&&v||b)&&a.default.createElement(i.Form.HelpBlock,null,g&&v||b||h)))};t.FormField=u,u.propTypes={label:o.default.string,input:o.default.object,required:o.default.bool,controlId:o.default.string,type:o.default.string,options:o.default.array,optionKey:o.default.string,optionValue:o.default.string,labelWidth:o.default.oneOfType([o.default.string,o.default.number]),controlWidth:o.default.oneOfType([o.default.string,o.default.number]),meta:o.default.object,help:o.default.oneOfType([o.default.string,o.default.node]),maxLength:o.default.number,maxLengthWarning:o.default.string,info:o.default.oneOfType([o.default.string,o.default.node]),children:o.default.func}},2030:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(801),o=n(256);var i=t.initialState=(0,r.default)({conversionHosts:[],conversionHostTasks:[],conversionHostTasksByResource:{},conversionHostToDelete:null,conversionHostDeleteModalVisible:!1,conversionHostRetryModalMounted:!1,conversionHostRetryModalVisible:!1,conversionHostTaskToRetry:null,conversionHostWizardMounted:!1,conversionHostWizardVisible:!1,errorDeleteConversionHost:!1,errorFetchingConversionHosts:null,errorFetchingConversionHostTasks:null,errorFetchingServers:null,errorFetchingSettings:null,errorPostingConversionHosts:null,errorSavingSettings:null,fetchingServersRejected:!1,fetchingSettingsRejected:!1,isDeletingConversionHost:!1,isFetchingConversionHosts:!1,isFetchingConversionHostTasks:!1,isFetchingServers:!1,isFetchingSettings:!1,isPostingConversionHosts:!1,isRejectedDeletingConversionHost:!1,isRejectedFetchingConversionHosts:!1,isRejectedFetchingConversionHostTasks:!1,isRejectedPostingConversionHosts:!1,isSavingSettings:!1,postConversionHostsResults:[],savedSettings:{},savingSettingsRejected:!1,servers:[]});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case a.V2V_FETCH_SERVERS+"_PENDING":return e.set("isFetchingServers",!0).set("fetchingServersRejected",!1).set("errorFetchingServers",null);case a.V2V_FETCH_SERVERS+"_REJECTED":return e.set("isFetchingServers",!1).set("fetchingServersRejected",!0).set("errorFetchingServers",t.payload);case a.V2V_FETCH_SERVERS+"_FULFILLED":return e.set("isFetchingServers",!1).set("fetchingServersRejected",!1).set("errorFetchingServers",null).set("servers",t.payload.data.resources);case a.V2V_FETCH_SETTINGS+"_PENDING":return e.set("isFetchingSettings",!0).set("fetchingSettingsRejected",!1).set("errorFetchingSettings",null);case a.V2V_FETCH_SETTINGS+"_REJECTED":return e.set("isFetchingSettings",!1).set("fetchingSettingsRejected",!0).set("errorFetchingSettings",t.payload);case a.V2V_FETCH_SETTINGS+"_FULFILLED":return e.set("isFetchingSettings",!1).set("fetchingSettingsRejected",!1).set("errorFetchingSettings",null).set("savedSettings",(0,o.getFormValuesFromApiSettings)(t.payload.data));case a.V2V_PATCH_SETTINGS+"_PENDING":return e.set("isSavingSettings",!0).set("savingSettingsRejected",!1).set("errorSavingSettings",null);case a.V2V_PATCH_SETTINGS+"_REJECTED":return e.set("isSavingSettings",!1).set("savingSettingsRejected",!0).set("errorSavingSettings",t.payload);case a.V2V_PATCH_SETTINGS+"_FULFILLED":return e.set("isSavingSettings",!1).set("savingSettingsRejected",!1).set("errorSavingSettings",null).set("savedSettings",(0,o.getFormValuesFromApiSettings)(t.payload));case a.FETCH_V2V_CONVERSION_HOSTS+"_PENDING":return e.set("isFetchingConversionHosts",!0).set("isRejectedFetchingConversionHosts",!1).set("errorFetchingConversionHosts",null);case a.FETCH_V2V_CONVERSION_HOSTS+"_FULFILLED":return e.set("conversionHosts",t.payload.data.resources).set("isFetchingConversionHosts",!1).set("isRejectedFetchingConversionHosts",!1).set("errorFetchingConversionHosts",null);case a.FETCH_V2V_CONVERSION_HOSTS+"_REJECTED":return e.set("isFetchingConversionHosts",!1).set("isRejectedFetchingConversionHosts",!0).set("errorFetchingConversionHosts",t.payload);case a.FETCH_V2V_CONVERSION_HOST_TASKS+"_PENDING":return e.set("isFetchingConversionHostTasks",!0).set("isRejectedFetchingConversionHostTasks",!1).set("errorFetchingConversionHostTasks",null);case a.FETCH_V2V_CONVERSION_HOST_TASKS+"_FULFILLED":var n=(0,o.parseConversionHostTasksMetadata)(t.payload.data.resources),r=(0,o.indexConversionHostTasksByResource)(n);return e.set("conversionHostTasks",n).set("conversionHostTasksByResource",r).set("isFetchingConversionHostTasks",!1).set("isRejectedFetchingConversionHostTasks",!1).set("errorFetchingConversionHostTasks",null);case a.FETCH_V2V_CONVERSION_HOST_TASKS+"_REJECTED":return e.set("isFetchingConversionHostTasks",!1).set("isRejectedFetchingConversionHostTasks",!0).set("errorFetchingConversionHostTasks",t.payload);case a.SHOW_V2V_CONVERSION_HOST_WIZARD:return e.set("conversionHostWizardMounted",!0).set("conversionHostWizardVisible",!0);case a.HIDE_V2V_CONVERSION_HOST_WIZARD:return e.set("conversionHostWizardVisible",!1);case a.V2V_CONVERSION_HOST_WIZARD_EXITED:return e.set("conversionHostWizardMounted",!1);case a.POST_V2V_CONVERSION_HOSTS+"_PENDING":return e.set("isPostingConversionHosts",!0).set("isRejectedPostingConversionHosts",!1).set("errorPostingConversionHosts",!1);case a.POST_V2V_CONVERSION_HOSTS+"_FULFILLED":return e.set("isPostingConversionHosts",!1).set("isRejectedPostingConversionHosts",!1).set("errorPostingConversionHosts",null).set("postConversionHostsResults",t.payload);case a.POST_V2V_CONVERSION_HOSTS+"_REJECTED":return e.set("isPostingConversionHosts",!1).set("isRejectedPostingConversionHosts",!0).set("errorPostingConversionHosts",t.payload);case a.SET_V2V_CONVERSION_HOST_TO_DELETE:return e.set("conversionHostToDelete",t.payload);case a.SHOW_V2V_CONVERSION_HOST_DELETE_MODAL:return e.set("conversionHostDeleteModalVisible",!0);case a.HIDE_V2V_CONVERSION_HOST_DELETE_MODAL:return e.set("conversionHostDeleteModalVisible",!1);case a.DELETE_V2V_CONVERSION_HOST+"_PENDING":return e.set("isDeletingConversionHost",t.payload);case a.DELETE_V2V_CONVERSION_HOST+"_FULFILLED":return e.set("deleteConversionHostResponse",t.payload.data).set("isDeletingConversionHost",null).set("isRejectedDeletingConversionHost",!1).set("errorDeleteConversionHost",null).set("conversionHostDeleteModalVisible",!1);case a.DELETE_V2V_CONVERSION_HOST+"_REJECTED":return e.set("errorDeleteConversionHost",t.payload).set("isRejectedDeletingConversionHost",!0).set("isDeletingConversionHost",null).set("conversionHostDeleteModalVisible",!1);case a.SET_V2V_CONVERSION_HOST_TASK_TO_RETRY:return e.set("conversionHostTaskToRetry",t.payload);case a.SHOW_V2V_CONVERSION_HOST_RETRY_MODAL:return e.set("conversionHostRetryModalMounted",!0).set("conversionHostRetryModalVisible",!0);case a.HIDE_V2V_CONVERSION_HOST_RETRY_MODAL:return e.set("conversionHostRetryModalVisible",!1);case a.V2V_CONVERSION_HOST_RETRY_MODAL_EXITED:return e.set("conversionHostRetryModalMounted",!1);default:return e}}},2031:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conversionHostWizardFormFilter=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(96);t.conversionHostWizardFormFilter=function(e){return Object.values(a.stepIDs).reduce(function(t,n){return r({},t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,e[n]))},{})}},2032:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConfigureConversionHostPostBodies=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(88),o=n(96);t.getConfigureConversionHostPostBodies=function(e,t,n){return t.hosts.map(function(t){var i=n.transformationMethod===o.VDDK?{vmware_vddk_package_url:n.vddkLibraryPath}:{vmware_ssh_private_key:n.vmwareSshKey.body};return r({name:t.name,resource_type:t.type,resource_id:t.id,conversion_host_ssh_private_key:n.conversionHostSshKey.body,auth_user:e.providerType===a.OPENSTACK?n.openstackUser:"root"},i)})}},2033:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=l(n(1)),i=l(n(482)),s=l(n(481));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.postBodies;(0,e.postConversionHostsAction)(e.postConversionHostsUrl,t)}},{key:"render",value:function(){var e=this.props,t=e.isPostingConversionHosts,n=e.isRejectedPostingConversionHosts,r=e.postConversionHostsResults;return t?a.default.createElement(i.default,{title:__("Starting Conversion Host Configuration...")}):n?a.default.createElement(s.default,{title:__("Error Starting Conversion Host Configuration"),message:__("We're sorry, something went wrong. Please try again.")}):r?a.default.createElement("div",{className:"wizard-pf-complete blank-slate-pf"},a.default.createElement("div",{className:"modal-wizard-results-grey-icon"},a.default.createElement("span",{className:"fa fa-clock-o"})),a.default.createElement("h3",{className:"blank-slate-pf-main-action"},__("Conversion host configuration is in progress.")),a.default.createElement("p",{className:"blank-slate-pf-secondary-action"},__("This may take a few minutes. Progress of the configuration will be shown on the Conversion Hosts page."))):null}}]),t}();u.propTypes={postBodies:o.default.arrayOf(o.default.object),postConversionHostsAction:o.default.func,postConversionHostsUrl:o.default.string,isPostingConversionHosts:o.default.bool,isRejectedPostingConversionHosts:o.default.bool,postConversionHostsResults:o.default.arrayOf(o.default.object)},u.defaultProps={postConversionHostsUrl:"/api/conversion_hosts"},t.default=u},2034:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2033)),i=n(96),s=n(2032),l=n(257);t.default=(0,a.connect)(function(e){var t=e.form,n=e.settings,r=n.isPostingConversionHosts,a=n.isRejectedPostingConversionHosts,o=n.postConversionHostsResults,l=t[i.stepIDs.locationStep]&&t[i.stepIDs.locationStep].values,u=t[i.stepIDs.hostsStep]&&t[i.stepIDs.hostsStep].values,c=t[i.stepIDs.authenticationStep]&&t[i.stepIDs.authenticationStep].values;return{postBodies:(0,s.getConfigureConversionHostPostBodies)(l,u,c),isPostingConversionHosts:r,isRejectedPostingConversionHosts:a,postConversionHostsResults:o}},{postConversionHostsAction:l.postConversionHostsAction},function(e,t,n){return r(e,n.data,t)})(o.default)},2035:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=_(n(0)),o=_(n(1)),i=n(37),s=n(97),l=n(6),u=n(96),c=n(203),d=n(88),f=n(163),p=_(n(800)),m=n(256);function _(e){return e&&e.__esModule?e:{default:e}}var g=(0,s.required)({msg:__("This field is required")}),v=function(e){var t=e.selectedProviderType,n=e.selectedTransformationMethod,o={labelWidth:4,controlWidth:7};return a.default.createElement(l.Form,{className:"form-horizontal"},t===d.OPENSTACK&&a.default.createElement(i.Field,r({},o,{name:"openstackUser",label:__("OpenStack User"),component:c.FormField,type:"text",controlId:"openstack-user-input",required:!0,validate:[g]})),a.default.createElement(p.default,r({},o,{name:"conversionHostSshKey",label:__("Conversion Host SSH private key"),controlId:"host-ssh-key-input",info:(0,m.getConversionHostSshKeyInfoMessage)(t)})),a.default.createElement(i.Field,r({},o,{name:"transformationMethod",label:__("Transformation method"),component:f.BootstrapSelect,options:[{id:u.SSH,name:__("SSH")},{id:u.VDDK,name:__("VDDK")}],option_key:"id",option_value:"name",inline_label:!0,required:!0,validate:[g],style:{marginTop:25}})),n===u.SSH&&a.default.createElement(p.default,r({},o,{name:"vmwareSshKey",label:__("VMware hypervisors SSH private key"),controlId:"vmware-ssh-key-input"})),n===u.VDDK&&a.default.createElement(i.Field,r({},o,{name:"vddkLibraryPath",label:__("VDDK library path"),component:c.FormField,controlId:"vddk-library-path",required:!0,validate:[g]}),function(e){var t=e.input;return a.default.createElement(l.Form.FormControl,r({},t,{type:"text"}))}))};v.propTypes={selectedProviderType:o.default.string,selectedTransformationMethod:o.default.string,unregisterFieldAction:o.default.func},t.default=(0,i.reduxForm)({form:u.stepIDs.authenticationStep,destroyOnUnmount:!1,forceUnregisterOnUnmount:!0,initialValues:{openstackUser:"cloud-user",conversionHostSshKey:{filename:"",body:""},vmwareSshKey:{filename:"",body:""}}})(v)},2036:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2035)),i=n(96);t.default=(0,a.connect)(function(e){var t=e.form,n=t[i.stepIDs.locationStep],r=n&&n.values,a=t[i.stepIDs.authenticationStep],o=a&&a.values;return{selectedProviderType:r&&r.providerType,selectedTransformationMethod:o&&o.transformationMethod}},{},function(e,t,n){return r(e,n.data,t)})(o.default)},2037:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(0)),o=s(n(1)),i=n(6);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.input,n=t.value,o=t.onChange,s=e.controlId,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["input","controlId"]);return a.default.createElement(i.TypeAheadSelect,r({selected:n,onChange:o,inputProps:{id:s}},l))};l.propTypes={controlId:o.default.string.isRequired,input:o.default.shape({value:o.default.array,onChange:o.default.func})},t.default=l},2038:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(0)),a=f(n(1)),o=n(37),i=n(97),s=n(6),l=n(88),u=f(n(2037)),c=n(96),d=n(484);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t=e.selectedProviderType,n=e.selectedCluster,a=e.conversionHosts,c=e.conversionHostTasksByResource,f=[],p="";t===l.RHV&&(f=n.hosts,p=__("No hosts available for the selected cluster.")),t===l.OPENSTACK&&(f=n.vms,p=__("No hosts available for the selected project."));var m=f.filter(function(e){if(a.some(function(t){return t.resource.type===e.type&&t.resource.id===e.id}))return!1;var t=c,n=t&&t[e.type]&&t[e.type][e.id]&&t[e.type][e.id].enable;return!(n&&n.some(function(e){return e.state!==d.FINISHED}))});return r.default.createElement(s.Form,{className:"form-vertical"},r.default.createElement(s.Form.FormGroup,{controlId:"host-selection"},r.default.createElement(s.Form.ControlLabel,null,__("Hosts to configure as conversion hosts")),r.default.createElement(o.Field,{component:u.default,name:"hosts",controlId:"host-selection",multiple:!0,clearButton:!0,options:m,labelKey:"name",placeholder:__("Select one or more hosts..."),emptyLabel:0===f.length?p:__("No matches found."),highlightOnlyResult:!0,selectHintOnEnter:!0,validate:[(0,i.length)({min:1})]})))};p.propTypes={selectedProviderType:a.default.string,selectedCluster:a.default.object,conversionHosts:a.default.arrayOf(a.default.object),conversionHostTasksByResource:a.default.objectOf(a.default.objectOf(a.default.objectOf(a.default.arrayOf(a.default.object))))},t.default=(0,o.reduxForm)({form:c.stepIDs.hostsStep,destroyOnUnmount:!1,initialValues:{hosts:[]}})(p)},2039:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2038)),i=n(96);t.default=(0,a.connect)(function(e){var t=e.form,n=e.targetResources.targetClusters,r=e.settings,a=r.conversionHosts,o=r.conversionHostTasksByResource,s=t[i.stepIDs.locationStep],l=s&&s.values,u=l&&l.cluster;return{selectedProviderType:l&&l.providerType,selectedCluster:n.find(function(e){return e.id===u}),conversionHosts:a,conversionHostTasksByResource:o}},{},function(e,t,n){return r(e,n.data,t)})(o.default)},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=f(o),s=f(n(1)),l=n(6),u=f(n(2258)),c=f(n(2257)),d=f(n(2256));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),f=0;f<o;f++)s[f]=arguments[f];return n=a=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={currentFilterType:a.props.filterTypes[a.props.defaultFilterTypeIndex],currentValue:"",activeFilters:[],currentSortType:a.props.sortFields[a.props.defaultSortTypeIndex],isSortNumeric:a.props.sortFields[a.props.defaultSortTypeIndex].isNumeric,isSortAscending:!0,pagination:{page:1,perPage:10,perPageOptions:[5,10,15]},pageChangeValue:1},a.onValueKeyPress=function(e){var t=a.state,n=t.currentValue,r=t.currentFilterType;"Enter"===e.key&&n&&n.length>0&&(a.setState({currentValue:""}),a.filterAdded(r,n),e.stopPropagation(),e.preventDefault())},a.onFirstPage=function(){a.setPage(1)},a.onLastPage=function(){var e=a.state.pagination.page,t=a.totalPages();e<t&&a.setPage(t)},a.onNextPage=function(){a.state.pagination.page<a.totalPages()&&a.setPage(a.state.pagination.page+1)},a.onPageInput=function(e){a.setState({pageChangeValue:e.target.value})},a.onPerPageSelect=function(e,t){var n=r({},a.state.pagination);n.perPage=e,n.page=1,a.setState({pagination:n})},a.onPreviousPage=function(){a.state.pagination.page>1&&a.setPage(a.state.pagination.page-1)},a.onSubmit=function(){a.setPage(a.state.pageChangeValue)},a.setPage=function(e){var t=Number(e);if(!Number.isNaN(e)&&""!==e&&t>0&&t<=a.totalPages()){var n=r({},a.state.pagination);n.page=t,a.setState({pagination:n,pageChangeValue:t})}},a.filterValueSelected=function(e){var t=a.state,n=t.currentFilterType;e!==t.currentValue&&(a.setState({currentValue:e}),e&&a.filterAdded(n,e))},a.clearFilters=function(){a.setState({activeFilters:[],currentValue:""})},a.removeFilter=function(e){var t=a.state.activeFilters,n=t.indexOf(e);if(n>-1){var r=[].concat(p(t.slice(0,n)),p(t.slice(n+1)));a.setState({activeFilters:r})}},a.selectFilterType=function(e){a.state.currentFilterType!==e&&a.setState({currentValue:"",currentFilterType:e})},a.updateCurrentValue=function(e){a.setState({currentValue:e.target.value})},a.filterListItems=function(){var e=a.state.activeFilters,t=a.props.listItems;return(0,u.default)(e,t)},a.filterSortPaginateListItems=function(e){var t=a.state,n=t.currentSortType,r=t.isSortNumeric,o=t.isSortAscending,i=t.pagination;return(0,d.default)((0,c.default)(n,r,o,e),i.page,i.perPage)},a.toggleCurrentSortDirection=function(){a.setState(function(e){return{isSortAscending:!e.isSortAscending}})},a.updateCurrentSortType=function(e){a.state.currentSortType!==e&&a.setState({currentSortType:e,isSortNumeric:e.isNumeric,isSortAscending:!0})},a.filterAdded=function(e,t){var n=e.title||e;n+=": ",n+=t.title||t,a.setState(function(a){return{activeFilters:[].concat(p(a.activeFilters),[{label:n,field:e,value:t.title||t}]),pagination:r({},a.pagination,{page:1}),pageChangeValue:1}})},a.totalPages=function(){var e=a.state,t=e.activeFilters,n=e.pagination,r=a.props.listItems,o=(0,u.default)(t,r);return Math.ceil(o.length/n.perPage)},a.renderInput=function(){var e=a.state,t=e.currentFilterType,n=e.currentValue;return t?"select"===t.filterType?i.default.createElement(l.Filter.ValueSelector,{filterValues:t.filterValues,placeholder:t.placeholder,currentValue:n,onFilterValueSelected:a.filterValueSelected}):i.default.createElement(l.FormControl,{type:t.filterType,value:n,placeholder:t.placeholder,onChange:function(e){return a.updateCurrentValue(e)},onKeyPress:function(e){return a.onValueKeyPress(e)}}):null},a.renderFilterControls=function(e){var t=a.props.filterTypes,n=a.state.currentFilterType;return i.default.createElement(l.Filter,r({style:{paddingLeft:0}},e),i.default.createElement(l.Filter.TypeSelector,{filterTypes:t,currentFilterType:n,onFilterTypeSelected:a.selectFilterType}),a.renderInput())},a.renderSortControls=function(){var e=a.props.sortFields,t=a.state,n=t.currentSortType,r=t.isSortNumeric,o=t.isSortAscending;return i.default.createElement(l.Sort,null,i.default.createElement(l.Sort.TypeSelector,{sortTypes:e,currentSortType:n,onSortTypeSelected:a.updateCurrentSortType}),i.default.createElement(l.Sort.DirectionSelector,{isNumeric:r,isAscending:o,onClick:a.toggleCurrentSortDirection}))},a.renderActiveFilters=function(e){var t=a.state.activeFilters;return t&&t.length>0&&i.default.createElement(l.Toolbar.Results,null,i.default.createElement("h5",null,e.itemCount," ",1===e.itemCount?__("Result"):__("Results")),i.default.createElement(l.Filter.ActiveLabel,null,__("Active Filters"),":"),i.default.createElement(l.Filter.List,null,t.map(function(e,t){return i.default.createElement(l.Filter.Item,{key:t,onRemove:a.removeFilter,filterData:e},e.label)})),i.default.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),a.clearFilters()}},__("Clear All Filters")))},a.renderPaginationRow=function(e){var t=a.state,n=t.pagination,r=t.pageChangeValue;return i.default.createElement(l.PaginationRow,{viewType:l.PAGINATION_VIEW.LIST,pagination:n,pageInputValue:r,amountOfPages:e.amountOfPages,itemCount:e.itemCount,itemsStart:e.itemsStart,itemsEnd:e.itemsEnd,onPerPageSelect:a.onPerPageSelect,onFirstPage:a.onFirstPage,onPreviousPage:a.onPreviousPage,onPageInput:a.onPageInput,onNextPage:a.onNextPage,onLastPage:a.onLastPage,onSubmit:a.onSubmit})},m(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.filterTypes,r=t.sortFields,a=t.defaultFilterTypeIndex,o=t.defaultSortTypeIndex;if(n!==e.filterTypes){var i=n[a];this.selectFilterType(i)}if(r!==e.sortFields){var s=r[o];this.updateCurrentSortType(s)}}},{key:"render",value:function(){var e=this.filterListItems();return this.props.children({onFirstPage:this.onFirstPage,onLastPage:this.onLastPage,onNextPage:this.onNextPage,onPageInput:this.onPageInput,onPerPageSelect:this.onPerPageSelect,onPreviousPage:this.onPreviousPage,onSubmit:this.onSubmit,clearFilters:this.clearFilters,removeFilter:this.removeFilter,selectFilterType:this.selectFilterType,filteredListItems:e,filteredSortedPaginatedListItems:this.filterSortPaginateListItems(e),toggleCurrentSortDirection:this.toggleCurrentSortDirection,updateCurrentSortType:this.updateCurrentSortType,renderInput:this.renderInput,renderFilterControls:this.renderFilterControls,renderSortControls:this.renderSortControls,renderActiveFilters:this.renderActiveFilters,renderPaginationRow:this.renderPaginationRow},this.state)}}]),t}();_.propTypes={filterTypes:s.default.array,listItems:s.default.array,children:s.default.func,sortFields:s.default.array,defaultSortTypeIndex:s.default.number,defaultFilterTypeIndex:s.default.number},_.defaultProps={defaultSortTypeIndex:0,defaultFilterTypeIndex:0},t.default=_},2040:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=m(n(0)),i=m(n(1)),s=n(37),l=n(97),u=n(6),c=n(163),d=n(88),f=n(322),p=n(96);function m(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.fetchTargetClustersAction,r=t.fetchTargetComputeUrls,a=t.selectedProviderType;e.selectedProviderType!==a&&n(r[a])}},{key:"render",value:function(){var e=this.props,t=e.providers,n=e.isFetchingTargetClusters,a=e.targetClusters,i=e.selectedProviderType,f=e.selectedProviderId,m=e.resetFormAction,_=d.V2V_TARGET_PROVIDERS.filter(function(e){return t.some(function(t){return t.type===e.type})}),g=_.find(function(e){return e.id===i}),v=g&&t.filter(function(e){return e.type===g.type}),h=a.filter(function(e){return e.ems_id===f}),y={component:c.BootstrapSelect,labelWidth:2,controlWidth:9,inline_label:!0,option_key:"id",option_value:"name",required:!0,validate:[(0,l.required)()]},T="";return i===d.RHV&&(T=__("Cluster")),i===d.OPENSTACK&&(T=__("Project")),o.default.createElement(u.Form,{className:"form-horizontal"},o.default.createElement(s.Field,r({},y,{name:"providerType",label:__("Provider Type"),options:_})),i&&o.default.createElement(u.Spinner,{loading:n},o.default.createElement(s.Field,r({},y,{name:"provider",label:__("Provider"),options:v})),o.default.createElement(s.Field,r({},y,{name:"cluster",label:T,options:h,disabled:!f,onChange:function(){return m(p.stepIDs.hostsStep)}}))))}}]),t}();_.propTypes={selectedProviderType:i.default.string,selectedProviderId:i.default.string,providers:i.default.arrayOf(i.default.object),fetchTargetClustersAction:i.default.func,fetchTargetComputeUrls:i.default.object,isFetchingTargetClusters:i.default.bool,targetClusters:i.default.arrayOf(i.default.object),resetFormAction:i.default.func},_.defaultProps={fetchTargetComputeUrls:f.FETCH_TARGET_COMPUTE_URLS},t.default=(0,s.reduxForm)({form:p.stepIDs.locationStep,destroyOnUnmount:!1})(_)},2041:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=n(37),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2040)),s=n(798),l=n(96);t.default=(0,a.connect)(function(e){var t=e.form,n=e.providers.providers,r=e.targetResources,a=r.isFetchingTargetClusters,o=r.targetClusters,i=t[l.stepIDs.locationStep],s=i&&i.values;return{selectedProviderType:s&&s.providerType,selectedProviderId:s&&s.provider,providers:n,isFetchingTargetClusters:a,targetClusters:o}},{fetchTargetClustersAction:s.fetchTargetClustersAction,resetFormAction:o.reset},function(e,t,n){return r(e,n.data,t)})(i.default)},2042:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(0)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={activeStepIndex:0},r.prevStep=function(){var e=r.state.activeStepIndex;r.setState({activeStepIndex:Math.max(e-1,0)})},r.nextStep=function(){var e=r.props.numSteps,t=r.state.activeStepIndex;r.setState({activeStepIndex:Math.min(t+1,e-1)})},r.goToStep=function(e){r.setState({activeStepIndex:e})},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.numSteps,r=t.children,o=this.state.activeStepIndex,i=(o+1).toString();return a.default.createElement(a.default.Fragment,null,a.default.Children.map(r,function(t){return a.default.cloneElement(t,{numSteps:n,activeStepIndex:o,activeStep:i,onBack:e.prevStep,onNext:e.nextStep,goToStep:e.goToStep})}))}}]),t}();l.propTypes={numSteps:o.default.number,children:o.default.node},l.defaultProps={numSteps:1,children:null},t.default=l},2043:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),i=u(n(1)),s=u(n(7)),l=n(6);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onStepClick=function(e,t){var n=r.props,a=n.steps,o=n.goToStep,i=n.disableNextStep,s=n.activeStepIndex;if(!(t||e===s+1&&i)){var l=a[e];o(e),l&&l.onClick&&l.onClick()}},r.stepProps=function(e,t){var n=r.props.activeStep,a=(e+1).toString();return{key:"wizard-step-"+t,stepIndex:e,label:a,step:a,title:t,activeStep:n}},r.renderLoading=function(){var e=r.props,t=e.loadingTitle,n=e.loadingMessage;return o.default.createElement(l.Wizard.Row,null,o.default.createElement(l.Wizard.Main,null,o.default.createElement(l.EmptyState,null,o.default.createElement(l.Spinner,{size:"lg",className:"blank-slate-pf-icon",loading:!0}),o.default.createElement(l.EmptyState.Action,null,o.default.createElement("h3",null,t)),o.default.createElement(l.EmptyState.Action,{secondary:!0},o.default.createElement("p",null,n)))))},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.loaded,a=t.steps,i=t.activeStepIndex,u=t.alertText,c=t.alertType,d=t.hideAlertAction,f=t.stepButtonsDisabled,p=a[i];if(!n)return this.renderLoading();var m=p&&p.render&&p.render(i,p.title),_=(0,s.default)("modal-wizard-alert--alert",{"is-visible":u});return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"modal-wizard-alert"},o.default.createElement(l.Alert,{className:_,type:c,onDismiss:d},u)),o.default.createElement(l.Wizard.Steps,{className:(0,s.default)({"step-buttons-disabled":f}),steps:a.map(function(t,n){var a=f||t.disabled;return o.default.createElement(l.Wizard.Step,r({},e.stepProps(n,t.title),{onClick:function(){return e.onStepClick(n,a)},className:a&&(0,s.default)("is-disabled")}))})}),o.default.createElement(l.Wizard.Row,null,o.default.createElement(l.Wizard.Main,null,o.default.createElement(l.Wizard.Contents,{stepIndex:i,activeStepIndex:i},m))))}}]),t}();d.propTypes={loadingTitle:i.default.string,loadingMessage:i.default.string,loaded:i.default.bool,steps:i.default.arrayOf(i.default.shape({title:i.default.string,render:i.default.func,onClick:i.default.func})),activeStepIndex:i.default.number,activeStep:i.default.string,onClick:i.default.func,goToStep:i.default.func,stepButtonsDisabled:i.default.bool,disableNextStep:i.default.bool,alertText:i.default.string,alertType:i.default.string,hideAlertAction:i.default.func},d.defaultProps={loadingTitle:__("Loading Wizard..."),loadingMessage:__("Loading..."),loaded:!1,steps:[{title:__("General"),render:function(){return o.default.createElement("p",null,__("General"))}}],activeStepIndex:0,activeStep:"1",onClick:l.noop,goToStep:l.noop,stepButtonsDisabled:!1,disableNextStep:!0,hideAlertAction:l.noop},t.default=d},2044:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var a=l(n(0)),o=l(n(1)),i=n(6),s=n(26);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(u(r={},__("Infrastructure Mapping Wizard"),["mappingWizardGeneralStep","mappingWizardClustersStep"]),u(r,__("Migration Plan Wizard"),["planWizardGeneralStep","planWizardVMStep"]),r),d=function(e){var t=e.title,n=e.showWizard,r=e.onHide,o=e.onExited,s=e.onBack,l=e.onNext,u=e.activeStepIndex,d=e.activeStep,f=e.numSteps,p=e.goToStep,m=e.stepButtonsDisabled,_=e.children,g=e.formContainer,v=0===u,h=u===f-1,y=c[t][u],T=g&&Object.prototype.hasOwnProperty.call(g,y)&&!!g[y].syncErrors;return a.default.createElement(i.Wizard,{show:n,onHide:r,onExited:o,dialogClassName:"modal-lg wizard-pf"},a.default.createElement(i.Wizard.Header,{onClose:r,title:t}),a.default.createElement(i.Wizard.Body,null,a.default.Children.map(_,function(e){return a.default.cloneElement(e,{activeStepIndex:u,activeStep:d,goToStep:p,stepButtonsDisabled:m,disableNextStep:T})})),a.default.createElement(i.Wizard.Footer,null,a.default.createElement(i.Button,{bsStyle:"default",className:"btn-cancel",onClick:r},__("Cancel")),a.default.createElement(i.Button,{bsStyle:"default",onClick:s,disabled:v},a.default.createElement(i.Icon,{type:"fa",name:"angle-left"}),__("Back")),a.default.createElement(i.Button,{bsStyle:"primary",onClick:h?r:l,disabled:T},h?__("Close"):__("Next"),a.default.createElement(i.Icon,{type:"fa",name:"angle-right"}))))};d.propTypes={showWizard:o.default.bool,title:o.default.oneOfType([o.default.string,o.default.node]),onHide:o.default.func,onExited:o.default.func,onBack:o.default.func,onNext:o.default.func,activeStepIndex:o.default.number,activeStep:o.default.string,numSteps:o.default.number,goToStep:o.default.func,stepButtonsDisabled:o.default.bool,children:o.default.node,formContainer:o.default.object},d.defaultProps={showWizard:!1,title:"",onHide:i.noop,onExited:i.noop,onBack:i.noop,onNext:i.noop,activeStepIndex:0,activeStep:"1",numSteps:1,stepButtonsDisabled:!1,children:null};t.default=(0,s.connect)(function(e){return{formContainer:e.form}})(d)},2045:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),i=u(n(1)),s=n(6),l=u(n(483));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return JSON.stringify(this.props)!==JSON.stringify(e)}},{key:"render",value:function(){var e=this.props.wizardSteps;return o.default.createElement(l.default.Body,r({},this.props,{stepButtonsDisabled:!0,steps:e}))}}]),t}();c.propTypes={wizardSteps:i.default.arrayOf(i.default.object).isRequired,loaded:i.default.bool,activeStepIndex:i.default.number,activeStep:i.default.string,goToStep:i.default.func,disableNextStep:i.default.bool,plansBody:i.default.object},c.defaultProps={loaded:!1,activeStepIndex:0,activeStep:"1",goToStep:s.noop,disableNextStep:!0},t.default=c},2046:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(0)),o=p(n(1)),i=n(6),s=n(96),l=p(n(2045)),u=p(n(2041)),c=p(n(2039)),d=p(n(2036)),f=p(n(2034));function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={activeStepIndex:0},r.getWizardSteps=function(){return[{id:s.stepIDs.locationStep,title:__("Location"),render:function(){return a.default.createElement(u.default,null)}},{id:s.stepIDs.hostsStep,title:__("Host(s)"),render:function(){return a.default.createElement(c.default,null)}},{id:s.stepIDs.authenticationStep,title:__("Authentication"),render:function(){return a.default.createElement(d.default,null)}},{id:s.stepIDs.resultsStep,title:__("Results"),render:function(){return a.default.createElement(f.default,null)}}]},r.getActiveWizardStep=function(){var e=r.state.activeStepIndex;return r.getWizardSteps()[e]},r.prevStep=function(){var e=r.state.activeStepIndex;r.goToStep(Math.max(e-1,0))},r.nextStep=function(){var e=r.state.activeStepIndex,t=r.getWizardSteps();r.goToStep(Math.min(e+1,t.length-1))},r.goToStep=function(e){r.setState({activeStepIndex:e})},r.goToStepId=function(e){var t=r.getWizardSteps().findIndex(function(t){return t.id===e});t&&r.goToStep(t)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.conversionHostWizardVisible,n=e.hideConversionHostWizardAction,r=e.conversionHostWizardExitedAction,o=e.isPostingConversionHosts,u=e.forms,c=this.state.activeStepIndex,d=(c+1).toString(),f=this.getWizardSteps(),p=0===c,m=c===f.length-1,_=this.getActiveWizardStep(),g=!m&&u[_.id],v=g&&(!!g.syncErrors||!!g.asyncErrors)||m&&o;return a.default.createElement(i.Wizard,{show:t,onClose:n,onExited:r,backdrop:"static"},a.default.createElement(i.Wizard.Header,{onClose:n,title:__("Configure Conversion Host")}),a.default.createElement(i.Wizard.Body,null,a.default.createElement(l.default,{wizardSteps:f,loaded:!0,activeStepIndex:c,activeStep:d,goToStep:this.goToStep,disableNextStep:v})),a.default.createElement(i.Wizard.Footer,{className:"wizard-pf-footer"},a.default.createElement(i.Button,{bsStyle:"default",className:"btn-cancel",onClick:n,disabled:m},__("Cancel")),a.default.createElement(i.Button,{bsStyle:"default",onClick:this.prevStep,disabled:p||m},a.default.createElement(i.Icon,{type:"fa",name:"angle-left"}),__("Back")),a.default.createElement(i.Button,{bsStyle:"primary",onClick:m?n:this.nextStep,disabled:v},m?__("Close"):_.id===s.stepIDs.authenticationStep?__("Configure"):__("Next"),!m&&a.default.createElement(i.Icon,{type:"fa",name:"angle-right"}))))}}]),t}();_.propTypes={hideConversionHostWizardAction:o.default.func,conversionHostWizardExitedAction:o.default.func,conversionHostWizardVisible:o.default.bool,isPostingConversionHosts:o.default.bool,forms:o.default.object},_.defaultProps={forms:{}},t.default=_},2047:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2046)),i=n(2031),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(257));t.default=(0,a.connect)(function(e,t){var n=e.form,a=e.settings,o=a.conversionHostWizardVisible,s=a.isPostingConversionHosts;return r({},t.data,{forms:(0,i.conversionHostWizardFormFilter)(n),conversionHostWizardVisible:o,isPostingConversionHosts:s})},s,function(e,t,n){return r(e,n.data,t)})(o.default)},205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDateTime=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(4));t.formatDateTime=function(e){return(0,r.default)(e).format("MMMM Do YYYY, h:mm a")}},2050:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=u(n(0)),o=u(n(1)),i=n(6),s=u(n(799)),l=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.value,n=t.filename,o=t.body,u=e.onChange,c=e.onBlur,d=e.help,f=function(){return u({filename:"",body:""})};return a.default.createElement(s.default,{onDrop:function(e){e&&e.length>0&&function(e){var t=new FileReader;t.onload=function(){return u({filename:e.name,body:t.result})},t.readAsBinaryString(e)}(e[0])},onClick:function(e){return e.preventDefault()}},function(e){var t=e.getRootProps,s=e.getInputProps,p=e.isDragActive,m=e.open;return a.default.createElement("div",r({},t(),{className:(0,l.default)("text-file-input__dropzone",{active:p})}),a.default.createElement("input",s()),a.default.createElement(i.Form.InputGroup,null,a.default.createElement(i.Form.FormControl,{type:"text",disabled:!0,value:n}),a.default.createElement(i.Form.InputGroup.Button,null,a.default.createElement(i.Button,{onClick:m},__("Browse"),""),a.default.createElement(i.Button,{onClick:f,disabled:""===o},__("Clear")))),d&&a.default.createElement(i.Form.HelpBlock,null,d),a.default.createElement(i.Form.FormControl,{className:"text-file-input__textarea",componentClass:"textarea",value:o,onChange:function(e){return u({filename:"",body:e.target.value})},onBlur:function(){return c()},disabled:""!==n}))})};c.propTypes={help:o.default.oneOfType([o.default.string,o.default.node]),value:o.default.shape({filename:o.default.string,body:o.default.string}),onChange:o.default.func,onBlur:o.default.func},t.default=c},2051:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2050));t.default=r.default},2052:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=d(n(0)),o=d(n(1)),i=n(37),s=n(6),l=n(88),u=d(n(800)),c=n(256);function d(e){return e&&e.__esModule?e:{default:e}}var f={labelWidth:4,controlWidth:7},p=function(e){var t=e.show,n=e.conversionHostTaskToRetry,o=e.isPostingConversionHosts,i=e.hideConversionHostRetryModalAction,d=e.conversionHostRetryModalExitedAction,p=e.postConversionHostsAction,m=e.postConversionHostsUrl,_=e.retryForm,g=n&&n.context_data&&n.context_data.request_params,v=!g.vmware_vddk_package_url,h=Object.keys(l.CONVERSION_HOST_TYPES).find(function(e){return l.CONVERSION_HOST_TYPES[e]===g.resource_type}),y=_&&!!_.syncErrors;return a.default.createElement(s.Modal,{show:t,onHide:i,onExited:d,dialogClassName:"modal-lg wizard-pf",backdrop:"static"},a.default.createElement(s.Modal.Header,null,a.default.createElement(s.Modal.CloseButton,{onClick:i}),a.default.createElement(s.Modal.Title,null,__("Retry Conversion Host Configuration"))),a.default.createElement(s.Modal.Body,null,a.default.createElement(s.Form,{className:"form-horizontal"},a.default.createElement("ul",null,a.default.createElement("p",null,__("For your security, SSH private keys from the configuration wizard were not saved. Re-enter the necessary authentication details to retry configuration of the following conversion host:"))),a.default.createElement(s.Form.FormGroup,null,a.default.createElement(s.Grid.Col,{componentClass:s.Form.ControlLabel,sm:f.labelWidth},__("Host")),a.default.createElement(s.Grid.Col,{sm:f.controlWidth,style:{paddingTop:3}},n.name)),a.default.createElement(u.default,r({},f,{name:"conversionHostSshKey",label:__("Conversion Host SSH private key"),controlId:"host-ssh-key-input",info:(0,c.getConversionHostSshKeyInfoMessage)(h)})),v&&a.default.createElement(u.default,r({},f,{name:"vmwareSshKey",label:__("VMware hypervisors SSH private key"),controlId:"vmware-ssh-key-input",style:{marginTop:25}})))),a.default.createElement(s.Modal.Footer,null,a.default.createElement(s.Button,{bsStyle:"default",className:"btn-cancel",onClick:i},__("Cancel")),a.default.createElement(s.Button,{bsStyle:"primary",disabled:y||o,onClick:function(){var e=r({},n.context_data.request_params,{conversion_host_ssh_private_key:_.values.conversionHostSshKey.body},v?{vmware_ssh_private_key:_.values.vmwareSshKey.body}:{});p(m,[e]).then(i)}},__("Retry"))))};p.propTypes={show:o.default.bool,conversionHostTaskToRetry:o.default.object,isPostingConversionHosts:o.default.bool,hideConversionHostRetryModalAction:o.default.func,conversionHostRetryModalExitedAction:o.default.func,postConversionHostsAction:o.default.func,postConversionHostsUrl:o.default.string,retryForm:o.default.object},t.default=(0,i.reduxForm)({form:"retryConversionHost",initialValues:{conversionHostSshKey:{filename:"",body:""},vmwareSshKey:{filename:"",body:""}}})(p)},2053:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2052)),i=n(257);t.default=(0,a.connect)(function(e,t){var n=e.form.retryConversionHost,a=e.settings,o=a.conversionHostRetryModalVisible,i=a.conversionHostTaskToRetry,s=a.isPostingConversionHosts;return r({retryForm:n,show:o,conversionHostTaskToRetry:i,isPostingConversionHosts:s},t)},{hideConversionHostRetryModalAction:i.hideConversionHostRetryModalAction,conversionHostRetryModalExitedAction:i.conversionHostRetryModalExitedAction,postConversionHostsAction:i.postConversionHostsAction},function(e,t,n){return r(e,n.data,t)})(o.default)},2054:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),o=n(6);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.conversionHostToDelete,n=e.deleteConversionHostAction,a=e.deleteConversionHostActionUrl,i=e.hideConversionHostDeleteModalAction,s=e.conversionHostDeleteModalVisible,l=e.isDeletingConversionHost;return r.default.createElement(o.Modal,{show:s,onHide:i,backdrop:"static"},r.default.createElement(o.Modal.Header,null,r.default.createElement(o.Modal.CloseButton,{onClick:i}),r.default.createElement(o.Modal.Title,null,__("Remove Conversion Host"))),r.default.createElement(o.Modal.Body,{className:"warning-modal-body"},r.default.createElement("div",{className:"warning-modal-body--icon"},r.default.createElement(o.Icon,{type:"pf",name:"delete"})),r.default.createElement("div",{className:"warning-modal-body--list"},r.default.createElement("h4",null,__("Are you sure you want to remove the following conversion host?")),r.default.createElement("div",null,r.default.createElement("ul",null,r.default.createElement("h4",null,r.default.createElement("strong",null,t&&t.name)))))),r.default.createElement(o.Modal.Footer,null,r.default.createElement(o.Button,{bsStyle:"default",className:"btn-cancel",onClick:i},__("Cancel")),r.default.createElement(o.Button,{bsStyle:"primary",disabled:l,onClick:function(){n(a,t)}},__("Remove"))))};s.propTypes={conversionHostToDelete:a.default.object,deleteConversionHostAction:a.default.func,deleteConversionHostActionUrl:a.default.string,hideConversionHostDeleteModalAction:a.default.func,conversionHostDeleteModalVisible:a.default.bool,isDeletingConversionHost:a.default.bool},t.default=s},2055:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(0)),o=s(n(1)),i=n(6);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.task,n=e.setConversionHostTaskToRetryAction,o=e.showConversionHostRetryModalAction,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["task","setConversionHostTaskToRetryAction","showConversionHostRetryModalAction"]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.Button,r({id:"retry_"+t.id,onClick:function(e){e.stopPropagation(),n(t),o()}},s),__("Retry")))};l.propTypes={task:o.default.object,setConversionHostTaskToRetryAction:o.default.func,showConversionHostRetryModalAction:o.default.func},t.default=l},2056:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(0)),o=s(n(1)),i=n(6);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.host,n=e.setHostToDeleteAction,o=e.showConversionHostDeleteModalAction,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["host","setHostToDeleteAction","showConversionHostDeleteModalAction"]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.Button,r({id:"remove_"+t.id,onClick:function(e){e.stopPropagation(),n(t),o()}},s),__("Remove")))};l.propTypes={host:o.default.object,setHostToDeleteAction:o.default.func,showConversionHostDeleteModalAction:o.default.func},t.default=l},2057:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(0)),a=d(n(1)),o=d(n(38)),i=n(6),s=d(n(2056)),l=d(n(2055)),u=d(n(338)),c=n(484);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.listItem,n=e.isTask,a=e.setHostToDeleteAction,d=e.showConversionHostDeleteModalAction,f=e.setConversionHostTaskToRetryAction,p=e.showConversionHostRetryModalAction,m=e.isPostingConversionHosts,_=t;if(!n){var g=t.meta.tasksByOperation,v=g.enable,h=g.disable,y=function(e,t){return e.updated_on>t.updated_on?-1:e.updated_on<t.updated_on?1:0},T=v&&o.default.asMutable(v).sort(y)[0],E=h&&o.default.asMutable(h).sort(y)[0];_=T&&(!E||E.updated_on<T.updated_on)?T:E}var S=void 0,P=void 0;_&&_.status===c.ERROR?(S=r.default.createElement(i.ListView.Icon,{type:"pf",name:"error-circle-o"}),P=_.meta.operation===c.ENABLE?__("Configuration Failed"):__("Removal Failed")):_&&_.state!==c.FINISHED?(S=r.default.createElement(i.Spinner,{loading:!0,size:"sm",inline:!0}),P=_.meta.operation===c.ENABLE?__("Configuring..."):__("Removing...")):(S=r.default.createElement(i.ListView.Icon,{type:"pf",name:"ok"}),P=__("Configured"));var b=r.default.createElement(i.OverlayTrigger,{rootClose:!0,trigger:"click",placement:"top",overlay:r.default.createElement(i.Popover,{id:"task-info-popover",style:{width:400}},_?r.default.createElement(r.default.Fragment,null,r.default.createElement("strong",null,__("State:"))," ",_.state,r.default.createElement("br",null),r.default.createElement("strong",null,__("Message:"))," ",_.message):__("No configuration task information available"))},r.default.createElement(i.Button,{bsStyle:"link"},r.default.createElement(i.Icon,{type:"pf",name:"info"}))),A=void 0;if(n){var C=r.default.createElement(i.Button,{disabled:_.state!==c.FINISHED},__("Remove")),O=_.context_data&&_.context_data.request_params;A=r.default.createElement(r.default.Fragment,null,_.status===c.ERROR&&O&&r.default.createElement(l.default,{task:_,setConversionHostTaskToRetryAction:f,showConversionHostRetryModalAction:p,disabled:m}),_.state!==c.FINISHED&&C)}else A=r.default.createElement(s.default,{host:t,setHostToDeleteAction:a,showConversionHostDeleteModalAction:d,disabled:_&&_.meta.operation===c.DISABLE&&_.state!==c.FINISHED});_&&r.default.createElement(u.default,null,r.default.createElement(i.DropdownKebab,{id:"task-kebab-"+_.id,pullRight:!0},r.default.createElement(i.MenuItem,{disabled:_.state!==c.FINISHED},__("Download Log"))));return r.default.createElement(i.ListView.Item,{heading:t.name,additionalInfo:[r.default.createElement(i.ListView.InfoItem,{key:"task-status"},S,P,b)],stacked:!0,actions:r.default.createElement("div",{className:"conversion-hosts-list-actions"},A,!1)})};f.propTypes={listItem:a.default.object,isTask:a.default.bool,setHostToDeleteAction:a.default.func,showConversionHostDeleteModalAction:a.default.func,setConversionHostTaskToRetryAction:a.default.func,showConversionHostRetryModalAction:a.default.func,isPostingConversionHosts:a.default.bool},t.default=f},2058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(0)),a=c(n(1)),o=n(6),i=c(n(204)),s=c(n(2057)),l=c(n(2054)),u=c(n(2053));function c(e){return e&&e.__esModule?e:{default:e}}var d=function e(t){var n=t.combinedListItems,a=t.conversionHostToDelete,c=t.deleteConversionHostAction,d=t.deleteConversionHostActionUrl,f=t.hideConversionHostDeleteModalAction,p=t.setHostToDeleteAction,m=t.conversionHostDeleteModalVisible,_=t.showConversionHostDeleteModalAction,g=t.isDeletingConversionHost,v=t.conversionHostRetryModalMounted,h=t.isPostingConversionHosts,y=t.setConversionHostTaskToRetryAction,T=t.showConversionHostRetryModalAction,E=t.postConversionHostsUrl;return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.default,{filterTypes:e.filterTypes,sortFields:e.sortFields,listItems:n},function(e){var t=e.filteredSortedPaginatedListItems,n=e.renderFilterControls,a=e.renderSortControls,i=e.renderActiveFilters,l=e.renderPaginationRow;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Grid.Row,null,r.default.createElement(o.Toolbar,null,n(),a(),i(t))),r.default.createElement("div",{style:{overflow:"auto",paddingBottom:300,height:"100%"}},r.default.createElement(o.ListView,{className:"conversion-hosts-list",id:"conversion_hosts"},t.items.map(function(e){var t=e.meta.isTask,n="conversion-host-"+(t?"task-":"")+e.id;return r.default.createElement(s.default,{key:n,listItem:e,isTask:t,setHostToDeleteAction:p,showConversionHostDeleteModalAction:_,setConversionHostTaskToRetryAction:y,showConversionHostRetryModalAction:T,isPostingConversionHosts:h})})),l(t)))}),r.default.createElement(l.default,{conversionHostToDelete:a,deleteConversionHostAction:c,deleteConversionHostActionUrl:d,hideConversionHostDeleteModalAction:f,conversionHostDeleteModalVisible:m,isDeletingConversionHost:g}),v&&r.default.createElement(u.default,{postConversionHostsUrl:E}))};d.propTypes={combinedListItems:a.default.arrayOf(a.default.object),conversionHostToDelete:a.default.object,deleteConversionHostAction:a.default.func,deleteConversionHostActionUrl:a.default.string,hideConversionHostDeleteModalAction:a.default.func,setHostToDeleteAction:a.default.func,conversionHostDeleteModalVisible:a.default.bool,showConversionHostDeleteModalAction:a.default.func,isDeletingConversionHost:a.default.bool,conversionHostRetryModalMounted:a.default.bool,isPostingConversionHosts:a.default.bool,setConversionHostTaskToRetryAction:a.default.func,showConversionHostRetryModalAction:a.default.func,postConversionHostsUrl:a.default.string},d.sortFields=[{id:"name",title:__("Name"),isNumeric:!1}],d.filterTypes=[{id:"name",title:__("Name"),placeholder:__("Filter by Name"),filterType:"text"}],t.default=d},2059:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),o=i(n(123));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.showConversionHostWizardAction;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.default,{description:__("Select one or more hosts to be configured as IMS conversion hosts."),showWizardAction:t,buttonText:__("Configure Conversion Host"),buttonHref:"",className:"mappings"}))};s.propTypes={showConversionHostWizardAction:a.default.func},t.default=s},2060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(0)),o=f(n(1)),i=n(6),s=f(n(123)),l=f(n(2059)),u=f(n(2058)),c=f(n(2047)),d=n(202);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.pollingInterval=null,r.state={hasMadeInitialFetch:!1},r.hasSomeModalOpen=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.props;return e.conversionHostWizardMounted||e.conversionHostDeleteModalVisible},r.startPolling=function(){r.stopPolling(),r.fetchConversionHostsAndTasks().then(function(){r.setState({hasMadeInitialFetch:!0}),r.pollingInterval=setInterval(r.fetchConversionHostsAndTasks,15e3)})},r.stopPolling=function(){r.pollingInterval&&(clearInterval(r.pollingInterval),r.pollingInterval=null)},r.fetchConversionHostsAndTasks=function(){var e=r.props,t=e.fetchConversionHostsAction,n=e.fetchConversionHostsUrl,a=e.fetchConversionHostTasksAction,o=e.fetchConversionHostTasksUrl;return r.hasSomeModalOpen()?Promise.resolve():Promise.all([t(n),a(o)])},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchProvidersAction)(e.fetchProvidersUrl),this.startPolling()}},{key:"componentWillUnmount",value:function(){this.stopPolling()}},{key:"componentDidUpdate",value:function(e){this.pollingInterval&&this.hasSomeModalOpen(e)&&!this.hasSomeModalOpen()&&this.startPolling()}},{key:"render",value:function(){var e=this.props,t=e.isFetchingProviders,n=e.hasSufficientProviders,r=e.combinedListItems,o=e.setHostToDeleteAction,d=e.showConversionHostDeleteModalAction,f=e.conversionHostDeleteModalVisible,p=e.conversionHostToDelete,m=e.isDeletingConversionHost,_=e.showConversionHostWizardAction,g=e.conversionHostWizardMounted,v=e.hideConversionHostDeleteModalAction,h=e.deleteConversionHostAction,y=e.deleteConversionHostActionUrl,T=e.fetchConversionHostsAction,E=e.fetchConversionHostsUrl,S=e.conversionHostRetryModalMounted,P=e.isPostingConversionHosts,b=e.setConversionHostTaskToRetryAction,A=e.showConversionHostRetryModalAction,C=e.postConversionHostsUrl,O=this.state.hasMadeInitialFetch;return a.default.createElement(i.Spinner,{loading:t||!O,style:{marginTop:15}},n?a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"heading-with-link-container"},a.default.createElement("div",{className:"pull-left"},a.default.createElement("h3",null,__("Configured Conversion Hosts"))),a.default.createElement("div",{className:"pull-right"},a.default.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),_()}},a.default.createElement(i.Icon,{type:"pf",name:"add-circle-o"}),"",__("Configure Conversion Host")))),0===r.length?a.default.createElement(l.default,{showConversionHostWizardAction:_}):a.default.createElement(u.default,{combinedListItems:r,deleteConversionHostAction:h,deleteConversionHostActionUrl:y,fetchConversionHostsAction:T,fetchConversionHostsUrl:E,setHostToDeleteAction:o,showConversionHostDeleteModalAction:d,conversionHostDeleteModalVisible:f,conversionHostToDelete:p,isDeletingConversionHost:m,hideConversionHostDeleteModalAction:v,conversionHostRetryModalMounted:S,isPostingConversionHosts:P,setConversionHostTaskToRetryAction:b,showConversionHostRetryModalAction:A,postConversionHostsUrl:C}),g&&a.default.createElement(c.default,null)):a.default.createElement(s.default,{description:__("There are no providers available from which to configure a conversion host. You must configure a target provider before configuring conversion hosts."),buttonText:__("Configure Providers"),buttonHref:"/ems_infra/show_list",className:"full-page-empty"}))}}]),t}();m.propTypes={deleteConversionHostAction:o.default.func,deleteConversionHostActionUrl:o.default.string,fetchProvidersUrl:o.default.string,fetchProvidersAction:o.default.func,isFetchingProviders:o.default.bool,hasSufficientProviders:o.default.bool,fetchConversionHostsUrl:o.default.string,fetchConversionHostsAction:o.default.func,fetchConversionHostTasksAction:o.default.func,fetchConversionHostTasksUrl:o.default.string,combinedListItems:o.default.arrayOf(o.default.object),showConversionHostWizardAction:o.default.func,conversionHostWizardMounted:o.default.bool,setHostToDeleteAction:o.default.func,showConversionHostDeleteModalAction:o.default.func,conversionHostDeleteModalVisible:o.default.bool,conversionHostToDelete:o.default.object,isDeletingConversionHost:o.default.bool,hideConversionHostDeleteModalAction:o.default.func,conversionHostRetryModalMounted:o.default.bool,isPostingConversionHosts:o.default.bool,setConversionHostTaskToRetryAction:o.default.func,showConversionHostRetryModalAction:o.default.func,postConversionHostsUrl:o.default.string},m.defaultProps={deleteConversionHostActionUrl:"/api/conversion_hosts",fetchProvidersUrl:d.FETCH_V2V_PROVIDERS_URL,fetchConversionHostsUrl:"/api/conversion_hosts?attributes=resource&expand=resources",fetchConversionHostTasksUrl:'/api/tasks?expand=resources&attributes=id,name,state,status,message,started_on,updated_on,pct_complete&filter[]=name="%25Configuring a conversion_host%25"&sort_by=updated_on&sort_order=descending',postConversionHostsUrl:"/api/conversion_hosts"},t.default=m},2061:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=function(e){return e&&e.__esModule?e:{default:e}}(n(2060)),i=n(486),s=n(257),l=n(256);t.default=(0,a.connect)(function(e,t){var n=e.providers,a=n.isFetchingProviders,o=n.hasSufficientProviders,i=e.settings,s=i.conversionHosts,u=i.conversionHostTasks,c=i.conversionHostTasksByResource,d=i.conversionHostWizardMounted,f=i.conversionHostDeleteModalVisible,p=i.conversionHostToDelete,m=i.isDeletingConversionHost,_=i.conversionHostRetryModalMounted,g=i.isPostingConversionHosts;return r({isFetchingProviders:a,hasSufficientProviders:o,combinedListItems:(0,l.getCombinedConversionHostListItems)(s,u,c),conversionHostWizardMounted:d,conversionHostDeleteModalVisible:f,conversionHostToDelete:p,isDeletingConversionHost:m,conversionHostRetryModalMounted:_,isPostingConversionHosts:g},t.data)},{fetchProvidersAction:i.fetchProvidersAction,fetchConversionHostsAction:s.fetchConversionHostsAction,fetchConversionHostTasksAction:s.fetchConversionHostTasksAction,showConversionHostWizardAction:s.showConversionHostWizardAction,setHostToDeleteAction:s.setHostToDeleteAction,deleteConversionHostAction:s.deleteConversionHostAction,showConversionHostDeleteModalAction:s.showConversionHostDeleteModalAction,hideConversionHostDeleteModalAction:s.hideConversionHostDeleteModalAction,setConversionHostTaskToRetryAction:s.setConversionHostTaskToRetryAction,showConversionHostRetryModalAction:s.showConversionHostRetryModalAction},function(e,t,n){return r(e,n.data,t)})(o.default)},2063:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=i(n(0)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}n(2062);var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.id,n=e.input.onChange,r=e.min,a=$("#"+t);a.TouchSpin({buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",min:r}),a.on("change",function(e){n(e.target.value)})}},{key:"componentWillUnmount",value:function(){$("#"+this.props.id).off("change")}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.input,r=n.value,o=n.onChange;return a.default.createElement("input",{id:t,className:"bootstrap-touchspin",value:r,onChange:function(e){return o(e.target.value)}})}}]),t}();s.propTypes={id:o.default.string.isRequired,input:o.default.shape({value:o.default.oneOfType([o.default.number,o.default.string]),onChange:o.default.func}),min:o.default.number},s.defaultProps={min:0},s.normalizeStringToInt=function(e){return e&&parseInt(e.replace(/\D/g,""),10)||0},t.default=s},2064:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralSettings=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(0)),o=u(n(1)),i=n(37),s=n(6),l=u(n(2063));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d="settings",f=t.GeneralSettings=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onApplyClick=function(){var e=r.props;(0,e.patchSettingsAction)(e.servers,e.settingsForm.values)},r.enforceConstraintsOnChange=function(e,t,n,a){var o=r.props,i=o.settingsForm.values,s=i.max_concurrent_tasks_per_host,l=i.max_concurrent_tasks_per_ems,u=o.formChangeAction;"max_concurrent_tasks_per_host"===a&&t>l?u(d,"max_concurrent_tasks_per_ems",t):"max_concurrent_tasks_per_ems"===a&&t<s&&u(d,"max_concurrent_tasks_per_host",t)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchServersAction,n=e.fetchServersUrl,r=e.fetchSettingsAction,a=e.fetchSettingsUrl;t(n),r(a)}},{key:"render",value:function(){var e=this.props,t=e.isFetchingServers,n=e.isFetchingSettings,r=e.isSavingSettings,o=e.savedSettings,u=e.settingsForm,c=u&&u.values&&Object.keys(o).some(function(e){return o[e]!==u.values[e]});return a.default.createElement(s.Spinner,{loading:t||n,style:{marginTop:15}},a.default.createElement("div",{className:"migration-settings"},a.default.createElement(s.Form,{className:"form-horizontal",style:{padding:"0 20px"}},a.default.createElement("div",null,a.default.createElement("h3",null,__("Concurrent Migrations"))),a.default.createElement(s.Form.FormGroup,null,a.default.createElement(s.Form.ControlLabel,{className:"col-md-5"},a.default.createElement("span",{className:"pull-left"},__("Maximum concurrent migrations per conversion host"),a.default.createElement(s.OverlayTrigger,{overlay:a.default.createElement(s.Popover,{id:"maximum_concurrect_migrations_per_provider_popover"},__("For VDDK transformations the maximum concurrent migrations per conversion host is limited to 20. See the product documentation for more information.")),placement:"top",trigger:["hover"],delay:500,rootClose:!1},a.default.createElement(s.Icon,{type:"pf",name:"info",size:"md",style:{width:"inherit",backgroundColor:"transparent",padding:10}})))),a.default.createElement("div",{className:"col-md-2"},a.default.createElement(i.Field,{id:"max_concurrent_tasks_per_host",name:"max_concurrent_tasks_per_host",component:l.default,normalize:l.default.normalizeStringToInt,min:1,onChange:this.enforceConstraintsOnChange}))),a.default.createElement(s.Form.FormGroup,null,a.default.createElement(s.Form.ControlLabel,{className:"col-md-5"},a.default.createElement("div",{className:"pull-left"},__("Maximum concurrent migrations per provider"))),a.default.createElement("div",{className:"col-md-2"},a.default.createElement(i.Field,{id:"max_concurrent_tasks_per_ems",name:"max_concurrent_tasks_per_ems",component:l.default,normalize:l.default.normalizeStringToInt,min:1,onChange:this.enforceConstraintsOnChange}))),a.default.createElement(s.Form.FormGroup,{className:"col-md-1 pull-left",style:{marginTop:"40px"}},a.default.createElement(s.Button,{bsStyle:"primary",onClick:this.onApplyClick,disabled:!c||r},__("Apply")),r&&a.default.createElement("div",{style:{paddingTop:10}},a.default.createElement(s.Spinner,{loading:!0,size:"xs",inline:!0}),__(" Applying..."))))))}}]),t}();f.propTypes={fetchServersAction:o.default.func,fetchSettingsAction:o.default.func,patchSettingsAction:o.default.func,isFetchingServers:o.default.bool,isFetchingSettings:o.default.bool,isSavingSettings:o.default.bool,servers:o.default.array,savedSettings:o.default.object,settingsForm:o.default.object,fetchServersUrl:o.default.string,fetchSettingsUrl:o.default.string,formChangeAction:o.default.func},f.defaultProps={fetchServersUrl:"/api/servers",fetchSettingsUrl:"/api/settings"},t.default=(0,i.reduxForm)({form:d})(f)},2065:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=n(37),i=function(e){return e&&e.__esModule?e:{default:e}}(n(2064)),s=n(257);t.default=(0,a.connect)(function(e,t){var n=e.settings,a=e.form;return r({},n,t.data,{settingsForm:a.settings,initialValues:n.savedSettings,enableReinitialize:!0,destroyOnUnmount:!1})},{fetchServersAction:s.fetchServersAction,fetchSettingsAction:s.fetchSettingsAction,patchSettingsAction:s.patchSettingsAction,formChangeAction:o.change},function(e,t,n){return r(e,n.data,t)})(i.default)},2066:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),a=u(n(1)),o=n(6),i=u(n(354)),s=u(n(2065)),l=u(n(2061));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.match,n=e.redirectTo;return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.default,null,r.default.createElement(o.Breadcrumb.Item,{active:!0},__("Compute")),r.default.createElement(o.Breadcrumb.Item,{active:!0},__("Migration")),r.default.createElement(o.Breadcrumb.Item,{active:!0},r.default.createElement("strong",null,__("Migration Settings")))),r.default.createElement("div",{style:{marginTop:10}},r.default.createElement(o.Tabs,{id:"settings-tabs",activeKey:t.path,onSelect:function(e){return n(e)},unmountOnExit:!0},r.default.createElement(o.Tab,{eventKey:"/settings",title:__("Migration Throttling")},r.default.createElement(s.default,null)),r.default.createElement(o.Tab,{eventKey:"/settings/conversion_hosts",title:__("Conversion Hosts")},r.default.createElement(l.default,null)))))};c.propTypes={match:a.default.object,redirectTo:a.default.func},t.default=c},2067:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serviceTemplatePlaybookSchema=void 0;var r=n(101);t.serviceTemplatePlaybookSchema=(0,r.array)().of((0,r.object)().shape({href:(0,r.string)().required(),id:(0,r.string)().required(),name:(0,r.string)().required()})).nullable()},2068:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestsSchema=void 0;var r=n(101);t.requestsSchema=(0,r.array)().of((0,r.object)().shape({href:(0,r.string)().required(),id:(0,r.string)().required(),description:(0,r.string)().nullable(),approval_state:(0,r.string)().nullable(),created_on:(0,r.string)().required(),updated_on:(0,r.string)().nullable(),fulfilled_on:(0,r.string)().nullable(),request_state:(0,r.string)().nullable(),status:(0,r.string)(),options:(0,r.object)().shape({delivered_on:(0,r.string)()}).required(),miq_request_tasks:(0,r.array)().of((0,r.object)().shape({href:(0,r.string)().required(),id:(0,r.string)().required(),description:(0,r.string)().required(),state:(0,r.string)().required(),options:(0,r.object)().shape({src_id:(0,r.string)(),delivered_on:(0,r.string)().nullable()}).required(),created_on:(0,r.string)().required(),updated_on:(0,r.string)().nullable(),message:(0,r.string)().required(),status:(0,r.string)().required()})).nullable()})).nullable()},2069:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateServiceTemplatePlaybooks=t.validateOverviewMappings=t.validateOverviewRequests=t.validateOverviewPlans=void 0;var r=n(323),a=n(539),o=n(2068),i=n(804),s=n(2067);t.validateOverviewPlans=function(e){(0,r.validateSchema)(a.plansSchema,e)},t.validateOverviewRequests=function(e){(0,r.validateSchema)(o.requestsSchema,e)},t.validateOverviewMappings=function(e){(0,r.validateSchema)(i.mappingsSchema,e)},t.validateServiceTemplatePlaybooks=function(e){(0,r.validateSchema)(s.serviceTemplatePlaybookSchema,e)}},2070:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(2069),o=n(55),i=n(164),s=n(803);var l=t.initialState=(0,r.default)({planWizardVisible:!1,hidePlanWizard:!0,planWizardId:null,editingPlanId:null,editPlanNameModalVisible:!1,transformationMappings:[],isRejectedTransformationMappings:!1,isFetchingTransformationMappings:!1,transformationPlans:[],isRejectedTransformationPlans:!1,isFetchingTransformationPlans:!1,errorTransformationPlans:null,allRequestsWithTasks:[],isRejectedAllRequestsWithTasks:!1,isFetchingAllRequestsWithTasks:!1,errorAllRequestsWithTasks:null,requestsWithTasksPreviouslyFetched:!1,archivedTransformationPlans:[],isRejectedArchivedTransformationPlans:!1,isFetchingArchivedTransformationPlans:"",errorArchivedTransformationPlans:null,allArchivedPlanRequestsWithTasks:[],isRejectedAllArchivedPlanRequestsWithTasks:!1,isFetchingAllArchivedPlanRequestsWithTasks:!1,errorAllArchivedPlanRequestsWithTasks:null,createTransformationPlanRequestResponse:{},isRejectedCreateTranformationPlanRequest:!1,isCreatingTransformationPlanRequest:null,errorCreateTransformationPlanRequest:null,isContinuingToPlan:!1,migrationsFilter:o.MIGRATIONS_FILTERS.notStarted,showDeleteConfirmationModal:!1,confirmModalVisible:!1,confirmModalOptions:{},isArchivingTransformationPlan:!1,isRejectedArchivingTransformationPlan:!1,errorArchivingTransformationPlan:null,scheduleMigrationModal:!1,scheduleMigrationPlan:{},isSchedulingMigration:!1,isRejectedSchedulingMigration:!1,errorSchedulingMigration:!1,serviceTemplatePlaybooks:[],isFetchingServiceTemplatePlaybooks:!1,isRejectedServiceTemplatePlaybooks:!1,errorServiceTemplatePlaybooks:null,initialMigrationsFilterSet:!1,isEditingPlanRequest:!1,isRejectedEditingPlanRequest:!1,errorEditingPlanRequest:null,requestsProcessingCancellation:[],isCancellingPlanRequest:!1,isRejectedCancelPlanRequest:!1,errorCancelPlanRequest:null,cloudTenants:[],isFetchingCloudTenants:!1,isRejectedCloudTenants:!1,errorCloudTenants:null});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.SHOW_CONFIRM_MODAL:return e.set("confirmModalOptions",t.payload).set("confirmModalVisible",!0);case o.HIDE_CONFIRM_MODAL:return e.set("confirmModalVisible",!1);case o.SHOW_PLAN_WIZARD:var n=t.payload;return r.default.merge(e,{planWizardVisible:!0,hidePlanWizard:!1,planWizardId:n&&n.id||null});case o.SHOW_PLAN_WIZARD_EDIT_MODE:var u=t.editingPlanId;return r.default.merge(e,{planWizardVisible:!0,hidePlanWizard:!1,planWizardId:null,editingPlanId:u});case o.HIDE_PLAN_WIZARD:return e.set("hidePlanWizard",!0).set("planWizardId",null).set("editingPlanId",null);case o.SHOW_EDIT_PLAN_TITLE_MODAL:return e.set("editingPlanId",t.editingPlanId).set("editPlanNameModalVisible",!0);case o.HIDE_EDIT_PLAN_TITLE_MODAL:return e.set("editingPlanId",null).set("editPlanNameModalVisible",!1);case o.PLAN_WIZARD_EXITED:return e.set("planWizardVisible",!1);case o.FETCH_V2V_TRANSFORMATION_MAPPINGS+"_PENDING":return e.set("isFetchingTransformationMappings",!0);case o.FETCH_V2V_TRANSFORMATION_MAPPINGS+"_FULFILLED":return t.payload.data&&t.payload.data.resources?((0,a.validateOverviewMappings)(t.payload.data.resources),e.set("transformationMappings",t.payload.data.resources).set("isRejectedTransformationMappings",!1).set("isFetchingTransformationMappings",!1).set("isContinuingToPlan",!1)):e.set("transformationMappings",[]).set("isFetchingTransformationMappings",!1).set("isRejectedTransformationMappings",!1);case o.FETCH_V2V_TRANSFORMATION_MAPPINGS+"_REJECTED":return e.set("errorTransformationMappings",t.payload).set("isRejectedTransformationMappings",!0).set("isFetchingTransformationMappings",!1);case o.FETCH_V2V_TRANSFORMATION_PLANS+"_PENDING":return e.set("isFetchingTransformationPlans",!0);case o.FETCH_V2V_TRANSFORMATION_PLANS+"_FULFILLED":return(0,a.validateOverviewPlans)(t.payload.data.resources),e.set("transformationPlans",(0,s.planTransmutation)(t.payload.data.resources,e.transformationMappings)).set("isFetchingTransformationPlans",!1).set("isRejectedTransformationPlans",!1).set("errorTransformationPlans",null);case o.FETCH_V2V_TRANSFORMATION_PLANS+"_REJECTED":return e.set("errorTransformationPlans",t.payload).set("isRejectedTransformationPlans",!0).set("isFetchingTransformationPlans",!1);case o.FETCH_V2V_ARCHIVED_TRANSFORMATION_PLANS+"_PENDING":return e.set("isFetchingArchivedTransformationPlans","true").set("isRejectedArchivedTransformationPlans",!1);case o.FETCH_V2V_ARCHIVED_TRANSFORMATION_PLANS+"_FULFILLED":return(0,a.validateOverviewPlans)(t.payload.data.resources),e.set("archivedTransformationPlans",(0,s.planTransmutation)(t.payload.data.resources,e.transformationMappings)).set("isFetchingArchivedTransformationPlans","").set("isRejectedArchivedTransformationPlans",!1).set("errorArchivedTransformationPlans",null);case o.FETCH_V2V_ARCHIVED_TRANSFORMATION_PLANS+"_REJECTED":return e.set("errorArchivedTransformationPlans",t.payload).set("isRejectedArchivedTransformationPlans",!0).set("isFetchingArchivedTransformationPlans","");case o.FETCH_V2V_SERVICE_TEMPLATE_ANSIBLE_PLAYBOOKS+"_PENDING":return e.set("isFetchingServiceTemplatePlaybooks",!0);case o.FETCH_V2V_SERVICE_TEMPLATE_ANSIBLE_PLAYBOOKS+"_FULFILLED":return(0,a.validateServiceTemplatePlaybooks)(t.payload.data.resources),e.set("serviceTemplatePlaybooks",t.payload.data.resources).set("isFetchingServiceTemplatePlaybooks",!1).set("isRejectedServiceTemplatePlaybooks",!1).set("errorServiceTemplatePlaybooks",null);case o.FETCH_V2V_SERVICE_TEMPLATE_ANSIBLE_PLAYBOOKS+"_REJECTED":return e.set("errorServiceTemplatePlaybooks",t.payload).set("isRejectedServiceTemplatePlaybooks",!0).set("isFetchingServiceTemplatePlaybooks",!1);case o.FETCH_V2V_ALL_REQUESTS_WITH_TASKS+"_PENDING":return e.set("isFetchingAllRequestsWithTasks",!0);case o.FETCH_V2V_ALL_REQUESTS_WITH_TASKS+"_FULFILLED":return(0,a.validateOverviewRequests)(t.payload.data.results),e.set("allRequestsWithTasks",t.payload.data.results).set("isFetchingAllRequestsWithTasks",!1).set("isRejectedAllRequestsWithTasks",!1).set("errorAllRequestsWithTasks",null).set("requestsWithTasksPreviouslyFetched",!0).set("planId","").set("reloadCard",!1);case o.FETCH_V2V_ALL_REQUESTS_WITH_TASKS+"_REJECTED":return e.set("errorAllRequestsWithTasks",t.payload).set("isRejectedAllRequestsWithTasks",!0).set("isFetchingAllRequestsWithTasks",!1).set("requestsWithTasksPreviouslyFetched",!1);case o.FETCH_V2V_ALL_ARCHIVED_PLAN_REQUESTS_WITH_TASKS+"_PENDING":return e.set("isFetchingAllArchivedPlanRequestsWithTasks",!0).set("isRejectedAllArchivedPlanRequestsWithTasks",!1);case o.FETCH_V2V_ALL_ARCHIVED_PLAN_REQUESTS_WITH_TASKS+"_FULFILLED":return(0,a.validateOverviewRequests)(t.payload.data.results),e.set("allArchivedPlanRequestsWithTasks",t.payload.data.results).set("isFetchingAllArchivedPlanRequestsWithTasks",!1).set("isRejectedAllArchivedPlanRequestsWithTasks",!1).set("requestsWithTasksPreviouslyFetched",!0).set("errorAllArchivedPlanRequestsWithTasks",null);case o.FETCH_V2V_ALL_ARCHIVED_PLAN_REQUESTS_WITH_TASKS+"_REJECTED":return e.set("errorAllArchivedPlanRequestsWithTasks",t.payload).set("isRejectedAllArchivedPlanRequestsWithTasks",!0).set("isFetchingAllArchivedPlanRequestsWithTasks",!1);case o.CREATE_V2V_TRANSFORMATION_PLAN_REQUEST+"_PENDING":return e.set("isCreatingTransformationPlanRequest",t.payload);case o.CREATE_V2V_TRANSFORMATION_PLAN_REQUEST+"_FULFILLED":return e.set("createTransformationPlanRequestResponse",t.payload.data).set("isCreatingTransformationPlanRequest",null).set("isRejectedCreateTranformationPlanRequest",!1).set("errorCreateTransformationPlanRequest",null);case o.CREATE_V2V_TRANSFORMATION_PLAN_REQUEST+"_REJECTED":return e.set("errorCreateTransformationPlanRequest",t.payload).set("isRejectedCreateTranformationPlanRequest",!0).set("isCreatingTransformationPlanRequest",null);case o.CONTINUE_TO_PLAN:return e.set("isContinuingToPlan",!0).set("planWizardId",t.payload.id);case o.V2V_SET_MIGRATIONS_FILTER:return e.set("migrationsFilter",t.payload);case o.V2V_RETRY_MIGRATION:return e.set("planId",t.payload).set("reloadCard",!0);case o.ARCHIVE_TRANSFORMATION_PLAN+"_PENDING":return e.set("isArchivingTransformationPlan",!0).set("isRejectedArchivingTransformationPlan",!1);case o.ARCHIVE_TRANSFORMATION_PLAN+"_FULFILLED":return e.set("isArchivingTransformationPlan",!1).set("isRejectedArchivingTransformationPlan",!1).set("errorArchivingTransformationPlan",null);case o.ARCHIVE_TRANSFORMATION_PLAN+"_REJECTED":return e.set("isArchivingTransformationPlan",!1).set("errorArchivingTransformationPlan",t.payload).set("isRejectedArchivingTransformationPlan",!0);case o.V2V_TOGGLE_SCHEDULE_MIGRATION_MODAL:return void 0!==t.payload?e.set("scheduleMigrationPlan",t.payload.plan).set("scheduleMigrationModal",!e.scheduleMigrationModal):e.set("scheduleMigrationPlan",null).set("scheduleMigrationModal",!e.scheduleMigrationModal);case o.V2V_SCHEDULE_MIGRATION+"_PENDING":return e.set("isSchedulingMigration",!0).set("isRejectedSchedulingMigration",!1);case o.V2V_SCHEDULE_MIGRATION+"_FULFILLED":return e.set("isSchedulingMigration",!1).set("isRejectedSchedulingMigration",!1).set("errorSchedulingMigration",null).set("scheduleMigrationModal",!1);case o.V2V_SCHEDULE_MIGRATION+"_REJECTED":return e.set("isSchedulingMigration",!1).set("isRejectedSchedulingMigration",!0).set("errorSchedulingMigration",t.payload).set("scheduleMigrationModal",!1);case o.V2V_AUTO_SET_MIGRATIONS_FILTER:return e.set("initialMigrationsFilterSet",!0);case o.V2V_EDIT_PLAN_REQUEST+"_PENDING":return e.set("isEditingPlanRequest",!0).set("isRejectedEditingPlanRequest",!1).set("errorEditingPlanRequest",null);case o.V2V_EDIT_PLAN_REQUEST+"_FULFILLED":return e.set("isEditingPlanRequest",!1).set("isRejectedEditingPlanRequest",!1).set("errorEditingPlanRequest",null);case o.V2V_EDIT_PLAN_REQUEST+"_REJECTED":return e.set("isEditingPlanRequest",!1).set("isRejectedEditingPlanRequest",!0).set("errorEditingPlanRequest",t.payload);case o.V2V_CANCEL_PLAN_REQUEST+"_PENDING":return e.set("isCancellingPlanRequest",!0).set("isRejectedCancelPlanRequest",!1).set("requestsProcessingCancellation",[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.requestsProcessingCancellation),[t.payload]));case o.V2V_CANCEL_PLAN_REQUEST+"_FULFILLED":return e.set("isCancellingPlanRequest",!1).set("isRejectedCancelPlanRequest",!1).set("errorCancelPlanRequest",null);case o.V2V_CANCEL_PLAN_REQUEST+"_REJECTED":return e.set("requestsProcessingCancellation",e.requestsProcessingCancellation.filter(function(e){return t.meta.url!==e})).set("isCancellingPlanRequest",!1).set("isRejectedCancelPlanRequest",!0).set("errorCancelPlanRequest",t.payload);case i.FETCH_V2V_CLOUD_TENANTS+"_PENDING":return e.set("isFetchingCloudTenants",!0).set("isRejectedCloudTenants",!1);case i.FETCH_V2V_CLOUD_TENANTS+"_FULFILLED":return e.set("cloudTenants",t.payload.data.resources).set("isFetchingCloudTenants",!1).set("isRejectedCloudTenants",!1).set("errorCloudTenanta",null);case i.FETCH_V2V_CLOUD_TENANTS+"_REJECTED":return e.set("errorCloudTenants",t.payload).set("isRejectedCloudTenants",!0).set("isFetchingCloudTenants",!1);default:return e}}},2071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),a=n(805);var o=(0,r.default)({alertText:"",savingPlan:!1,savingPlanRejected:!1,savingPlanError:null});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.V2V_EDIT_PLAN_TITLE_SHOW_ALERT:return r.default.merge(e,t.payload);case a.V2V_EDIT_PLAN_TITLE_HIDE_ALERT:return e.set("alertText","");case a.V2V_POST_EDIT_PLAN_NAME+"_PENDING":return e.set("savingPlan",!0).set("savingPlanRejected",!1).set("savingPlanError",null);case a.V2V_POST_EDIT_PLAN_NAME+"_FULFILLED":return e.set("savingPlan",!1).set("savingPlanRejected",!1).set("savingPlanError",null);case a.V2V_POST_EDIT_PLAN_NAME+"_REJECTED":return e.set("savingPlan",!1).set("savingPlanRejected",!0).set("savingPlanError",t.payload);default:return e}}},2072:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editMigrationPlansAction=t.fetchTransformationPlansAction=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(258);Object.defineProperty(t,"fetchTransformationPlansAction",{enumerable:!0,get:function(){return a.fetchTransformationPlansAction}});var o=n(805),i=function(e){return e&&e.__esModule?e:{default:e}}(n(52));t.editMigrationPlansAction=function(e,t,n){return function(e,t,n){return function(a){var s={action:"edit",resource:r({},n)};return a({type:o.V2V_POST_EDIT_PLAN_NAME,payload:i.default.post(e+"/"+t,s)})}}(e,t,n)}},2254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(0)),o=f(n(1)),i=n(37),s=n(97),l=n(6),u=n(203),c=n(88),d=n(809);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.onSubmit=function(){var e=r.props,t=e.editPlanNameModal,n=e.editingPlan,a=e.editMigrationPlansAction,o=e.editMigrationPlansUrl,i=e.hideEditPlanNameModalAction,s=e.fetchTransformationPlansAction,l=e.fetchTransformationPlansUrl,u=e.fetchArchivedTransformationPlansUrl,c=t.values,d={name:c.name,description:c.description};a(o,n.id,d).then(function(){i(),s({url:l,archived:!1}),s({url:u,archived:!0})})},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.editPlanNameModalVisible,n=e.hideEditPlanNameModalAction,r=e.editPlanNameModal,o=e.savingPlan,d=o||!!r.syncErrors||!!r.asyncErrors,f=a.default.createElement(l.Form,{horizontal:!0},a.default.createElement(i.Field,{name:"name",label:__("Name"),required:!0,component:u.FormField,type:"text",help:c.validation.name.help,maxLength:c.validation.name.maxLength,maxLengthWarning:c.validation.name.maxLengthWarning,validate:[(0,s.required)({msg:c.validation.name.requiredMessage})]}),a.default.createElement(i.Field,{name:"description",label:__("Description"),component:u.FormField,type:"textarea",help:c.validation.description.help,maxLength:c.validation.description.maxLength,maxLengthWarning:c.validation.description.maxLengthWarning})),p=a.default.createElement("div",{style:{marginTop:15}},a.default.createElement(l.Spinner,{loading:!0,size:"lg"}),a.default.createElement("h2",{style:{textAlign:"center"}},__("Saving...")));return a.default.createElement(l.Modal,{show:t,onHide:n,backdrop:"static"},a.default.createElement(l.Modal.Header,null,a.default.createElement(l.Modal.CloseButton,{onClick:n}),a.default.createElement(l.Modal.Title,null,__("Edit Migration Plan"))),a.default.createElement(l.Modal.Body,null,o?p:f),a.default.createElement(l.Modal.Footer,null,a.default.createElement(l.Button,{bsStyle:"default",className:"btn-cancel",onClick:n},__("Cancel")),a.default.createElement(l.Button,{bsStyle:"primary",onClick:this.onSubmit,disabled:d},__("Save"))))}}]),t}();m.propTypes={editPlanNameModalVisible:o.default.bool,hideEditPlanNameModalAction:o.default.func,editPlanNameModal:o.default.object,editingPlan:o.default.object,editMigrationPlansAction:o.default.func,editMigrationPlansUrl:o.default.string,savingPlan:o.default.bool.isRequired,fetchTransformationPlansAction:o.default.func,fetchTransformationPlansUrl:o.default.string,fetchArchivedTransformationPlansUrl:o.default.string},m.defaultProps={editPlanNameModalVisible:!1,hideEditPlanNameModalAction:l.noop,editPlanNameModal:{},editMigrationPlansUrl:"/api/service_templates"},t.default=(0,i.reduxForm)({form:"editPlanNameModal",asyncValidate:d.asyncValidate,asyncBlurFields:["name"],onChange:d.onChange})(m)},2255:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=y(n(0)),o=y(n(1)),i=n(6),s=n(533),l=y(n(123)),u=y(n(173)),c=y(n(532)),d=y(n(204)),f=n(849),p=y(n(848)),m=y(n(850)),_=n(205),g=y(n(847)),v=y(n(338)),h=y(n(504));function y(e){return e&&e.__esModule?e:{default:e}}var T=function(e){var t=e.finishedTransformationPlans,n=e.allRequestsWithTasks,o=e.retryClick,y=e.loading,T=e.redirectTo,E=e.showConfirmModalAction,S=e.hideConfirmModalAction,P=e.archiveTransformationPlanAction,b=e.archiveTransformationPlanUrl,A=e.deleteTransformationPlanAction,C=e.deleteTransformationPlanUrl,O=e.fetchTransformationPlansAction,M=e.fetchTransformationPlansUrl,R=e.fetchArchivedTransformationPlansUrl,N=e.addNotificationAction,I=e.archived,V=e.toggleScheduleMigrationModal,w=e.scheduleMigrationModal,F=e.scheduleMigrationPlan,k=e.scheduleMigration,D=e.fetchTransformationMappingsAction,j=e.fetchTransformationMappingsUrl,L=e.showEditPlanNameModalAction;return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.Grid.Col,{xs:12},a.default.createElement(i.Spinner,{loading:!!y},t.length>0?a.default.createElement(d.default,{filterTypes:f.MIGRATIONS_FILTER_TYPES,sortFields:I?f.MIGRATIONS_ARCHIVED_SORT_FIELDS:f.MIGRATIONS_COMPLETED_SORT_FIELDS,defaultSortTypeIndex:I?0:1,listItems:t},function(e){var t=e.filteredSortedPaginatedListItems,l=e.renderFilterControls,d=e.renderSortControls,f=e.renderActiveFilters,m=e.renderPaginationRow;return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.Grid.Row,null,a.default.createElement(i.Toolbar,null,l(),d(),f(t))),a.default.createElement(i.ListView,{className:"plans-complete-list",style:{marginTop:10}},t.items.map(function(e){var t=(0,h.default)(e),l=t.migrationScheduled,d=t.staleMigrationSchedule,f=t.migrationStarting,m=t.showInitialScheduleButton,w=n.filter(function(t){return t.source_id===e.id}),F=w.length>0&&(0,u.default)(w),H=F&&"Error"===F.status,W=F&&"Denied"===F.status,U={};w.length>0?(0,c.default)(w,e.options.config_info.actions).forEach(function(e){U[e.source_id]="Ok"===e.status}):F&&F.miq_request_tasks.forEach(function(e){U[e.source_id]="Ok"===e.status});var x=0;Object.keys(U).forEach(function(e){U[e]&&(x+=1)});var G=(0,s.IsoElapsedTime)(new Date(F&&F.options.delivered_on),new Date(F&&F.fulfilled_on)),q=a.default.createElement(a.default.Fragment,null,a.default.createElement("p",null,__("Are you sure you want to archive migration plan "),a.default.createElement("strong",null,e.name),"?"),H&&a.default.createElement("p",null,__("This plan includes VMs that failed to migrate. If you archive the plan, you will not be able to retry the failed migrations."))),z={title:__("Archive Migration Plan"),body:q,icon:H&&a.default.createElement(i.Icon,{className:"confirm-warning-icon",type:"pf",name:"warning-triangle-o"}),confirmButtonLabel:__("Archive")},B=r({},z,{onConfirm:function(){E(r({},z,{disableCancelButton:!0,disableConfirmButton:!0})),P(b,e.id).then(function(){N({message:sprintf(__("%s successfully archived"),e.name),notificationType:"success"});var t=O({url:R,archived:!0}),n=O({url:M,archived:!1});return Promise.all([t,n])}).then(function(){S()})}}),K=!e.infraMappingName,Y=a.default.createElement(p.default,{showConfirmModalAction:E,hideConfirmModalAction:S,loading:y,toggleScheduleMigrationModal:V,scheduleMigration:k,fetchTransformationPlansAction:O,fetchTransformationPlansUrl:M,plan:e,isMissingMapping:K,migrationScheduled:l,migrationStarting:f,showInitialScheduleButton:m});return a.default.createElement(i.ListView.Item,{stacked:!0,className:"plans-complete-list__list-item",onClick:function(t){t.stopPropagation(),T("/plan/"+e.id)},key:e.id,leftContent:I?a.default.createElement(i.ListView.Icon,{type:"fa",name:"archive",size:"md",style:{width:"inherit",backgroundColor:"transparent",border:"none"}}):a.default.createElement(i.ListView.Icon,{type:"pf",name:H||W?"error-circle-o":"ok",size:"md",style:{width:"inherit",backgroundColor:"transparent"}}),heading:e.name,description:e.description,additionalInfo:[a.default.createElement(i.ListView.InfoItem,{key:e.id+"-migrated",style:{paddingRight:40}},a.default.createElement(i.ListView.Icon,{type:"pf",size:"lg",name:"screen"}),"",a.default.createElement("strong",null,x)," ",__("of")," ",a.default.createElement("strong",null,Object.keys(U).length," "),__("VMs successfully migrated.")),K&&a.default.createElement(i.ListView.InfoItem,{key:e.id+"-infraMappingWarning"},a.default.createElement(i.Icon,{type:"pf",name:"warning-triangle-o"})," ",__("Infrastucture mapping does not exist.")),!K&&a.default.createElement(i.ListView.InfoItem,{key:e.id+"-infraMappingName"},a.default.createElement("a",{href:"/migration#/mappings"},e.infraMappingName)),W?null:a.default.createElement(i.ListView.InfoItem,{key:e.id+"-elapsed"},a.default.createElement(i.ListView.Icon,{type:"fa",size:"lg",name:"clock-o"}),G),!l||d||f?null:a.default.createElement(i.ListView.InfoItem,{key:e.id+"-scheduledTime",style:{textAlign:"left"}},a.default.createElement(i.Icon,{type:"fa",name:"clock-o"}),__("Migration scheduled"),a.default.createElement("br",null),(0,_.formatDateTime)(l)),f&&a.default.createElement(i.ListView.InfoItem,{key:e.id+"-starting",style:{textAlign:"left"}},__("Migration in progress"))],actions:a.default.createElement("div",null,!I&&(H||W)&&a.default.createElement(a.default.Fragment,null,m&&Y,a.default.createElement(i.Button,{onClick:function(t){t.stopPropagation(),o(e.href,e.id)},disabled:K||y===e.href||f},__("Retry"))),a.default.createElement(v.default,null,a.default.createElement(i.DropdownKebab,{id:e.id+"-kebab",pullRight:!0},!I&&a.default.createElement(i.MenuItem,{onClick:function(e){e.stopPropagation(),E(B)}},__("Archive plan")),a.default.createElement(i.MenuItem,{onClick:function(t){t.stopPropagation(),L(e.id)}},__("Edit plan")),a.default.createElement(g.default,{showConfirmModalAction:E,hideConfirmModalAction:S,deleteTransformationPlanAction:A,deleteTransformationPlanUrl:C,addNotificationAction:N,fetchTransformationPlansAction:O,fetchTransformationPlansUrl:M,fetchArchivedTransformationPlansUrl:R,planId:e.id,planName:e.name,archived:I,fetchTransformationMappingsAction:D,fetchTransformationMappingsUrl:j}),!m&&Y)))})})),m(t))}):a.default.createElement(l.default,{title:I?__("No Archived Migration Plans"):__("No Completed Migration Plans"),iconType:"pf",iconName:"info",description:a.default.createElement("span",null,I?__("There are no exisitng migration plans in an Archived state."):__("There are no existing migration plans in a Completed state."))}))),a.default.createElement(m.default,{toggleScheduleMigrationModal:V,scheduleMigrationModal:w,scheduleMigrationPlan:F,scheduleMigration:k,fetchTransformationPlansAction:O,fetchTransformationPlansUrl:M}))};T.propTypes={finishedTransformationPlans:o.default.array,allRequestsWithTasks:o.default.array,retryClick:o.default.func,loading:o.default.string,redirectTo:o.default.func,showConfirmModalAction:o.default.func,hideConfirmModalAction:o.default.func,archived:o.default.bool,archiveTransformationPlanAction:o.default.func,archiveTransformationPlanUrl:o.default.string,deleteTransformationPlanAction:o.default.func,deleteTransformationPlanUrl:o.default.string,fetchTransformationPlansAction:o.default.func,fetchTransformationPlansUrl:o.default.string,fetchArchivedTransformationPlansUrl:o.default.string,addNotificationAction:o.default.func,toggleScheduleMigrationModal:o.default.func,scheduleMigrationModal:o.default.bool,scheduleMigrationPlan:o.default.object,scheduleMigration:o.default.func,fetchTransformationMappingsAction:o.default.func,fetchTransformationMappingsUrl:o.default.string,showEditPlanNameModalAction:o.default.func},T.defaultProps={finishedTransformationPlans:[],retryClick:i.noop,loading:""},t.default=T},2256:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=t-1||0,a=Math.ceil(e.length/n),o=r<a?r:0,i=o*n+n;return{amountOfPages:a,itemCount:e.length,itemsStart:o*n+1,itemsEnd:i>e.length?e.length:i,items:e.slice(o*n,i)}}},2257:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r));if(e&&a&&a.length){if(t)return a.sort(function(t,r){var a=t[e.id],o=r[e.id];return n?a-o:o-a});var o=void 0,i=void 0,s=void 0,l=void 0,u=/(\d+)|(\D+)/g,c=/\d+/;return a.sort(function(t,r){if(o=String(t[e.id]).toLowerCase().match(u),i=String(r[e.id]).toLowerCase().match(u),n){for(;o.length&&i.length;)if(s=o.shift(),l=i.shift(),c.test(s)||c.test(l)){if(!c.test(s))return 1;if(!c.test(l))return-1;if(s!==l)return s-l}else if(s!==l)return s>l?1:-1;return o.length-i.length}for(;o.length&&i.length;)if(s=o.shift(),l=i.shift(),c.test(s)||c.test(l)){if(!c.test(s))return-1;if(!c.test(l))return 1;if(s!==l)return l-s}else if(s!==l)return s>l?-1:1;return i.length-o.length})}return a}},2258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e&&e.length&&t&&t.length){var n=[];return t.forEach(function(t){var r=e.every(function(e){return(""+(t[e.field.id]||"")).indexOf(e.value)>-1});r&&n.push(t)}),n}return t}},2259:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(0)),o=n(6),i=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.handleChange,n=e.defaultDate,r=$("#dateTimePicker"),a=new Date(Date.now()+12e4),o=!!(n&&new Date(n)>a)&&new Date(n);r.datetimepicker({defaultDate:o,useCurrent:!o,allowInputToggle:!0,showTodayButton:!0,minDate:a,toolbarPlacement:"bottom",sideBySide:!0,icons:{today:"today-button-pf"}}),r.on("dp.change",function(e){t(e.date._d)});var i=r.data("DateTimePicker");t(i.date().toDate())}},{key:"render",value:function(){return a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col-xs-12"},a.default.createElement("div",{className:"form-group"},a.default.createElement("div",{id:"dateTimePicker",className:"input-group date-time-picker-pf"},a.default.createElement("input",{id:"dateTimeInput",type:"text",className:"form-control"}),a.default.createElement("span",{className:"input-group-addon"},a.default.createElement(o.Icon,{type:"fa",name:"calendar"}))))))}}]),t}();l.propTypes={handleChange:i.default.func,defaultDate:i.default.string},t.default=l},2411:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(0)),a=g(n(1)),o=n(6),i=g(n(531)),s=g(n(123)),l=g(n(850)),u=n(205),c=n(849),d=g(n(848)),f=g(n(338)),p=g(n(204)),m=g(n(847)),_=g(n(504));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){var t=e.migrateClick,n=e.notStartedPlans,a=e.loading,g=e.redirectTo,v=e.showConfirmModalAction,h=e.hideConfirmModalAction,y=e.addNotificationAction,T=e.toggleScheduleMigrationModal,E=e.scheduleMigrationModal,S=e.scheduleMigrationPlan,P=e.scheduleMigration,b=e.fetchTransformationPlansAction,A=e.fetchTransformationPlansUrl,C=e.deleteTransformationPlanAction,O=e.deleteTransformationPlanUrl,M=e.showPlanWizardEditModeAction,R=e.fetchTransformationMappingsAction,N=e.fetchTransformationMappingsUrl;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Grid.Col,{xs:12},r.default.createElement(o.Spinner,{loading:!!a},n.length>0?r.default.createElement(p.default,{filterTypes:c.MIGRATIONS_FILTER_TYPES,sortFields:c.MIGRATIONS_NOT_STARTED_SORT_FIELDS,listItems:n},function(e){var n=e.filteredSortedPaginatedListItems,s=e.renderFilterControls,l=e.renderSortControls,c=e.renderActiveFilters,p=e.renderPaginationRow;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Grid.Row,null,r.default.createElement(o.Toolbar,null,s(),l(),c(n))),r.default.createElement(o.ListView,{className:"plans-not-started-list",style:{marginTop:10}},n.items.map(function(e){var n=(0,_.default)(e),s=n.migrationScheduled,l=n.migrationStarting,c=n.showInitialScheduleButton,p=!e.infraMappingName,E=r.default.createElement(d.default,{showConfirmModalAction:v,hideConfirmModalAction:h,loading:a,toggleScheduleMigrationModal:T,scheduleMigration:P,fetchTransformationPlansAction:b,fetchTransformationPlansUrl:A,plan:e,isMissingMapping:p,migrationScheduled:s,migrationStarting:l,showInitialScheduleButton:c}),S=a===e.href;return r.default.createElement(o.ListView.Item,{stacked:!0,className:"plans-not-started-list__list-item",onClick:function(){g("/plan/"+e.id)},actions:r.default.createElement("div",null,c&&E,r.default.createElement(o.Button,{id:"migrate_"+e.id,onClick:function(n){n.stopPropagation(),t(e.href)},disabled:p||a===e.href||e.schedule_type||l},__("Migrate")),r.default.createElement(f.default,null,r.default.createElement(o.DropdownKebab,{id:e.id+"-kebab",pullRight:!0},r.default.createElement(o.MenuItem,{onClick:function(t){t.stopPropagation(),S||M(e.id)},disabled:S},__("Edit plan")),r.default.createElement(m.default,{showConfirmModalAction:v,hideConfirmModalAction:h,deleteTransformationPlanAction:C,deleteTransformationPlanUrl:O,addNotificationAction:y,fetchTransformationPlansAction:b,fetchTransformationPlansUrl:A,planId:e.id,planName:e.name,fetchTransformationMappingsAction:R,fetchTransformationMappingsUrl:N}),!c&&E))),leftContent:r.default.createElement("div",null),heading:e.name,description:r.default.createElement(i.default,{id:e.description},r.default.createElement(r.default.Fragment,null,e.description)),additionalInfo:[r.default.createElement(o.ListView.InfoItem,{key:e.id},r.default.createElement(o.Icon,{type:"pf",name:"virtual-machine"}),r.default.createElement("strong",null,e.options.config_info.actions.length)," ",__("VMs")),p&&r.default.createElement(o.ListView.InfoItem,{key:e.id+"-infraMappingWarning"},r.default.createElement(o.Icon,{type:"pf",name:"warning-triangle-o"})," ",__("Infrastucture mapping does not exist.")),!p&&r.default.createElement(o.ListView.InfoItem,{key:e.id+"-infraMappingName"},r.default.createElement("a",{href:"/migration#/mappings"},e.infraMappingName)),s&&!l?r.default.createElement(o.ListView.InfoItem,{key:e.id+"-scheduledTime",style:{textAlign:"left"}},r.default.createElement(o.Icon,{type:"fa",name:"clock-o"}),__("Migration scheduled"),r.default.createElement("br",null),(0,u.formatDateTime)(s)):null,l&&r.default.createElement(o.ListView.InfoItem,{key:e.id+"-starting",style:{textAlign:"left"}},__("Migration in progress"))],key:e.id})})),p(n))}):r.default.createElement(s.default,{title:__("No Migration Plans Not Started"),iconType:"pf",iconName:"info",description:r.default.createElement("span",null,__("There are no existing migration plans in a Not Started state."))}))),r.default.createElement(l.default,{toggleScheduleMigrationModal:T,scheduleMigrationModal:E,scheduleMigrationPlan:S,scheduleMigration:P,fetchTransformationPlansAction:b,fetchTransformationPlansUrl:A}))};v.propTypes={migrateClick:a.default.func,showConfirmModalAction:a.default.func,hideConfirmModalAction:a.default.func,addNotificationAction:a.default.func,notStartedPlans:a.default.array,loading:a.default.string,redirectTo:a.default.func,toggleScheduleMigrationModal:a.default.func,scheduleMigrationModal:a.default.bool,scheduleMigrationPlan:a.default.object,scheduleMigration:a.default.func,fetchTransformationPlansAction:a.default.func,fetchTransformationPlansUrl:a.default.string,deleteTransformationPlanAction:a.default.func,deleteTransformationPlanUrl:a.default.string,showPlanWizardEditModeAction:a.default.func,fetchTransformationMappingsAction:a.default.func,fetchTransformationMappingsUrl:a.default.string},v.defaultProps={migrateClick:o.noop,notStartedPlans:[],loading:""},t.default=v},2412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),o=n(6);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.onButtonClick,n=e.disabled,a=e.buttonText;return r.default.createElement(o.Card.Footer,{style:{position:"relative",top:"-2px"}},r.default.createElement(o.Button,{style:{position:"relative",top:"-5px"},onClick:t,disabled:n},a))};s.propTypes={onButtonClick:a.default.func,disabled:a.default.bool,buttonText:a.default.string},t.default=s},2413:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),o=n(6);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.iconType,n=e.iconName,a=e.emptyStateInfo,i=e.emptyStateInfoStyles,s=e.showSpinner,l=e.spinnerStyles;return r.default.createElement(o.EmptyState,null,s&&r.default.createElement(o.Spinner,{loading:!0,size:"lg",style:l}),t&&n&&r.default.createElement(o.EmptyState.Icon,{type:t,name:n}),a&&r.default.createElement(o.EmptyState.Info,{style:i},a))};s.propTypes={emptyStateInfo:a.default.node,emptyStateInfoStyles:a.default.object,iconName:a.default.string,iconType:a.default.string,showSpinner:a.default.bool,spinnerStyles:a.default.object},t.default=s},2414:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=__("Unknown");if(t){var r=e.find(function(e){return e.id===t});if(r)return r.name}return n}},2415:function(e,t,n){var r={"./af":1022,"./af.js":1022,"./ar":1021,"./ar-dz":1020,"./ar-dz.js":1020,"./ar-kw":1019,"./ar-kw.js":1019,"./ar-ly":1018,"./ar-ly.js":1018,"./ar-ma":1017,"./ar-ma.js":1017,"./ar-sa":1016,"./ar-sa.js":1016,"./ar-tn":1015,"./ar-tn.js":1015,"./ar.js":1021,"./az":1014,"./az.js":1014,"./be":1013,"./be.js":1013,"./bg":1012,"./bg.js":1012,"./bm":1011,"./bm.js":1011,"./bn":1010,"./bn.js":1010,"./bo":1009,"./bo.js":1009,"./br":1008,"./br.js":1008,"./bs":1007,"./bs.js":1007,"./ca":1006,"./ca.js":1006,"./cs":1005,"./cs.js":1005,"./cv":1004,"./cv.js":1004,"./cy":1003,"./cy.js":1003,"./da":1002,"./da.js":1002,"./de":1001,"./de-at":1e3,"./de-at.js":1e3,"./de-ch":999,"./de-ch.js":999,"./de.js":1001,"./dv":998,"./dv.js":998,"./el":997,"./el.js":997,"./en-au":996,"./en-au.js":996,"./en-ca":995,"./en-ca.js":995,"./en-gb":994,"./en-gb.js":994,"./en-ie":993,"./en-ie.js":993,"./en-il":992,"./en-il.js":992,"./en-nz":991,"./en-nz.js":991,"./eo":990,"./eo.js":990,"./es":989,"./es-do":988,"./es-do.js":988,"./es-us":987,"./es-us.js":987,"./es.js":989,"./et":986,"./et.js":986,"./eu":985,"./eu.js":985,"./fa":984,"./fa.js":984,"./fi":983,"./fi.js":983,"./fo":982,"./fo.js":982,"./fr":981,"./fr-ca":980,"./fr-ca.js":980,"./fr-ch":979,"./fr-ch.js":979,"./fr.js":981,"./fy":978,"./fy.js":978,"./gd":977,"./gd.js":977,"./gl":976,"./gl.js":976,"./gom-latn":975,"./gom-latn.js":975,"./gu":974,"./gu.js":974,"./he":973,"./he.js":973,"./hi":972,"./hi.js":972,"./hr":971,"./hr.js":971,"./hu":970,"./hu.js":970,"./hy-am":969,"./hy-am.js":969,"./id":968,"./id.js":968,"./is":967,"./is.js":967,"./it":966,"./it.js":966,"./ja":965,"./ja.js":965,"./jv":964,"./jv.js":964,"./ka":963,"./ka.js":963,"./kk":962,"./kk.js":962,"./km":961,"./km.js":961,"./kn":960,"./kn.js":960,"./ko":959,"./ko.js":959,"./ky":958,"./ky.js":958,"./lb":957,"./lb.js":957,"./lo":956,"./lo.js":956,"./lt":955,"./lt.js":955,"./lv":954,"./lv.js":954,"./me":953,"./me.js":953,"./mi":952,"./mi.js":952,"./mk":951,"./mk.js":951,"./ml":950,"./ml.js":950,"./mn":949,"./mn.js":949,"./mr":948,"./mr.js":948,"./ms":947,"./ms-my":946,"./ms-my.js":946,"./ms.js":947,"./mt":945,"./mt.js":945,"./my":944,"./my.js":944,"./nb":943,"./nb.js":943,"./ne":942,"./ne.js":942,"./nl":941,"./nl-be":940,"./nl-be.js":940,"./nl.js":941,"./nn":939,"./nn.js":939,"./pa-in":938,"./pa-in.js":938,"./pl":937,"./pl.js":937,"./pt":936,"./pt-br":935,"./pt-br.js":935,"./pt.js":936,"./ro":934,"./ro.js":934,"./ru":933,"./ru.js":933,"./sd":932,"./sd.js":932,"./se":931,"./se.js":931,"./si":930,"./si.js":930,"./sk":929,"./sk.js":929,"./sl":928,"./sl.js":928,"./sq":927,"./sq.js":927,"./sr":926,"./sr-cyrl":925,"./sr-cyrl.js":925,"./sr.js":926,"./ss":924,"./ss.js":924,"./sv":923,"./sv.js":923,"./sw":922,"./sw.js":922,"./ta":921,"./ta.js":921,"./te":920,"./te.js":920,"./tet":919,"./tet.js":919,"./tg":918,"./tg.js":918,"./th":917,"./th.js":917,"./tl-ph":916,"./tl-ph.js":916,"./tlh":915,"./tlh.js":915,"./tr":914,"./tr.js":914,"./tzl":913,"./tzl.js":913,"./tzm":912,"./tzm-latn":911,"./tzm-latn.js":911,"./tzm.js":912,"./ug-cn":910,"./ug-cn.js":910,"./uk":909,"./uk.js":909,"./ur":908,"./ur.js":908,"./uz":907,"./uz-latn":906,"./uz-latn.js":906,"./uz.js":907,"./vi":905,"./vi.js":905,"./x-pseudo":904,"./x-pseudo.js":904,"./yo":903,"./yo.js":903,"./zh-cn":902,"./zh-cn.js":902,"./zh-hk":901,"./zh-hk.js":901,"./zh-tw":900,"./zh-tw.js":900};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=2415},2416:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(1)),o=n(6),i=s(n(1024));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.plan,n=e.failedOverlay,a=e.handleClick,o=e.children;return r.default.createElement(i.default,{onClick:function(e){e.target.classList.contains("pficon-error-circle-o")||a("/plan/"+t.id)},className:"in-progress",title:r.default.createElement("h3",{className:"card-pf-title"},n,t.name)},o)};l.propTypes={plan:a.default.object,failedOverlay:a.default.node,handleClick:a.default.func,children:a.default.node},l.defaultProps={plan:{},failedOverlay:null,handleClick:o.noop,children:null},t.default=l},2417:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=T(n(0)),a=T(n(1)),o=T(n(534)),i=n(6),s=T(n(1024)),l=T(n(2416)),u=T(n(1023)),c=T(n(173)),d=T(n(532)),f=T(n(2414)),p=n(539),m=n(55),_=T(n(2413)),g=T(n(2412)),v=n(898),h=n(352),y=n(41);function T(e){return e&&e.__esModule?e:{default:e}}var E=function(e){var t=e.plan,n=e.serviceTemplatePlaybooks,a=e.allRequestsWithTasks,T=e.reloadCard,E=e.handleClick,S=e.fetchTransformationPlansAction,P=e.fetchTransformationPlansUrl,b=e.isFetchingTransformationPlans,A=e.isFetchingAllRequestsWithTasks,C=e.acknowledgeDeniedPlanRequestAction,O=e.isEditingPlanRequest,M=e.setMigrationsFilterAction,R=e.cancelPlanRequestAction,N=e.isCancellingPlanRequest,I=e.requestsProcessingCancellation,V=a.filter(function(e){return e.source_id===t.id}),w=V.length>0&&(0,c.default)(V),F=w&&"approved"===w.approval_state&&w.miq_request_tasks.length>0&&w.miq_request_tasks.every(function(e){return!e.conversion_host_id});if(T||!w||"pending"===w.request_state)return r.default.createElement(s.default,{title:r.default.createElement("h3",{className:"card-pf-title"},t.name)},r.default.createElement(_.default,{emptyStateInfo:__("Initiating migration. This might take a few minutes."),showSpinner:!0,spinnerStyles:{marginBottom:"15px"}}));if(F){var k=I.includes((0,v.urlBuilder)(m.TRANSFORMATION_PLAN_REQUESTS_URL,w.id)),D=(0,h.getMappingType)(t.transformation_mapping.transformation_mapping_items)===y.OPENSTACK&&t.targetProvider&&!t.targetProvider.hasRsaKey?"noRsaKey":"notAvailable";return r.default.createElement(s.default,{title:r.default.createElement("h3",{className:"card-pf-title"},t.name),footer:r.default.createElement(g.default,{disabled:k&&(b||A||N||!!w.cancelation_status),buttonText:__("Cancel Migration"),onButtonClick:function(){R(m.TRANSFORMATION_PLAN_REQUESTS_URL,w.id).then(function(){return S({url:P,archived:!1})})}})},r.default.createElement(_.default,{showSpinner:!0,emptyStateInfo:m.WAITING_FOR_CONVERSION_HOST_MESSAGES[D],emptyStateInfoStyles:{marginTop:10}}))}if("denied"===w.approval_state){return r.default.createElement(s.default,{title:r.default.createElement("h3",{className:"card-pf-title"},t.name),footer:r.default.createElement(g.default,{disabled:O,buttonText:__("Cancel Migration"),onButtonClick:function(){return C({plansUrl:P,planRequest:w}).then(function(){return M(m.MIGRATIONS_FILTERS.completed)})}})},r.default.createElement(_.default,{iconType:"pf",iconName:"error-circle-o",emptyStateInfo:r.default.createElement(r.default.Fragment,null,__("Unable to migrate VMs because no conversion host was configured at the time of the attempted migration.")," ",__("See the product documentation for information on configuring conversion hosts.")),emptyStateInfoStyles:{marginTop:10}}))}var j=!1,L=0;w.miq_request_tasks.forEach(function(e){"Error"===e.status&&(j=!0,L+=1)});var H={},W={};V.length>0?W=(0,d.default)(V,t.options.config_info.actions):w&&(W=w.miq_request_tasks),W.forEach(function(e){H[e.source_id]=H[e.source_id]||{},H[e.source_id].completed="Ok"===e.status&&"finished"===e.state,H[e.source_id].virtv2v_disks=e.options.virtv2v_disks,H[e.source_id].playbooks=e.options.playbooks});var U=0,x=Object.keys(H).length,G=null,q=null;Object.keys(H).forEach(function(e){H[e].completed&&(U+=1);var t=H[e].playbooks;t&&(!t.pre||t.pre.job_state!==p.PLAN_JOB_STATES.PENDING&&t.pre.job_state!==p.PLAN_JOB_STATES.ACTIVE||(G=H[e]),!t.post||t.post.job_state!==p.PLAN_JOB_STATES.PENDING&&t.post.job_state!==p.PLAN_JOB_STATES.ACTIVE||(q=H[e]))});var z=null;if(j&&(z=r.default.createElement(i.OverlayTrigger,{overlay:r.default.createElement(i.Popover,{id:"description_"+t.id,title:sprintf("%s",t.name)},r.default.createElement(i.Icon,{type:"pf",name:"error-circle-o",size:"sm",style:{width:"inherit",backgroundColor:"transparent",paddingRight:5}}),sprintf(__("%s of %s VM migrations failed."),L,x)),placement:"top",trigger:["hover"],delay:500,rootClose:!1},r.default.createElement(i.Icon,{type:"pf",name:"error-circle-o",size:"md",style:{width:"inherit",backgroundColor:"transparent",paddingRight:10}}))),G){var B=(0,f.default)(n,t.options.config_info.pre_service_id);return r.default.createElement(l.default,{plan:t,failedOverlay:z,handleClick:E},r.default.createElement(_.default,{emptyStateInfo:sprintf(__("Running playbook service %s. This might take a few minutes."),B),showSpinner:!0,spinnerStyles:{marginBottom:"15px"}}))}var K=0,Y=0;Object.keys(H).forEach(function(e){var t=H[e].virtv2v_disks;if(t&&t.length){var n=t.reduce(function(e,t){return e+t.size},0),r=t.reduce(function(e,t){return e+t.percent},0)/(100*t.length);K+=n,Y+=r*n}});var Q=(0,o.default)(K).format("0.00b"),Z=(0,o.default)(Y).format("0.00b");if(Z>=Q&&q){var J=(0,f.default)(n,t.options.config_info.post_service_id);return r.default.createElement(l.default,{plan:t,failedOverlay:z,handleClick:E},r.default.createElement(_.default,{emptyStateInfo:sprintf(__("Running playbook service %s. This might take a few minutes."),J),showSpinner:!0,spinnerStyles:{marginBottom:"15px"}}))}var X=r.default.createElement(u.default,{startTime:w.created_on}),$=r.default.createElement("span",null,r.default.createElement("strong",{id:"vms-migrated",className:"label-strong"},sprintf(__("%s of %s VMs"),U,x))," ",__("migrated")),ee=r.default.createElement("span",null,r.default.createElement("strong",{id:"size-migrated",className:"label-strong"},sprintf(__("%s of %s"),Z,Q))," ",__("migrated")),te=function(e,t,n){return t>0?r.default.createElement(i.Tooltip,{id:e},sprintf(__("%s%% Remaining"),Math.round((t-n)/t*100))):r.default.createElement(i.Tooltip,{id:e},__("No Data"))},ne=function(e,t,n){return t>0?r.default.createElement(i.Tooltip,{id:e},sprintf(__("%s%% Complete"),Math.round(n/t*100))):r.default.createElement(i.Tooltip,{id:e},__("No Data"))};return r.default.createElement(l.default,{plan:t,failedOverlay:z,handleClick:E},r.default.createElement("div",{id:"datastore-progress-bar-"+t.id},r.default.createElement(i.UtilizationBar,{now:Y,max:K,description:__("Datastores"),label:ee,descriptionPlacementTop:!0,availableTooltipFunction:function(){return te("migrated-disk-"+t.id,K,Y)},usedTooltipFunction:function(){return ne("total-disk-"+t.id,K,Y)}})),r.default.createElement("div",{id:"vm-progress-bar-"+t.id},r.default.createElement(i.UtilizationBar,{now:U,max:x,description:__("VMs"),label:$,descriptionPlacementTop:!0,availableTooltipFunction:function(){return te("available-vm-"+t.id,x,U)},usedTooltipFunction:function(){return ne("used-vm-"+t.id,x,U)}})),r.default.createElement("div",{className:"active-migration-elapsed-time"},r.default.createElement(i.Icon,{type:"fa",name:"clock-o"}),X))};E.propTypes={plan:a.default.object.isRequired,serviceTemplatePlaybooks:a.default.array,allRequestsWithTasks:a.default.array,reloadCard:a.default.bool,handleClick:a.default.func,fetchTransformationPlansAction:a.default.func,fetchTransformationPlansUrl:a.default.string,isFetchingTransformationPlans:a.default.bool,isFetchingAllRequestsWithTasks:a.default.bool,acknowledgeDeniedPlanRequestAction:a.default.func,isEditingPlanRequest:a.default.bool,setMigrationsFilterAction:a.default.func,cancelPlanRequestAction:a.default.func,isCancellingPlanRequest:a.default.bool,requestsProcessingCancellation:a.default.array},t.default=E},2418:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(0)),a=l(n(1)),o=n(6),i=l(n(123)),s=l(n(2417));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.activeTransformationPlans,n=e.serviceTemplatePlaybooks,a=e.allRequestsWithTasks,l=e.reloadCard,u=e.loading,c=e.redirectTo,d=e.fetchTransformationPlansAction,f=e.fetchTransformationPlansUrl,p=e.isFetchingTransformationPlans,m=e.isFetchingAllRequestsWithTasks,_=e.acknowledgeDeniedPlanRequestAction,g=e.isEditingPlanRequest,v=e.setMigrationsFilterAction,h=e.cancelPlanRequestAction,y=e.isCancellingPlanRequest,T=e.requestsProcessingCancellation;return r.default.createElement("div",{className:"row-cards-pf"},r.default.createElement(o.Grid.Row,null,r.default.createElement(o.Grid.Col,{xs:12,style:t.length>0&&a.length>0?{marginTop:"20px"}:{}},r.default.createElement(o.Card.HeightMatching,{selector:[".card-pf-match-height"]},r.default.createElement(o.Spinner,{loading:u},t.length>0&&a.length>0?t.map(function(e){return r.default.createElement(s.default,{plan:e,serviceTemplatePlaybooks:n,allRequestsWithTasks:a,reloadCard:l,key:e.id,handleClick:c,fetchTransformationPlansAction:d,fetchTransformationPlansUrl:f,isFetchingTransformationPlans:p,isFetchingAllRequestsWithTasks:m,acknowledgeDeniedPlanRequestAction:_,isEditingPlanRequest:g,setMigrationsFilterAction:v,cancelPlanRequestAction:h,isCancellingPlanRequest:y,requestsProcessingCancellation:T})}):r.default.createElement(i.default,{title:__("No Migration Plans In Progress"),iconType:"pf",iconName:"info",description:r.default.createElement("span",null,__("There are no existing migration plans in an In Progress state."))}))))))};u.propTypes={activeTransformationPlans:a.default.array,serviceTemplatePlaybooks:a.default.array,allRequestsWithTasks:a.default.array,reloadCard:a.default.bool,loading:a.default.bool,redirectTo:a.default.func,fetchTransformationPlansAction:a.default.func,fetchTransformationPlansUrl:a.default.string,isFetchingTransformationPlans:a.default.bool,isFetchingAllRequestsWithTasks:a.default.bool,acknowledgeDeniedPlanRequestAction:a.default.func,isEditingPlanRequest:a.default.bool,setMigrationsFilterAction:a.default.func,cancelPlanRequestAction:a.default.func,isCancellingPlanRequest:a.default.bool,requestsProcessingCancellation:a.default.array},u.defaultProps={activeTransformationPlans:[],serviceTemplatePlaybooks:[],loading:!1},t.default=u},2419:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(0)),o=p(n(1)),i=p(n(38)),s=n(6),l=p(n(2418)),u=p(n(2411)),c=p(n(2255)),d=p(n(123)),f=n(55);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.componentDidMount=function(){var e=r.props,t=e.activeTransformationPlans,n=e.archivedTransformationPlans,a=e.finishedTransformationPlans,o=e.initialMigrationsFilterSet,i=e.notStartedPlans,s=e.setMigrationsFilterAction;o||s(f.MIGRATIONS_FILTERS[(t.length?"inProgress":i.length&&"notStarted")||a.length&&"completed"||n.length&&"archived"],function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},f.V2V_AUTO_SET_MIGRATIONS_FILTER,!0))},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.activeFilter,n=e.transformationPlans,r=e.allRequestsWithTasks,o=e.reloadCard,p=e.notStartedPlans,m=e.activeTransformationPlans,_=e.serviceTemplatePlaybooks,g=e.createMigrationPlanClick,v=e.createTransformationPlanRequestClick,h=e.isCreatingTransformationPlanRequest,y=e.finishedTransformationPlans,T=e.redirectTo,E=e.showConfirmModalAction,S=e.hideConfirmModalAction,P=e.fetchTransformationPlansAction,b=e.fetchTransformationPlansUrl,A=e.fetchArchivedTransformationPlansUrl,C=e.isFetchingArchivedTransformationPlans,O=e.isFetchingTransformationPlans,M=e.isFetchingAllRequestsWithTasks,R=e.archivedTransformationPlans,N=e.allArchivedPlanRequestsWithTasks,I=e.archiveTransformationPlanAction,V=e.archiveTransformationPlanUrl,w=e.deleteTransformationPlanAction,F=e.deleteTransformationPlanUrl,k=e.addNotificationAction,D=e.toggleScheduleMigrationModal,j=e.scheduleMigrationModal,L=e.scheduleMigrationPlan,H=e.scheduleMigration,W=e.showPlanWizardEditModeAction,U=e.fetchTransformationMappingsUrl,x=e.fetchTransformationMappingsAction,G=e.showEditPlanNameModalAction,q=e.acknowledgeDeniedPlanRequestAction,z=e.isEditingPlanRequest,B=e.setMigrationsFilterAction,K=e.cancelPlanRequestAction,Y=e.isCancellingPlanRequest,Q=e.requestsProcessingCancellation,Z=n.length>0||R.length>0;return a.default.createElement(a.default.Fragment,null,a.default.createElement(s.Grid.Col,{xs:12,style:{backgroundColor:"#fff"}},a.default.createElement("div",{className:"heading-with-link-container"},a.default.createElement("div",{className:"pull-left"},a.default.createElement("h3",null,t)),a.default.createElement("div",{className:"pull-right"},a.default.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),g()}},a.default.createElement(s.Icon,{type:"pf",name:"add-circle-o"}),"",__("Create Migration Plan")))),a.default.createElement("hr",{style:{borderTopColor:"#d1d1d1",marginBottom:0,marginLeft:"-20px",marginRight:"-20px"}}),!Z&&a.default.createElement("div",{style:{marginLeft:"-20px",marginRight:"-20px",marginBottom:"-20px"}},a.default.createElement(d.default,{showWizardAction:function(){return g()},description:__("Create a migration plan to select VMs for migration."),buttonText:__("Create Migration Plan")}))),Z&&a.default.createElement("div",{className:"migrations"},t===f.MIGRATIONS_FILTERS.notStarted&&a.default.createElement(u.default,{notStartedPlans:i.default.asMutable(p,{deep:!0}),migrateClick:v,loading:h,redirectTo:T,showConfirmModalAction:E,hideConfirmModalAction:S,addNotificationAction:k,toggleScheduleMigrationModal:D,scheduleMigrationModal:j,scheduleMigrationPlan:L,scheduleMigration:H,fetchTransformationPlansAction:P,fetchTransformationPlansUrl:b,deleteTransformationPlanAction:w,deleteTransformationPlanUrl:F,showPlanWizardEditModeAction:W,fetchTransformationMappingsAction:x,fetchTransformationMappingsUrl:U}),t===f.MIGRATIONS_FILTERS.inProgress&&a.default.createElement(l.default,{activeTransformationPlans:m,serviceTemplatePlaybooks:_,allRequestsWithTasks:r,reloadCard:o,loading:null!==h,redirectTo:T,fetchTransformationPlansAction:P,fetchTransformationPlansUrl:b,isFetchingTransformationPlans:O,isFetchingAllRequestsWithTasks:M,acknowledgeDeniedPlanRequestAction:q,isEditingPlanRequest:z,setMigrationsFilterAction:B,cancelPlanRequestAction:K,isCancellingPlanRequest:Y,requestsProcessingCancellation:Q}),t===f.MIGRATIONS_FILTERS.completed&&a.default.createElement(c.default,{finishedTransformationPlans:i.default.asMutable(y,{deep:!0}),allRequestsWithTasks:r,retryClick:v,loading:h,redirectTo:T,showConfirmModalAction:E,hideConfirmModalAction:S,archiveTransformationPlanAction:I,archiveTransformationPlanUrl:V,deleteTransformationPlanAction:w,deleteTransformationPlanUrl:F,fetchTransformationPlansAction:P,fetchTransformationPlansUrl:b,fetchArchivedTransformationPlansUrl:A,addNotificationAction:k,toggleScheduleMigrationModal:D,scheduleMigrationModal:j,scheduleMigrationPlan:L,scheduleMigration:H,fetchTransformationMappingsAction:x,fetchTransformationMappingsUrl:U,showEditPlanNameModalAction:G}),t===f.MIGRATIONS_FILTERS.archived&&a.default.createElement(c.default,{finishedTransformationPlans:i.default.asMutable(R,{deep:!0}),allRequestsWithTasks:N,redirectTo:T,loading:C,archived:!0,showConfirmModalAction:E,hideConfirmModalAction:S,addNotificationAction:k,deleteTransformationPlanAction:w,deleteTransformationPlanUrl:F,fetchTransformationPlansAction:P,fetchTransformationPlansUrl:b,fetchArchivedTransformationPlansUrl:A,fetchTransformationMappingsAction:x,fetchTransformationMappingsUrl:U,showEditPlanNameModalAction:G})))}}]),t}();_.propTypes={activeFilter:o.default.string,initialMigrationsFilterSet:o.default.bool,setMigrationsFilterAction:o.default.func,transformationPlans:o.default.array,allRequestsWithTasks:o.default.array,reloadCard:o.default.bool,notStartedPlans:o.default.array,activeTransformationPlans:o.default.array,serviceTemplatePlaybooks:o.default.array,createMigrationPlanClick:o.default.func,createTransformationPlanRequestClick:o.default.func,isCreatingTransformationPlanRequest:o.default.string,finishedTransformationPlans:o.default.array,redirectTo:o.default.func,showConfirmModalAction:o.default.func,hideConfirmModalAction:o.default.func,fetchTransformationPlansAction:o.default.func,fetchTransformationPlansUrl:o.default.string,fetchArchivedTransformationPlansUrl:o.default.string,archivedTransformationPlans:o.default.array,allArchivedPlanRequestsWithTasks:o.default.array,isFetchingTransformationPlans:o.default.bool,isFetchingArchivedTransformationPlans:o.default.string,isFetchingAllRequestsWithTasks:o.default.bool,archiveTransformationPlanAction:o.default.func,archiveTransformationPlanUrl:o.default.string,deleteTransformationPlanAction:o.default.func,deleteTransformationPlanUrl:o.default.string,addNotificationAction:o.default.func,toggleScheduleMigrationModal:o.default.func,scheduleMigrationModal:o.default.bool,scheduleMigrationPlan:o.default.object,scheduleMigration:o.default.func,showPlanWizardEditModeAction:o.default.func,fetchTransformationMappingsAction:o.default.func,fetchTransformationMappingsUrl:o.default.string,showEditPlanNameModalAction:o.default.func,acknowledgeDeniedPlanRequestAction:o.default.func,isEditingPlanRequest:o.default.bool,cancelPlanRequestAction:o.default.func,isCancellingPlanRequest:o.default.bool,requestsProcessingCancellation:o.default.array},_.defaultProps={transformationPlans:[],notStartedPlans:[],activeTransformationPlans:[],serviceTemplatePlaybooks:[],createMigrationPlanClick:s.noop,createTransformationPlanRequestClick:s.noop,isCreatingTransformationPlanRequest:"",finishedTransformationPlans:[]},t.default=_},2420:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(0)),a=l(n(1)),o=l(n(7)),i=n(6),s=n(55);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.archivedPlans,n=e.loading,a=e.migrationsFilter,l=e.setMigrationsFilterAction,u=1===t.length?__("Migration Plan Archived"):__("Migration Plans Archived"),c=a===s.MIGRATIONS_FILTERS.archived,d=(0,o.default)("overview-aggregate-card",{"is-loading":n,active:c});return r.default.createElement(i.Card,{className:d,accented:!0,aggregated:!0,matchHeight:!0,onClick:function(){return l(s.MIGRATIONS_FILTERS.archived)}},r.default.createElement(i.Spinner,{loading:n},r.default.createElement(i.Card.Title,null,r.default.createElement(i.AggregateStatusCount,null,t.length)," ",u),t.length>0&&r.default.createElement(i.Card.Body,{className:"overview-aggregate-card--body"},r.default.createElement(i.AggregateStatusNotifications,null,r.default.createElement(i.AggregateStatusNotification,null,r.default.createElement(i.Icon,{type:"pf",name:"ok"}))))))};u.propTypes={archivedPlans:a.default.array,loading:a.default.bool,migrationsFilter:a.default.string,setMigrationsFilterAction:a.default.func},t.default=u},2421:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),a=u(n(1)),o=u(n(7)),i=n(6),s=u(n(173)),l=n(55);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.finishedPlans,n=e.loading,a=e.migrationsFilter,u=e.setMigrationsFilterAction,c=1===t.length?__("Migration Plan Complete"):__("Migration Plans Complete"),d=a===l.MIGRATIONS_FILTERS.completed,f=t.filter(function(e){var t=e.miq_requests.length>0&&(0,s.default)(e.miq_requests);return"Error"===t.status||"Denied"===t.status}),p=(0,o.default)("overview-aggregate-card",{"is-loading":n,active:d});return r.default.createElement(i.Card,{className:p,accented:!0,aggregated:!0,matchHeight:!0,onClick:function(){return u(l.MIGRATIONS_FILTERS.completed)}},r.default.createElement(i.Spinner,{loading:n},r.default.createElement(i.Card.Title,null,r.default.createElement(i.AggregateStatusCount,null,t.length)," ",c),t.length>0&&r.default.createElement(i.Card.Body,{className:"overview-aggregate-card--body"},r.default.createElement(i.AggregateStatusNotifications,null,r.default.createElement(i.AggregateStatusNotification,null,r.default.createElement(i.Icon,{type:"pf",name:f.length>0?"error-circle-o":"ok"})," ",f.length>0&&f.length)))))};c.propTypes={finishedPlans:a.default.array,loading:a.default.bool,migrationsFilter:a.default.string,setMigrationsFilterAction:a.default.func},t.default=c},2422:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schedulesSchema=void 0;var r=n(101);t.schedulesSchema=(0,r.object)().shape({href:(0,r.string)().required(),id:(0,r.string)().required(),run_at:(0,r.object)().shape({start_time:(0,r.string)().required()}).required()})},2481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(0)),a=c(n(1)),o=c(n(7)),i=n(6),s=c(n(173)),l=n(539),u=n(55);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.activePlans,n=e.allRequestsWithTasks,a=e.reloadCard,c=e.loading,d=e.migrationsFilter,f=e.setMigrationsFilterAction,p=1===t.length?__("Migration Plan In Progress"):__("Migration Plans In Progress"),m=d===u.MIGRATIONS_FILTERS.inProgress,_=t.filter(function(e){if(n&&n.length>0){var t=n.filter(function(t){return t.source_id===e.id}),r=t.length>0&&(0,s.default)(t);return r&&r.miq_request_tasks.some(function(e){if(e.options&&e.options.playbooks){var t=e.options.playbooks;if(t.pre&&t.pre.job_status===l.PLAN_JOB_STATUS.ERROR)return!0;if(t.post&&t.post.job_status===l.PLAN_JOB_STATUS.ERROR)return!0}return"finished"===e.state&&"Error"===e.status})}return[]}).length;_>0&&a&&(_-=1);var g=(0,o.default)("overview-aggregate-card",{"is-loading":c,active:m});return r.default.createElement(i.Card,{className:g,accented:!0,aggregated:!0,matchHeight:!0,onClick:function(){return f(u.MIGRATIONS_FILTERS.inProgress)}},r.default.createElement(i.Spinner,{loading:c},r.default.createElement(i.Card.Title,null,r.default.createElement(i.AggregateStatusCount,null,t.length)," ",p),t.length>0&&r.default.createElement(i.Card.Body,{className:"overview-aggregate-card--body"},r.default.createElement(i.AggregateStatusNotifications,null,r.default.createElement(i.AggregateStatusNotification,null,r.default.createElement(i.Icon,{type:"pf",name:_>0?"error-circle-o":"ok"})," ",_>0&&_)))))};d.propTypes={activePlans:a.default.array,allRequestsWithTasks:a.default.array,reloadCard:a.default.bool,loading:a.default.bool,migrationsFilter:a.default.string,setMigrationsFilterAction:a.default.func},t.default=d},2482:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(0)),a=l(n(1)),o=l(n(7)),i=n(6),s=n(55);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.notStartedPlans,n=e.loading,a=e.migrationsFilter,l=e.setMigrationsFilterAction,u=1===t.length?__("Migration Plan Not Started"):__("Migration Plans Not Started"),c=a===s.MIGRATIONS_FILTERS.notStarted,d=(0,o.default)("overview-aggregate-card",{"is-loading":n,active:c});return r.default.createElement(i.Card,{className:d,accented:!0,aggregated:!0,matchHeight:!0,onClick:function(){return l(s.MIGRATIONS_FILTERS.notStarted)}},r.default.createElement(i.Spinner,{loading:n},r.default.createElement(i.Card.Title,null,r.default.createElement(i.AggregateStatusCount,null,t.length)," ",u),t.length>0&&r.default.createElement(i.Card.Body,{className:"overview-aggregate-card--body"},r.default.createElement(i.AggregateStatusNotifications,null,r.default.createElement(i.AggregateStatusNotification,null,r.default.createElement(i.Icon,{type:"pf",name:"ok"}))))))};u.propTypes={notStartedPlans:a.default.array,loading:a.default.bool,migrationsFilter:a.default.string,setMigrationsFilterAction:a.default.func},t.default=u},2483:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArchivedTransformationPlans=t.FinishedTransformationPlans=t.ActiveTransformationPlans=t.NotStartedTransformationPlans=void 0;var r=s(n(2482)),a=s(n(2481)),o=s(n(2421)),i=s(n(2420));function s(e){return e&&e.__esModule?e:{default:e}}t.NotStartedTransformationPlans=r.default,t.ActiveTransformationPlans=a.default,t.FinishedTransformationPlans=o.default,t.ArchivedTransformationPlans=i.default},2484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n(0)),i=h(n(1)),s=n(6),l=h(n(354)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2483)),c=h(n(2419)),d=h(n(123)),f=h(n(175)),p=h(n(846)),m=h(n(845)),_=n(55),g=n(164),v=n(202);function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showPlanWizardOrError=function(e){var t=n.props,r=t.transformationMappings,a=t.showPlanWizardAction;r.length>0?a(e):n.showNoMappingsError()},n.showPlanWizardEditModeOrError=function(e){var t=n.props,r=t.transformationMappings,a=t.showPlanWizardEditModeAction;r.length>0?a(e):n.showNoMappingsError()},n.showNoMappingsError=function(){var e=n.props,t=e.showConfirmModalAction,r=e.hideConfirmModalAction;t({title:__("Migration plan error"),icon:o.default.createElement(s.Icon,{className:"confirm-warning-icon",type:"pf",name:"error-circle-o"}),body:o.default.createElement(o.default.Fragment,null,o.default.createElement("h3",{style:{marginTop:0}},__("No infrastructure mapping exists")),o.default.createElement("p",null,__("A migration plan must include an infrastructure mapping.")," ",o.default.createElement("a",{href:"/migration#/mappings"},__("Go to the Infrastructure Mappings page to create one.")))),cancelButtonLabel:null,confirmButtonLabel:__("Close"),onConfirm:r})},n.startPolling=function(){var e=n.props,t=e.fetchTransformationPlansAction,r=e.fetchTransformationPlansUrl;n.pollingInterval=setInterval(function(){t({url:r,archived:!1})},15e3)},n.stopPolling=function(){n.pollingInterval&&(clearInterval(n.pollingInterval),n.pollingInterval=null)},n.createTransformationPlanRequest=function(e,t){var r=n.props,a=r.createTransformationPlanRequestAction,o=r.fetchTransformationPlansAction,i=r.fetchTransformationPlansUrl,s=r.setMigrationsFilterAction,l=r.retryMigrationAction;a(e).then(function(){l(t),s(_.MIGRATIONS_FILTERS.inProgress),o({url:i,archived:!1})})},n.renderAggregateDataCards=function(){var e=n.props,t=e.activeTransformationPlans,r=e.allRequestsWithTasks,a=e.archivedTransformationPlans,i=e.finishedTransformationPlans,l=e.isFetchingAllRequestsWithTasks,c=e.migrationsFilter,d=e.notStartedTransformationPlans,f=e.reloadCard,p=e.requestsWithTasksPreviouslyFetched,m=e.setMigrationsFilterAction;return o.default.createElement("div",{className:"row-cards-pf"},o.default.createElement(s.Card.HeightMatching,{selector:[".card-pf-match-height"]},o.default.createElement(s.CardGrid.Col,{xs:6,sm:3},o.default.createElement(u.NotStartedTransformationPlans,{notStartedPlans:d,loading:l&&!p,migrationsFilter:c,setMigrationsFilterAction:m})),o.default.createElement(s.CardGrid.Col,{xs:6,sm:3},o.default.createElement(u.ActiveTransformationPlans,{activePlans:t,allRequestsWithTasks:r,reloadCard:f,loading:l&&!p,migrationsFilter:c,setMigrationsFilterAction:m})),o.default.createElement(s.CardGrid.Col,{xs:6,sm:3},o.default.createElement(u.FinishedTransformationPlans,{finishedPlans:i,loading:l&&!p,migrationsFilter:c,setMigrationsFilterAction:m})),o.default.createElement(s.CardGrid.Col,{xs:6,sm:3},o.default.createElement(u.ArchivedTransformationPlans,{archivedPlans:a,loading:l&&!p,migrationsFilter:c,setMigrationsFilterAction:m}))))},n.redirectTo=function(e){return n.props.redirectTo(e)},n.planWizard=f.default.markup("PlanWizardContainer",e.store),n.hasMadeInitialPlansFetch=!1,n.willUnmount=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.fetchCloudTenantsAction,r=t.fetchCloudTenantsUrl,a=t.fetchProvidersAction,o=t.fetchProvidersUrl,i=t.fetchTransformationMappingsUrl,s=t.fetchTransformationMappingsAction,l=t.fetchTransformationPlansUrl,u=t.fetchTransformationPlansAction,c=t.fetchArchivedTransformationPlansUrl,d=t.fetchServiceTemplateAnsiblePlaybooksAction,f=t.fetchServiceTemplateAnsiblePlaybooksUrl;a(o).then(function(){var e=u({url:l,archived:!1}),t=u({url:c,archived:!0}),a=d(f),o=s(i),p=n(r);return Promise.all([e,t,a,o,p])}).then(function(){e.hasMadeInitialPlansFetch=!0,e.pollingInterval||e.willUnmount||e.startPolling()})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.isContinuingToPlan,r=t.fetchTransformationPlansUrl,a=t.fetchTransformationPlansAction,o=t.planWizardId;n===e.isContinuingToPlan||e.isContinuingToPlan||this.showPlanWizardOrError(o),e.planWizardVisible?this.stopPolling():e.planWizardVisible||!this.hasMadeInitialPlansFetch||this.pollingInterval||this.willUnmount||(a({url:r,archived:!1}),this.startPolling())}},{key:"componentWillUnmount",value:function(){this.willUnmount=!0,this.stopPolling()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isFetchingProviders,a=t.hasSufficientProviders,i=t.mappingWizardVisible,u=t.planWizardVisible,f=t.editPlanNameModalVisible,g=t.showEditPlanNameModalAction,v=t.hideEditPlanNameModalAction,h=t.transformationMappings,y=t.isFetchingTransformationMappings,T=t.transformationPlans,E=t.allRequestsWithTasks,S=t.reloadCard,P=t.isFetchingAllRequestsWithTasks,b=t.requestsWithTasksPreviouslyFetched,A=t.notStartedTransformationPlans,C=t.activeTransformationPlans,O=t.serviceTemplatePlaybooks,M=t.finishedTransformationPlans,R=t.isCreatingTransformationPlanRequest,N=t.migrationsFilter,I=t.confirmModalVisible,V=t.confirmModalOptions,w=t.showConfirmModalAction,F=t.hideConfirmModalAction,k=t.fetchTransformationPlansAction,D=t.fetchTransformationPlansUrl,j=t.fetchArchivedTransformationPlansUrl,L=t.archivedTransformationPlans,H=t.allArchivedPlanRequestsWithTasks,W=t.archiveTransformationPlanAction,U=t.archiveTransformationPlanUrl,x=t.deleteTransformationPlanAction,G=t.deleteTransformationPlanUrl,q=t.isFetchingTransformationPlans,z=t.isFetchingArchivedTransformationPlans,B=t.addNotificationAction,K=t.toggleScheduleMigrationModal,Y=t.scheduleMigrationModal,Q=t.scheduleMigrationPlan,Z=t.scheduleMigration,J=t.fetchTransformationMappingsUrl,X=t.fetchTransformationMappingsAction,$=t.openMappingWizardOnTransitionAction,ee=t.setMigrationsFilterAction,te=t.initialMigrationsFilterSet,ne=t.acknowledgeDeniedPlanRequestAction,re=t.isEditingPlanRequest,ae=t.cancelPlanRequestAction,oe=t.isCancellingPlanRequest,ie=t.requestsProcessingCancellation,se=o.default.createElement(o.default.Fragment,null,o.default.createElement(s.Spinner,{loading:!b&&!this.hasMadeInitialPlansFetch&&(P||n||q||z||y),style:{marginTop:200}},a?h.length||T.length||L.length?o.default.createElement(c.default,{activeFilter:N,initialMigrationsFilterSet:te,setMigrationsFilterAction:ee,transformationPlans:T,allRequestsWithTasks:E,archivedTransformationPlans:L,allArchivedPlanRequestsWithTasks:H,reloadCard:S,notStartedPlans:A,activeTransformationPlans:C,serviceTemplatePlaybooks:O,finishedTransformationPlans:M,createMigrationPlanClick:this.showPlanWizardOrError,createTransformationPlanRequestClick:this.createTransformationPlanRequest,isCreatingTransformationPlanRequest:R,redirectTo:this.redirectTo,showConfirmModalAction:w,hideConfirmModalAction:F,fetchTransformationPlansAction:k,fetchTransformationPlansUrl:D,fetchArchivedTransformationPlansUrl:j,isFetchingTransformationPlans:q,isFetchingArchivedTransformationPlans:z,isFetchingAllRequestsWithTasks:P,archiveTransformationPlanAction:W,archiveTransformationPlanUrl:U,deleteTransformationPlanAction:x,deleteTransformationPlanUrl:G,addNotificationAction:B,toggleScheduleMigrationModal:K,scheduleMigrationModal:Y,scheduleMigrationPlan:Q,scheduleMigration:Z,showPlanWizardEditModeAction:this.showPlanWizardEditModeOrError,fetchTransformationMappingsUrl:J,fetchTransformationMappingsAction:X,showEditPlanNameModalAction:g,acknowledgeDeniedPlanRequestAction:ne,isEditingPlanRequest:re,cancelPlanRequestAction:ae,isCancellingPlanRequest:oe,requestsProcessingCancellation:ie}):o.default.createElement(d.default,{description:__("Create an infrastructure mapping to later be used by a migration plan"),buttonText:__("Create Infrastructure Mapping"),showWizardAction:function(){e.redirectTo("/mappings"),$()},className:"full-page-empty"}):o.default.createElement(d.default,{description:__("The source and target providers must be configured before attempting a migration"),buttonText:__("Configure Providers"),buttonHref:"/ems_infra/show_list",className:"full-page-empty"})),o.default.createElement(p.default,r({show:I,onCancel:F},V)),o.default.createElement(m.default,{editPlanNameModalVisible:f,hideEditPlanNameModalAction:v,transformationPlans:T,archivedTransformationPlans:L,fetchTransformationPlansAction:k,fetchTransformationPlansUrl:D,fetchArchivedTransformationPlansUrl:j})),le=N===_.MIGRATIONS_FILTERS.inProgress&&C.length>0,ue=N===_.MIGRATIONS_FILTERS.notStarted&&0===A.length||N===_.MIGRATIONS_FILTERS.inProgress&&0===C.length||N===_.MIGRATIONS_FILTERS.completed&&0===M.length||N===_.MIGRATIONS_FILTERS.archived&&0===L.length,ce=le||ue?o.default.createElement("div",{className:"row cards-pf",style:{overflow:"auto",overflowX:"hidden",paddingBottom:50,height:"100%"}},this.renderAggregateDataCards(),se):o.default.createElement("div",{className:"row",style:{overflow:"auto",overflowX:"hidden",paddingBottom:50,height:"100%"}},o.default.createElement("div",{className:"row cards-pf",style:{marginLeft:0,marginRight:0}},this.renderAggregateDataCards()),o.default.createElement("div",{className:"row",style:{marginLeft:0,marginRight:0}},se)),de=o.default.createElement(l.default,null,o.default.createElement(s.Breadcrumb.Item,{active:!0},__("Compute")),o.default.createElement(s.Breadcrumb.Item,{active:!0},__("Migration")),o.default.createElement(s.Breadcrumb.Item,{active:!0},o.default.createElement("strong",null,__("Migration Plans"))));return o.default.createElement(o.default.Fragment,null,de,ce,i&&this.mappingWizard,u&&this.planWizard)}}]),t}();y.propTypes={store:i.default.object,showMappingWizardAction:i.default.func,showPlanWizardAction:i.default.func,addNotificationAction:i.default.func,mappingWizardVisible:i.default.bool,planWizardVisible:i.default.bool,editPlanNameModalVisible:i.default.bool,showEditPlanNameModalAction:i.default.func,hideEditPlanNameModalAction:i.default.func,transformationPlans:i.default.array,allRequestsWithTasks:i.default.array,reloadCard:i.default.bool,fetchTransformationPlansUrl:i.default.string,fetchTransformationPlansAction:i.default.func,isFetchingAllRequestsWithTasks:i.default.bool,requestsWithTasksPreviouslyFetched:i.default.bool,notStartedTransformationPlans:i.default.array,activeTransformationPlans:i.default.array,finishedTransformationPlans:i.default.array,transformationMappings:i.default.array,fetchTransformationMappingsUrl:i.default.string,fetchTransformationMappingsAction:i.default.func,isFetchingTransformationMappings:i.default.bool,isRejectedTransformationMappings:i.default.bool,createTransformationPlanRequestAction:i.default.func,isCreatingTransformationPlanRequest:i.default.string,isContinuingToPlan:i.default.bool,planWizardId:i.default.string,continueToPlanAction:i.default.func,showPlanWizardEditModeAction:i.default.func,migrationsFilter:i.default.string,setMigrationsFilterAction:i.default.func,retryMigrationAction:i.default.func,history:i.default.object,yesToDeleteInfrastructureMappingAction:i.default.func,deleteInfrastructureMappingAction:i.default.func,yesToDeleteInfrastructureMapping:i.default.bool,fetchProvidersAction:i.default.func,fetchProvidersUrl:i.default.string,isFetchingProviders:i.default.bool,hasSufficientProviders:i.default.bool,confirmModalVisible:i.default.bool,confirmModalOptions:i.default.object,showConfirmModalAction:i.default.func,hideConfirmModalAction:i.default.func,fetchArchivedTransformationPlansUrl:i.default.string,archivedTransformationPlans:i.default.array,allArchivedPlanRequestsWithTasks:i.default.array,isFetchingTransformationPlans:i.default.bool,isFetchingArchivedTransformationPlans:i.default.string,archiveTransformationPlanAction:i.default.func,archiveTransformationPlanUrl:i.default.string,deleteTransformationPlanAction:i.default.func,deleteTransformationPlanUrl:i.default.string,toggleScheduleMigrationModal:i.default.func,scheduleMigrationModal:i.default.bool,scheduleMigrationPlan:i.default.object,scheduleMigration:i.default.func,fetchServiceTemplateAnsiblePlaybooksAction:i.default.func,fetchServiceTemplateAnsiblePlaybooksUrl:i.default.string,serviceTemplatePlaybooks:i.default.array,redirectTo:i.default.func.isRequired,openMappingWizardOnTransitionAction:i.default.func,initialMigrationsFilterSet:i.default.bool,acknowledgeDeniedPlanRequestAction:i.default.func,isEditingPlanRequest:i.default.bool,cancelPlanRequestAction:i.default.func,isCancellingPlanRequest:i.default.bool,requestsProcessingCancellation:i.default.array,fetchCloudTenantsAction:i.default.func,fetchCloudTenantsUrl:i.default.string},y.defaultProps={archiveTransformationPlanUrl:"/api/service_templates",deleteTransformationPlanUrl:"/api/service_templates",fetchCloudTenantsUrl:g.FETCH_CLOUD_TENANTS_URL,fetchTransformationMappingsUrl:g.FETCH_TRANSFORMATION_MAPPINGS_URL,fetchTransformationPlansUrl:_.FETCH_TRANSFORMATION_PLANS_URL,fetchServiceTemplateAnsiblePlaybooksUrl:"/api/service_templates/?filter[]=type='ServiceTemplateAnsiblePlaybook'&expand=resources&attributes=name,description,created_at",fetchArchivedTransformationPlansUrl:_.FETCH_ARCHIVED_TRANSFORMATION_PLANS_URL,fetchProvidersUrl:v.FETCH_V2V_PROVIDERS_URL},t.default=y},2496:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(0)),o=c(n(1)),i=n(1038),s=n(1034),l=n(796),u=c(n(175));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.store;return s.links.map(function(e){var n=e.path,o=e.component,s=e.redirect;if(void 0!==s)return a.default.createElement(i.Route,{exact:!0,key:n,path:n,render:function(){return a.default.createElement(i.Redirect,{to:s})}});var c=(0,l.componentSettings)(o);if(c){var d=u.default.markup(c.name,c.data,t);return a.default.createElement(i.Route,{exact:!0,key:n,path:"/"+n,render:function(e){return e.match.isExact?a.default.createElement(a.default.Fragment,null,u.default.markup(c.name,r({},c.data,e),t)):d}})}return a.default.createElement(i.Route,{exact:!0,key:n,path:"/"+n})})};d.propTypes={store:o.default.object},d.defaultProps={store:{}},t.default=d},251:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.overwriteCsvConfirmModalProps=t.stepIDs=t.V2V_PLAN_WIZARD_HIDE_ALERT=t.V2V_PLAN_WIZARD_SHOW_ALERT=t.V2V_SET_PLAN_SCHEDULE=t.V2V_SET_PLANS_BODY=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=n(6);t.V2V_SET_PLANS_BODY="V2V_SET_PLANS_BODY",t.V2V_SET_PLAN_SCHEDULE="V2V_SET_PLAN_SCHEDULE",t.V2V_PLAN_WIZARD_SHOW_ALERT="V2V_PLAN_WIZARD_SHOW_ALERT",t.V2V_PLAN_WIZARD_HIDE_ALERT="V2V_PLAN_WIZARD_HIDE_ALERT",t.stepIDs={generalStep:"planWizardGeneralStep",vmStep:"planWizardVMStep",instancePropertiesStep:"planWizardInstancePropertiesStep",advancedOptionsStep:"planWizardAdvancedOptionsStep",scheduleStep:"planWizardScheduleStep",resultsStep:"planWizardResultsStep"},t.overwriteCsvConfirmModalProps={title:__("Overwrite Import File"),body:r.default.createElement(r.default.Fragment,null,r.default.createElement("p",null,__("Importing a new VM list file will overwrite the contents of the existing list.")),r.default.createElement("p",null,__("Are you sure you want to import a new file?"))),icon:r.default.createElement(a.Icon,{className:"confirm-warning-icon",type:"pf",name:"warning-triangle-o"}),confirmButtonLabel:__("Import"),dialogClassName:"plan-wizard-confirm-modal",backdropClassName:"plan-wizard-confirm-backdrop"}},2526:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(0)),o=n(1058),i=n(26),s=n(6),l=p(n(1)),u=p(n(2496)),c=p(n(461)),d=p(n(1894)),f=n(1888);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return ManageIQ.redux.addReducer((0,d.default)()),(0,f.updateVerticalMenu)(ManageIQ.redux.store.getState().router.location.pathname),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){return this.props.isLoaded?a.default.createElement(o.ConnectedRouter,{history:ManageIQ.redux.history},a.default.createElement(a.default.Fragment,null,a.default.createElement(c.default,null),a.default.createElement(u.default,{store:ManageIQ.redux.store}))):a.default.createElement("div",{className:"row cards-pf"},a.default.createElement(s.Spinner,{loading:!0}))}},{key:"componentDidMount",value:function(){this.unlisten=ManageIQ.redux.history.listen(function(e){(0,f.updateVerticalMenu)(e.pathname)})}},{key:"componentWillUnmount",value:function(){this.unlisten()}}]),t}();m.propTypes={isLoaded:l.default.bool.isRequired};t.default=(0,i.connect)(function(e){return{isLoaded:!!e.overview}})(m)},2527:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mount=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.querySelector(t);o?(r.default.unmountComponentAtNode(o),r.default.render(a.default.markup(e,n),o)):console.log("Cannot find '"+t+"' element for mounting the '"+e+"'")};var r=o(n(21)),a=o(n(175));function o(e){return e&&e.__esModule?e:{default:e}}},2533:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getDisplayName=function(e){return e.displayName||e.name||"Component"}},2537:function(e,t){},254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateMappings=t.multiProviderTargetLabel=t.getClusterOptions=void 0;var r=n(41);t.getClusterOptions=function(e){return e.reduce(function(e,t){var n=t.nodes,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["nodes"]),a=n.map(function(e){return{sourceCluster:e,targetCluster:r,sourceClusterMappedToTargetCluster:{name:e.name+" ("+r.name+")",id:e.id}}});return e.concat(a)},[]).map(function(e){return e.sourceClusterMappedToTargetCluster})};t.multiProviderTargetLabel=function(e,t){switch(e){case r.V2V_TARGET_PROVIDERS[1].id:switch(t){case"cluster":return __("Target Provider \\ Project");case"storage":return __("Target Provider \\ Volume Type");case"network":return __("Target Project \\ Network");default:return null}default:switch(t){case"cluster":return __("Target Provider \\ Datacenter \\ Cluster");case"storage":return __("Target Datastores");case"network":return __("Target Network");default:return null}}},t.updateMappings=function(e,t){return e.filter(function(e){var n=t.filter(function(t){return t.id===e.id});return 0!==n.length&&n.find(function(t){var n=t.nodes.map(function(e){return e.id});return e.nodes[0].nodes.every(function(e){return n.some(function(t){return t===e.sourceClusterId})})})})}},2544:function(e,t){},255:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hideAlertAction=t.showAlertAction=t.hideWarningModalAction=t.showWarningModalAction=t.setTransformationsBodyAction=t.mappingWizardExitedAction=t.hideMappingWizardAction=void 0;var r=n(37),a=n(41);t.hideMappingWizardAction=function(){return function(e){e({type:a.V2V_HIDE_MAPPING_WIZARD})}},t.mappingWizardExitedAction=function(){return function(e){e({type:a.V2V_MAPPING_WIZARD_EXITED}),e((0,r.destroy)("mappingWizardGeneralStep","mappingWizardClustersStep","mappingWizardDatastoresStep","mappingWizardNetworksStep"))}},t.setTransformationsBodyAction=function(e){return function(t){t({type:a.V2V_SET_TRANSFORMATIONS_BODY,payload:e})}},t.showWarningModalAction=function(e){return function(t){t({type:a.V2V_SHOW_WARNING_MODAL,payload:e})}},t.hideWarningModalAction=function(){return function(e){e({type:a.V2V_HIDE_WARNING_MODAL})}},t.showAlertAction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";return function(n){n({type:a.V2V_SHOW_ALERT,payload:{alertText:e,alertType:t}})}},t.hideAlertAction=function(){return function(e){e({type:a.V2V_HIDE_ALERT})}}},2552:function(e,t){},2553:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.i18nProviderWrapperFactory=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=n(220),i=n(2533),s=l(n(273));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.i18nProviderWrapperFactory=function(e){return function(t){var n=(0,i.getDisplayName)(t),l=function(n){function i(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=n=u(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(a))),n.state={i18nLoaded:!0},u(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a.default.Component),r(i,[{key:"render",value:function(){return this.state.i18nLoaded?a.default.createElement(o.IntlProvider,{locale:s.default.locale,initialNow:e},a.default.createElement(t,this.props)):a.default.createElement("span",null)}}]),i}();return l.displayName="I18nProviderWrapper("+n+")",l}}},256:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConversionHostSshKeyInfoMessage=t.getCombinedConversionHostListItems=t.attachTasksToConversionHosts=t.getActiveConversionHostEnableTasks=t.indexConversionHostTasksByResource=t.parseConversionHostTasksMetadata=t.getApiSettingsFromFormValues=t.getFormValuesFromApiSettings=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(484),i=n(88);function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.getFormValuesFromApiSettings=function(e){return{max_concurrent_tasks_per_host:e.transformation.limits.max_concurrent_tasks_per_host,max_concurrent_tasks_per_ems:e.transformation.limits.max_concurrent_tasks_per_ems}},t.getApiSettingsFromFormValues=function(e){return{transformation:{limits:{max_concurrent_tasks_per_host:e.max_concurrent_tasks_per_host,max_concurrent_tasks_per_ems:e.max_concurrent_tasks_per_ems}}}},t.parseConversionHostTasksMetadata=function(e){var t=/operation=(\w+)\s+resource=\(name:\s(.+)\stype:\s+([\w:]+)\s+id:\s(.+)\)/;return e?e.map(function(e){var n=t.exec(e.name);if(!n)return a({},e,{meta:{}});var o=r(n,5),i=o[1],s=o[2],l=o[3],u=o[4];return a({},e,{meta:{isTask:!0,operation:i,resourceName:s,resourceType:l,resourceId:u,unparsedTaskName:e.name},name:s})}):[]},t.indexConversionHostTasksByResource=function(e){var t={};return e.forEach(function(e){if(e.meta){var n=e.meta,r=n.resourceType,a=n.resourceId,o=n.operation;t[r]||(t[r]={}),t[r][a]||(t[r][a]={}),t[r][a][o]||(t[r][a][o]=[]),t[r][a][o].push(e)}}),t};var l=t.getActiveConversionHostEnableTasks=function(e,t){return e.filter(function(t,n){return e.every(function(e,r){return r===n||e.meta.resourceType!==t.meta.resourceType||e.meta.resourceId!==t.meta.resourceId||e.updated_on<=t.updated_on})}).filter(function(e){return"enable"===e.meta.operation&&(e.state!==o.FINISHED||e.status===o.ERROR)&&t.every(function(t){return t.resource.type!==e.meta.resourceType||t.resource.id!==e.meta.resourceId})})},u=t.attachTasksToConversionHosts=function(e,t){return e.filter(function(e){return!!e.resource}).map(function(e){var n=e.resource,r=n.type,o=n.id;return a({},e,{meta:{tasksByOperation:t[r]&&t[r][o]||{}}})})};t.getCombinedConversionHostListItems=function(e,t,n){var r=l(t,e),a=u(e,n);return[].concat(s(r),s(a))},t.getConversionHostSshKeyInfoMessage=function(e){return e===i.RHV?__("RHV-M deploys a common SSH public key on all hosts when configuring them. This allows commands and playbooks to be run from RHV-M. The associated private key is in the file /etc/pki/ovirt-engine/keys/engine_id_rsa on RHV-M."):e===i.OPENSTACK?__("This is the private key file used to connect to the conversion host instance for the OpenStack User."):""}},257:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conversionHostRetryModalExitedAction=t.hideConversionHostRetryModalAction=t.showConversionHostRetryModalAction=t.setConversionHostTaskToRetryAction=t.deleteConversionHostAction=t._deleteConversionHostActionCreator=t.hideConversionHostDeleteModalAction=t.showConversionHostDeleteModalAction=t.setHostToDeleteAction=t.postConversionHostsAction=t.conversionHostWizardExitedAction=t.hideConversionHostWizardAction=t.showConversionHostWizardAction=t.fetchConversionHostTasksAction=t.fetchConversionHostsAction=t.patchSettingsAction=t.fetchSettingsAction=t.fetchServersAction=void 0;var r=n(37),a=u(n(62)),o=u(n(52)),i=n(801),s=n(256),l=n(96);function u(e){return e&&e.__esModule?e:{default:e}}t.fetchServersAction=function(e){return function(e){return function(t){return t({type:i.V2V_FETCH_SERVERS,payload:o.default.get(e)})}}(new a.default(e).toString())},t.fetchSettingsAction=function(e){return function(e){return function(t){return t({type:i.V2V_FETCH_SETTINGS,payload:o.default.get(e)})}}(new a.default(e).toString())},t.patchSettingsAction=function(e,t){return function(e,t){return function(n){var r=(0,s.getApiSettingsFromFormValues)(t);return n({type:i.V2V_PATCH_SETTINGS,payload:new Promise(function(t,n){Promise.all(e.map(function(e){return o.default.patch(e,r)})).then(function(e){return t(e[0])}).catch(function(e){return n(e)})})})}}(e.map(function(e){return new a.default(e.href+"/settings").toString()}),t)},t.fetchConversionHostsAction=function(e){return function(e){return function(t){return t({type:i.FETCH_V2V_CONVERSION_HOSTS,payload:o.default.get(e)})}}(new a.default(e).toString())},t.fetchConversionHostTasksAction=function(e){return function(e){return function(t){return t({type:i.FETCH_V2V_CONVERSION_HOST_TASKS,payload:o.default.get(e)})}}(new a.default(e).toString())},t.showConversionHostWizardAction=function(){return function(e){return e({type:i.SHOW_V2V_CONVERSION_HOST_WIZARD})}},t.hideConversionHostWizardAction=function(){return function(e){return e({type:i.HIDE_V2V_CONVERSION_HOST_WIZARD})}},t.conversionHostWizardExitedAction=function(){return function(e){e({type:i.V2V_CONVERSION_HOST_WIZARD_EXITED}),Object.values(l.stepIDs).forEach(function(t){e((0,r.reset)(t))})}},t.postConversionHostsAction=function(e,t){return function(e,t){return function(n){return n({type:i.POST_V2V_CONVERSION_HOSTS,payload:Promise.all(t.map(function(t){return o.default.post(e,t)}))})}}(new a.default(e).toString(),t)},t.setHostToDeleteAction=function(e){return{type:i.SET_V2V_CONVERSION_HOST_TO_DELETE,payload:e}},t.showConversionHostDeleteModalAction=function(){return{type:i.SHOW_V2V_CONVERSION_HOST_DELETE_MODAL}},t.hideConversionHostDeleteModalAction=function(){return{type:i.HIDE_V2V_CONVERSION_HOST_DELETE_MODAL}};var c=t._deleteConversionHostActionCreator=function(e,t){return function(n){return n({type:i.DELETE_V2V_CONVERSION_HOST,payload:new Promise(function(n,r){o.default.post(e+"/"+t.id,{action:"delete"}).then(function(e){n(e)}).catch(function(e){return r(e)})})})}};t.deleteConversionHostAction=function(e,t){return c(new a.default(e).toString(),t)},t.setConversionHostTaskToRetryAction=function(e){return{type:i.SET_V2V_CONVERSION_HOST_TASK_TO_RETRY,payload:e}},t.showConversionHostRetryModalAction=function(){return{type:i.SHOW_V2V_CONVERSION_HOST_RETRY_MODAL}},t.hideConversionHostRetryModalAction=function(){return{type:i.HIDE_V2V_CONVERSION_HOST_RETRY_MODAL}},t.conversionHostRetryModalExitedAction=function(){return{type:i.V2V_CONVERSION_HOST_RETRY_MODAL_EXITED}}},258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cancelPlanRequestAction=t.acknowledgeDeniedPlanRequestAction=t.editPlanRequestAction=t.openMappingWizardOnTransitionAction=t.scheduleMigration=t.toggleScheduleMigrationModal=t.deleteTransformationPlanAction=t.archiveTransformationPlanAction=t.retryMigrationAction=t.setMigrationsFilterAction=t.fetchServiceTemplateAnsiblePlaybooksAction=t.fetchTransformationPlansAction=t.fetchTransformationMappingsAction=t.createTransformationPlanRequestAction=t.hideEditPlanNameModalAction=t.showEditPlanNameModalAction=t.showPlanWizardEditModeAction=t.showPlanWizardAction=t.hideConfirmModalAction=t.showConfirmModalAction=t.fetchCloudTenantsAction=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(489);Object.defineProperty(t,"fetchCloudTenantsAction",{enumerable:!0,get:function(){return a.fetchCloudTenantsAction}});var o=d(n(62)),i=d(n(52)),s=n(325),l=n(205),u=n(55),c=n(164);function d(e){return e&&e.__esModule?e:{default:e}}t.showConfirmModalAction=function(e){return{type:u.SHOW_CONFIRM_MODAL,payload:e}},t.hideConfirmModalAction=function(){return{type:u.HIDE_CONFIRM_MODAL}},t.showPlanWizardAction=function(e){return function(t){t({type:u.SHOW_PLAN_WIZARD,payload:{id:e}})}},t.showPlanWizardEditModeAction=function(e){return function(t){t({type:u.SHOW_PLAN_WIZARD_EDIT_MODE,editingPlanId:e})}},t.showEditPlanNameModalAction=function(e){return function(t){t({type:u.SHOW_EDIT_PLAN_TITLE_MODAL,editingPlanId:e})}},t.hideEditPlanNameModalAction=function(){return function(e){e({type:u.HIDE_EDIT_PLAN_TITLE_MODAL})}},t.createTransformationPlanRequestAction=function(e){return function(e){return function(t){return t({type:u.CREATE_V2V_TRANSFORMATION_PLAN_REQUEST,payload:{promise:i.default.post(e,{action:"order"}),data:e}})}}(new o.default(e).toString())},t.fetchTransformationMappingsAction=function(e){return function(e){return function(t){return t({type:u.FETCH_V2V_TRANSFORMATION_MAPPINGS,payload:i.default.get(e)})}}(new o.default(e).toString())};var f=function(e,t){return function(n){return n({type:t?u.FETCH_V2V_ARCHIVED_TRANSFORMATION_PLANS:u.FETCH_V2V_TRANSFORMATION_PLANS,payload:new Promise(function(a,o){i.default.get(e).then(function(e){var o;a(e);var s=e.data.resources;!function(e,t,n){e.length>0&&n({type:t?u.FETCH_V2V_ALL_ARCHIVED_PLAN_REQUESTS_WITH_TASKS:u.FETCH_V2V_ALL_REQUESTS_WITH_TASKS,payload:new Promise(function(t,n){i.default.post("/api/requests?expand=resource&attributes=miq_request_tasks,service_template",{action:"query",resources:e}).then(function(e){t(e)}).catch(function(e){return n(e)})})})}((o=[]).concat.apply(o,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}([].concat(s.map(function(e){return function(e){return e.miq_requests.map(function(e){return r({},{href:e.href})})}(e)})))),t,n)}).catch(function(e){return o(e)})})})}},p=t.fetchTransformationPlansAction=function(e){var t=e.url,n=e.archived,r=new o.default(t);return f(r.toString(),n)},m=(t.fetchServiceTemplateAnsiblePlaybooksAction=function(e){return function(e){return function(t){return t({type:u.FETCH_V2V_SERVICE_TEMPLATE_ANSIBLE_PLAYBOOKS,payload:i.default.get(e)})}}(new o.default(e).toString())},t.setMigrationsFilterAction=function(e,t){return function(n){if(n({type:u.V2V_SET_MIGRATIONS_FILTER,payload:e}),t)for(var r in t)({}).hasOwnProperty.call(t,r)&&n({type:r,payload:t[r]})}},t.retryMigrationAction=function(e){return{type:u.V2V_RETRY_MIGRATION,payload:e}},t.archiveTransformationPlanAction=function(e,t){return function(e){return function(t){return t({type:u.ARCHIVE_TRANSFORMATION_PLAN,payload:i.default.post(e,{action:"archive"})})}}(new o.default(e+"/"+t).toString())},t.deleteTransformationPlanAction=function(e,t){return function(e){return function(t){return t({type:u.DELETE_TRANSFORMATION_PLAN,payload:i.default.post(e,{action:"delete"})})}}(new o.default(e+"/"+t).toString())},t.toggleScheduleMigrationModal=function(e){return{type:u.V2V_TOGGLE_SCHEDULE_MIGRATION_MODAL,payload:e}},t.scheduleMigration=function(e){return function(t){return t({type:u.V2V_SCHEDULE_MIGRATION,payload:new Promise(function(n,a){var o=e.scheduleTime,u=e.plan.id,c=e.plan.schedules&&e.plan.schedules[0].id||null,d="/api/service_templates/"+u,f={action:"order",resource:{schedule_time:o}};return c&&(d=d+"/schedules/"+c,f=o?{action:"edit",resource:{run_at:r({},e.plan.schedules[0].run_at,{start_time:new Date(o).toUTCString()})}}:{action:"delete"}),i.default.post(d,f).then(function(e){n(e);var r=__("Migration successfully unscheduled");o&&(r=sprintf(__("Migration successfully scheduled for %s"),(0,l.formatDateTime)(e.data.run_at.start_time))),t({type:s.V2V_NOTIFICATION_ADD,message:r,notificationType:"success",actionEnabled:!1})}).catch(function(e){return a(e)})})})}},t.openMappingWizardOnTransitionAction=function(){return{type:c.OPEN_V2V_MAPPING_WIZARD_ON_MOUNT}},t.editPlanRequestAction=function(e){var t=e.planRequestUrl,n=e.plansUrl,r=e.resource;return function(e){var t=e.planRequestUrl,n=e.plansUrl,r=e.resource;return function(e){return e({type:u.V2V_EDIT_PLAN_REQUEST,payload:new Promise(function(a,o){return i.default.post(t,{action:"edit",resource:r}).then(function(t){a(t),p({url:n,archived:!1})(e)}).catch(function(e){return o(e)})})})}}({planRequestUrl:new o.default(t).toString(),plansUrl:new o.default(n).toString(),resource:r})});t.acknowledgeDeniedPlanRequestAction=function(e){var t=e.plansUrl,n=e.planRequest;return m({planRequestUrl:n.href,plansUrl:t,resource:{options:r({},n.options,{denial_acknowledged:!0})}})},t.cancelPlanRequestAction=function(e,t){return function(e){return function(t){return t({type:u.V2V_CANCEL_PLAN_REQUEST,payload:{promise:new Promise(function(t,n){i.default.post(e,{action:"cancel"}).then(function(e){return t(e)}).catch(function(e){return n(e)})}),data:e,meta:{url:e}}})}}(new o.default(e+"/"+t).toString())}},2585:function(e,t,n){"use strict";n(2584);var r=s(n(175)),a=n(2527),o=s(n(2526)),i=n(796);function s(e){return e&&e.__esModule?e:{default:e}}r.default.registerMultiple(i.coreComponents),window.v2v={mount:a.mount,componentRegistry:r.default},ManageIQ.component.addReact("manageiq-v2v",o.default)},273:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(220),o=c(n(2532)),i=c(n(2531)),s=c(n(2530)),l=c(n(2529)),u=c(n(2528));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f=document.getElementsByTagName("html"),p=r(f,1)[0],m=new function t(n,c){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u.default[0].locale="zh_CN",this.fallbackIntl=!e.Intl;var f=n.split("-"),p=r(f,1);this.locale=p[0],this.timezone=this.fallbackIntl?"UTC":c,(0,a.addLocaleData)([].concat(d(o.default),d(i.default),d(s.default),d(l.default),d(u.default))),this.loaded=!0}(p.getAttribute("lang")||"en",p.getAttribute("data-timezone")||"UTC");t.default=m}).call(this,n(18))},314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FETCH_V2V_PLAYBOOKS="FETCH_V2V_PLAYBOOKS",t.SET_V2V_ADVANCED_OPTIONS_STEP_VMS="SET_V2V_ADVANCED_OPTIONS_STEP_VMS",t.RESET_V2V_ADVANCED_OPTIONS_STEP_VMS="RESET_V2V_ADVANCED_OPTIONS_STEP_VMS",t.FILTER_TYPES=[{id:"name",title:__("VM Name"),placeholder:__("Filter by VM Name"),filterType:"text"},{id:"cluster",title:__("Source Cluster"),placeholder:__("Filter by Source Cluster"),filterType:"text"}]},315:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.V2V_VALIDATE_VMS="V2V_VALIDATE_VMS",t.V2V_VM_STEP_RESET="V2V_VM_STEP_RESET",t.QUERY_V2V_PLAN_VMS="QUERY_V2V_PLAN_VMS",t.V2V_VM_POST_VALIDATION_REASONS={conflict:__("VM is in conflict"),empty_name:__("Empty name specified"),in_other_plan:__("VM exists in a different migration plan"),migrated:__("VM has already been migrated"),not_exist:__("VM does not exist"),ok:__("VM available for migration"),duplicate:__("Duplicate VM"),inactive:__("VM is inactive"),no_info_available:__("VM unavailable for migration, no information available")}},319:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FETCH_V2V_SOURCE_NETWORKS="FETCH_V2V_SOURCE_NETWORKS",t.FETCH_V2V_TARGET_NETWORKS="FETCH_V2V_TARGET_NETWORKS",t.FETCH_V2V_PUBLIC_CLOUD_NETWORKS="FETCH_V2V_PUBLIC_CLOUD_NETWORKS",t.QUERY_ATTRIBUTES={source:"lans,ext_management_system.name,v_parent_datacenter",rhevm:"lans,ext_management_system.name",openstack:"cloud_networks,ext_management_system.name"},t.FETCH_NETWORK_URLS={source:"/api/clusters",rhevm:"/api/clusters",openstack:"/api/cloud_tenants",public:"/api/providers"},t.NETWORK_ATTRIBUTES={openstack:"cloud_networks",rhevm:"lans"},t.HAS_CLOUD_NETWORKS={openstack:!0,rhevm:!1}},320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FETCH_V2V_SOURCE_DATASTORES="FETCH_V2V_SOURCE_DATASTORES",t.FETCH_V2V_TARGET_DATASTORES="FETCH_V2V_TARGET_DATASTORES",t.QUERY_ATTRIBUTES={source:"storages,ext_management_system.name,v_parent_datacenter",rhevm:"storages,ext_management_system.name",openstack:"cloud_volume_types,ext_management_system.name"},t.FETCH_STORAGE_URLS={source:"/api/clusters",rhevm:"/api/clusters",openstack:"/api/cloud_tenants"},t.STORAGE_ATTRIBUTES={openstack:"cloud_volume_types",rhevm:"storages"}},321:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TARGET_WARNING_MESSAGES=t.QUERY_PROVIDERS_URL=t.QUERY_V2V_PROVIDERS=t.FETCH_V2V_TARGET_CLUSTERS=t.FETCH_V2V_SOURCE_CLUSTERS=void 0;var a=n(41);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.FETCH_V2V_SOURCE_CLUSTERS="FETCH_V2V_SOURCE_CLUSTERS",t.FETCH_V2V_TARGET_CLUSTERS="FETCH_V2V_TARGET_CLUSTERS",t.QUERY_V2V_PROVIDERS="QUERY_V2V_PROVIDERS",t.QUERY_PROVIDERS_URL="/api/providers",t.TARGET_WARNING_MESSAGES=(o(r={},a.RHV,__("You must enable at least one conversion host in the cluster. You can continue to create an infrastructure mapping that includes the target cluster, but you must enable a conversion host before running the migration plan.")),o(r,a.OPENSTACK,__("You must enable an RSA key pair on the OpenStack provider. You can continue to create an infrastructure mapping without the key pair, but you must enable it before running the migration plan.")),r)},322:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.FETCH_TARGET_COMPUTE_URLS=t.FETCH_V2V_TARGET_CLUSTERS=void 0;var a=n(88);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.FETCH_V2V_TARGET_CLUSTERS="FETCH_V2V_TARGET_CLUSTERS",t.FETCH_TARGET_COMPUTE_URLS=(o(r={},a.RHV,"/api/clusters?expand=resources&attributes=ext_management_system.emstype,v_parent_datacenter,ext_management_system.name,hosts&filter[]=ext_management_system.emstype=rhevm"),o(r,a.OPENSTACK,"/api/cloud_tenants?expand=resources&filter[]=ext_management_system.type=ManageIQ::Providers::Openstack::CloudManager&attributes=ext_management_system.name,ext_management_system.id,vms"),r)},323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.schemaValidationEnabled=!0,a=t.logSchemaError=function(e){console.error(e.name,e.errors)};t.validateSchema=function(e,t){r&&e.validate(t,{abortEarly:!1,strict:!0}).catch(function(e){a(e)})}},324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.redirectTo=void 0;var r=n(1058);t.redirectTo=function(e){return function(t,n){n().router.location.pathname!==e&&t((0,r.push)(e))}}},325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.V2V_NOTIFICATION_ADD="V2V_NOTIFICATION_ADD",t.V2V_NOTIFICATION_REMOVE="V2V_NOTIFICATION_REMOVE"},338:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),o=n(6);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.children;return r.default.createElement("span",{onClick:function(e){return e.stopPropagation()},onKeyUp:o.noop,role:"presentation"},t)};s.propTypes={children:a.default.node},t.default=s},351:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.networkKey=function(e){return e.clusterId+"\\"+(e.uid_ems||e.ems_ref)}},352:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapInfrastructureMappings=t.getHeaderText=t.getMappingType=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e){return e&&e.__esModule?e:{default:e}}(n(38)),o=n(351),i=n(897);var s=t.getMappingType=function(e){return e.some(function(e){return"CloudTenant"===e.destination_type})&&e.some(function(e){return"CloudVolumeType"===e.destination_type})&&e.some(function(e){return"CloudNetwork"===e.destination_type})?"openstack":"rhevm"};t.getHeaderText=function(e){return"openstack"===s(e)?{sourceNetworks:__("Source Provider \\ Datacenter \\ Cluster \\ Network"),targetNetworks:__("Target Provider \\ Project \\ Network"),sourceDatastores:__("Source Provider \\ Datacenter \\ Cluster \\ Datastore"),targetDatastores:__("Target Provider \\ Project \\ Volume Type"),sourceClusters:__("Source Provider \\ Datacenter \\ Cluster"),targetClusters:__("Target Provider \\ Project")}:{sourceNetworks:__("Source Networks"),targetNetworks:__("Target Networks"),sourceDatastores:__("Source Datastores"),targetDatastores:__("Target Datastores"),sourceClusters:__("Source Clusters"),targetClusters:__("Target Clusters")}},t.mapInfrastructureMappings=function(e,t,n,l,u,c,d){var f=e.filter(function(e){var t=e.destination_type.toLowerCase();return"emscluster"===t||"cloudtenant"===t}),p=e.filter(function(e){var t=e.destination_type.toLowerCase();return"storage"===t||"cloudvolumetype"===t}),m=e.filter(function(e){var t=e.destination_type.toLowerCase();return"lan"===t||"cloudnetwork"===t}),_=s(e),g={openstack:u,rhevm:t},v={openstack:d,rhevm:n},h={openstack:c,rhevm:l},y={},T=!0,E=!1,S=void 0;try{for(var P,b=function(){var e=P.value,n=t.find(function(t){return t.id===e.source_id}),r=g[_].find(function(t){return t.id===e.destination_id});if(!n||!r)return{v:{targetClusters:null,targetDatastores:null,targetNetworks:null}};y[r.id]?y[r.id].sourceClusters.push(n):(y[r.id]={},y[r.id].targetCluster=r,y[r.id].sourceClusters=[n])},A=f[Symbol.iterator]();!(T=(P=A.next()).done);T=!0){var C=b();if("object"===(void 0===C?"undefined":r(C)))return C.v}}catch(e){E=!0,S=e}finally{try{!T&&A.return&&A.return()}finally{if(E)throw S}}var O={openstack:[],rhevm:{}},M={CloudNetwork:{},Lan:{}};t.forEach(function(e){e.storages&&e.storages.length&&e.storages.forEach(function(t){O.rhevm[t.id]=e.id}),e.lans&&e.lans.length&&e.lans.forEach(function(t){M.Lan[t.id]=e.id})}),u.forEach(function(e){e.cloud_volume_types&&e.cloud_volume_types.length&&e.cloud_volume_types.forEach(function(t){O.openstack.push(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.id,e.id))}),e.cloud_networks&&e.cloud_networks.length&&e.cloud_networks.forEach(function(t){M.CloudNetwork[t.id]=e.id})});var R={},N=!1,I=!0,V=!1,w=void 0;try{for(var F,k=function(){var e=F.value,r=t.find(function(t){return t.id===O.rhevm[e.source_id]}),a=g[_].find(function(t){return"openstack"===_?O.openstack.find(function(n){return n[e.destination_id]===t.id}):t.id===O.rhevm[e.destination_id]}),o=n.find(function(t){return t.id===e.source_id}),i=v[_].find(function(t){return t.id===e.destination_id});if(!(r&&a&&o&&i))return N=!0,"break";var s={sourceDatastore:o,sourceCluster:r},l={targetDatastore:i,targetCluster:a};R[i.id]?R[i.id].sources.push(s):(R[i.id]={},R[i.id].target=l,R[i.id].sources=[s])},D=p[Symbol.iterator]();!(I=(F=D.next()).done);I=!0){if("break"===k())break}}catch(e){V=!0,w=e}finally{try{!I&&D.return&&D.return()}finally{if(V)throw w}}var j={},L=!1,H=!0,W=!1,U=void 0;try{for(var x,G=function(){var e=x.value;if(!(e.source_id in M[e.source_type]))return L=!0,"break";if(!(e.destination_id in M[e.destination_type]))return L=!0,"break";var n=t.find(function(t){return t.id===M[i.MAPPING_TYPE_RESOURCE_MAP[_].networks.source][e.source_id]}),r=g[_].find(function(t){return t.id===M[i.MAPPING_TYPE_RESOURCE_MAP[_].networks.target][e.destination_id]}),s=l.find(function(t){return t.id===e.source_id}),u=h[_].find(function(t){return t.id===e.destination_id});if(!(n&&r&&s&&u))return L=!0,"break";var c=a.default.set(s,"clusterId",n.id),d=a.default.set(u,"clusterId",r.id),f={sourceNetwork:c,sourceCluster:n},p={targetNetwork:d,targetCluster:r},m=(0,o.networkKey)(d);j[m]?-1===j[m].sources.findIndex(function(e){return(0,o.networkKey)(e.sourceNetwork)===(0,o.networkKey)(c)})&&j[m].sources.push(f):(j[m]={},j[m].target=p,j[m].sources=[f])},q=m[Symbol.iterator]();!(H=(x=q.next()).done);H=!0){if("break"===G())break}}catch(e){W=!0,U=e}finally{try{!H&&q.return&&q.return()}finally{if(W)throw U}}return{targetClusters:y,targetDatastores:N?null:R,targetNetworks:L?null:j}}},354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),o=n(6);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.children;return r.default.createElement(o.Grid.Row,{className:"toolbar-pf",style:{paddingTop:0}},r.default.createElement(o.Grid.Col,{xs:12},r.default.createElement(o.Breadcrumb,{style:{marginBottom:8}},t)))};s.propTypes={children:a.default.node},s.defaultProps={children:null},t.default=s},41:function(e,t,n){"use strict";var r,a,o;Object.defineProperty(t,"__esModule",{value:!0}),t.TRANSFORMATION_MAPPING_ITEM_DESTINATION_TYPES=t.TRANSFORMATION_MAPPING_ITEM_SOURCE_TYPES=t.V2V_TARGET_PROVIDER_NETWORK_KEYS=t.V2V_TARGET_PROVIDER_STORAGE_KEYS=t.V2V_TARGET_PROVIDERS=t.RHV=t.OPENSTACK=t.V2V_HIDE_MAPPING_WIZARD=t.V2V_SHOW_MAPPING_WIZARD=t.V2V_MAPPING_WIZARD_EXITED=t.V2V_HIDE_ALERT=t.V2V_SHOW_ALERT=t.V2V_HIDE_WARNING_MODAL=t.V2V_SHOW_WARNING_MODAL=t.V2V_SET_TRANSFORMATIONS_BODY=void 0;var i=n(88);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.V2V_SET_TRANSFORMATIONS_BODY="V2V_SET_TRANSFORMATIONS_BODY",t.V2V_SHOW_WARNING_MODAL="V2V_SHOW_WARNING_MODAL",t.V2V_HIDE_WARNING_MODAL="V2V_HIDE_WARNING_MODAL",t.V2V_SHOW_ALERT="V2V_SHOW_ALERT",t.V2V_HIDE_ALERT="V2V_HIDE_ALERT",t.V2V_MAPPING_WIZARD_EXITED="V2V_MAPPING_WIZARD_EXITED",t.V2V_SHOW_MAPPING_WIZARD="V2V_SHOW_MAPPING_WIZARD",t.V2V_HIDE_MAPPING_WIZARD="V2V_HIDE_MAPPING_WIZARD";t.OPENSTACK=i.OPENSTACK,t.RHV=i.RHV,t.V2V_TARGET_PROVIDERS=i.V2V_TARGET_PROVIDERS;t.V2V_TARGET_PROVIDER_STORAGE_KEYS=(s(r={},i.RHV,"storages"),s(r,i.OPENSTACK,"cloud_volume_types"),r),t.V2V_TARGET_PROVIDER_NETWORK_KEYS=(s(a={},i.RHV,"lans"),s(a,i.OPENSTACK,"cloud_networks"),a),t.TRANSFORMATION_MAPPING_ITEM_SOURCE_TYPES={cluster:"EmsCluster",datastore:"Storage",network:"Lan"},t.TRANSFORMATION_MAPPING_ITEM_DESTINATION_TYPES=(s(o={},i.OPENSTACK,{cluster:"CloudTenant",datastore:"CloudVolumeType",network:"CloudNetwork"}),s(o,i.RHV,{cluster:"EmsCluster",datastore:"Storage",network:"Lan"}),o)},461:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=l(n(1900)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(487)),s=l(n(1899));function l(e){return e&&e.__esModule?e:{default:e}}t.reducers={notifications:s.default};t.default=(0,a.connect)(function(e,t){var n=e.notifications;return r({},n,t.data)},i,function(e,t,n){return r(e,n.data,t)})(o.default)},462:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(t.getVMStepSelectedVms=function(e,t){return e.filter(function(e){return t.includes(e.id)})},t.getVmIdsWithProperty=function(e,t,n){var r=e&&e.options&&e.options.config_info&&e.options.config_info.actions;return r?r.filter(function(e){return e[t]}).map(function(e){return e.vm_id}).filter(function(e){return n.some(function(t){return t.id===e})}):[]});t.preselectPlaybooksForVms=function(e,t){var n=a(e,"pre_service",t),o=a(e,"post_service",t);return t.map(function(e){return r({},e,{preMigration:n.some(function(t){return t===e.id}),postMigration:o.some(function(t){return t===e.id})})})},t.applyPlaybookSelections=function(e,t){return e.map(function(e){return r({},e,{preMigration:t.preMigration.includes(e.id),postMigration:t.postMigration.includes(e.id)})})},t.updatePlaybookSelections=function(e,t){var n=e.map(function(e){return e.id});return{preMigration:t.preMigration.filter(function(e){return n.includes(e)}),postMigration:t.postMigration.filter(function(e){return n.includes(e)})}}},463:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetAdvancedOptionsStepAction=t.hideAlertAction=t.showAlertAction=t.resetVmStepAction=t.setPlanScheduleAction=t.setPlansBodyAction=t.setMetadataWithBackButtonClickedAction=t.setMetadataWithNextButtonClickedAction=t.planWizardExitedAction=t.hidePlanWizardAction=void 0;var r=n(37),a=n(55),o=n(251),i=n(314),s=n(315);t.hidePlanWizardAction=function(){return function(e){e({type:a.HIDE_PLAN_WIZARD})}},t.planWizardExitedAction=function(){return function(e){e({type:a.PLAN_WIZARD_EXITED}),e((0,r.reset)("planWizardGeneralStep")),e((0,r.reset)("planWizardVMStep")),e((0,r.reset)("planWizardInstancePropertiesStep")),e({type:s.V2V_VM_STEP_RESET}),e((0,r.reset)("planWizardScheduleStep")),e((0,r.reset)("planWizardAdvancedOptionsStep")),e({type:i.RESET_V2V_ADVANCED_OPTIONS_STEP_VMS})}},t.setMetadataWithNextButtonClickedAction=function(e){return function(t){t({type:a.PLAN_WIZARD_NEXT,payload:e})}},t.setMetadataWithBackButtonClickedAction=function(e){return function(t){t({type:a.PLAN_WIZARD_BACK,payload:e})}},t.setPlansBodyAction=function(e){return function(t){t({type:o.V2V_SET_PLANS_BODY,payload:e})}},t.setPlanScheduleAction=function(e){return function(t){t({type:o.V2V_SET_PLAN_SCHEDULE,payload:e})}},t.resetVmStepAction=function(){return function(e){e({type:s.V2V_VM_STEP_RESET}),e((0,r.reset)("planWizardVMStep"))}},t.showAlertAction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";return function(n){n({type:o.V2V_PLAN_WIZARD_SHOW_ALERT,payload:{alertText:e,alertType:t}})}},t.hideAlertAction=function(){return function(e){e({type:o.V2V_PLAN_WIZARD_HIDE_ALERT})}},t.resetAdvancedOptionsStepAction=function(){return function(e){e({type:i.RESET_V2V_ADVANCED_OPTIONS_STEP_VMS}),e((0,r.reset)("planWizardAdvancedOptionsStep"))}}},474:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.POST_V2V_TRANSFORM_MAPPINGS="POST_V2V_TRANSFORM_MAPPINGS",t.UPDATE_V2V_TRANSFORMATION_MAPPING="UPDATE_V2V_TRANSFORMATION_MAPPING",t.SOURCE_HREF_SLUGS={EmsCluster:"/api/clusters/",Storage:"/api/data_stores/",Lan:"/api/lans/"},t.DESTINATION_HREF_SLUGS={openstack:{CloudTenant:"/api/cloud_tenants/",CloudVolumeType:"/api/cloud_volume_types/",CloudNetwork:"/api/cloud_networks/"},rhevm:{EmsCluster:"/api/clusters/",Storage:"/api/data_stores/",Lan:"/api/lans/"}}},475:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(0)),a=l(n(1)),o=l(n(7)),i=l(n(531)),s=n(6);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.item,n=e.text,a=e.warningMessage,l=e.selected,u=e.handleClick,c=e.handleKeyPress,d=(0,o.default)("dual-pane-mapper-item",{selected:l}),f=a&&r.default.createElement(s.OverlayTrigger,{overlay:r.default.createElement(s.Popover,{id:"warning_for_"+n},r.default.createElement("div",{style:{maxWidth:400}},a)),placement:"top",trigger:["click"],delay:500,rootClose:!0,onClick:function(e){return e.stopPropagation()}},r.default.createElement(s.Icon,{type:"pf",name:"warning-triangle-o",className:"clickable-icon"}));return r.default.createElement("div",{className:d,onClick:function(){return u(t)},onKeyPress:function(){return c(t)},tabIndex:"0","aria-selected":l,role:"option"},r.default.createElement(i.default,{id:n},r.default.createElement("div",{className:"dual-pane-mapper-info"},r.default.createElement("span",{className:"dual-pane-mapper-item-container"},n,f),r.default.createElement("span",{className:"dual-pane-mapper-item-select-indicator fa fa-check"}))))};u.propTypes={item:a.default.object,text:a.default.string,warningMessage:a.default.string,selected:a.default.bool,handleClick:a.default.func,handleKeyPress:a.default.func},t.default=u},476:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),a=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.selectedItems,n=e.totalItems,a=1===n?__("%s of %s item selected"):__("%s of %s items selected");return r.default.createElement("div",{className:"dual-pane-mapper-count"},sprintf(a,t,n))};i.propTypes={selectedItems:a.default.number,totalItems:a.default.number},t.default=i},477:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(1)),o=s(n(7)),i=n(6);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.children,n=e.listTitle,a=e.loading,s=e.id,l=e.counter,u=(0,o.default)("dual-pane-mapper-items-container",{"has-counter":l,loading:a});return r.default.createElement("div",{className:"dual-pane-mapper-list-container"},r.default.createElement("div",{className:"dual-pane-mapper-list"},r.default.createElement("label",{htmlFor:"availableTitle"},r.default.createElement("span",{id:"listTitle"},n)),r.default.createElement("div",{className:u,id:s},a?r.default.createElement(i.Spinner,{loading:!0}):t)),l&&l)};l.propTypes={children:a.default.node,listTitle:a.default.string,id:a.default.string,loading:a.default.bool,counter:a.default.node},t.default=l},478:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),o=n(6);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.children,n=e.handleButtonClick,a=e.validMapping;return r.default.createElement("div",{className:"dual-pane-mapper-container"},r.default.createElement("div",{className:"dual-pane-mapper"},t),r.default.createElement(o.Button,{bsStyle:"primary",disabled:a,onClick:n},__("Add Mapping")))};s.propTypes={children:a.default.node,handleButtonClick:a.default.func,validMapping:a.default.bool},t.default=s},479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=f(n(2019)),i=d(n(489)),s=d(n(324)),l=d(n(486)),u=f(n(2014)),c=n(802);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}t.reducers={mappings:u.default,form:{}};t.default=(0,a.connect)(function(e,t){var n=e.mappings,a=e.overview,o=a.archivedTransformationPlans,i=a.transformationPlans,s=a.planId,l=e.providers,u=l.hasSufficientProviders,d=l.isRejectedProviders,f=l.isFetchingProviders;return r({},n,t.data,{archivedTransformationPlans:o,transformationPlans:i,hasSufficientProviders:u,isRejectedProviders:d,isFetchingProviders:f,activeTransformationPlans:(0,c.activeTransformationPlansFilter)(i,s),finishedWithErrorTransformationPlans:(0,c.finishedWithErrorTransformationPlansFilter)(i),notStartedTransformationPlans:(0,c.notStartedTransformationPlansFilter)(i)})},r({},i,s,l),function(e,t,n){return r({},e,n.data,t)})(o.default)},480:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=c(n(2029)),i=u(n(2024)),s=u(n(487)),l=c(n(2021));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}t.reducers={plan:l.default,form:{}};t.default=(0,a.connect)(function(e,t){var n=e.plan,a=t.data,o=a.match.params.id;return r({},n,a,{planId:o})},r(i,s),function(e,t,n){return r(e,n.data,t)})(o.default)},481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),a=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.title,n=e.message,a=e.onClose;return r.default.createElement("div",{className:"wizard-pf-complete blank-slate-pf"},r.default.createElement("div",{className:"wizard-pf-success-icon"},r.default.createElement("span",{className:"pficon pficon-error-circle-o"})),r.default.createElement("h3",{className:"blank-slate-pf-main-action"},t),r.default.createElement("p",{className:"blank-slate-pf-secondary-action"},n),a?r.default.createElement("button",{type:"button",className:"btn btn-lg btn-primary",onClick:a},__("Close")):null)};i.propTypes={title:a.default.string.isRequired,message:a.default.string,onClose:a.default.func},i.defaultProps={message:""},t.default=i},482:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(1)),o=n(6);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.title,n=e.message;return r.default.createElement("div",{className:"wizard-pf-process blank-slate-pf"},r.default.createElement(o.Spinner,{loading:!0,size:"lg",className:"blank-slate-pf-icon"}),r.default.createElement("h3",{className:"blank-slate-pf-main-action"},t),r.default.createElement("p",{className:"blank-slate-pf-secondary-action"},n))};s.propTypes={title:a.default.string.isRequired,message:a.default.string},s.defaultProps={message:""},t.default=s},483:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(2044)),a=i(n(2043)),o=i(n(2042));function i(e){return e&&e.__esModule?e:{default:e}}r.default.StateProvider=o.default,r.default.Body=a.default,t.default=r.default},484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ERROR="Error",t.OK="Ok",t.FINISHED="Finished",t.ENABLE="enable",t.DISABLE="disable"},485:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=l(n(2066)),i=l(n(2030)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(324));function l(e){return e&&e.__esModule?e:{default:e}}t.reducers={settings:i.default};t.default=(0,a.connect)(function(){return{}},s,function(e,t,n){return r(e,n.data,t)})(o.default)},486:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchProvidersAction=void 0;var r=i(n(62)),a=i(n(52)),o=n(202);function i(e){return e&&e.__esModule?e:{default:e}}t.fetchProvidersAction=function(e){return function(e){return function(t){return t({type:o.FETCH_V2V_PROVIDERS,payload:a.default.get(e)})}}(new r.default(e).toString())}},487:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeNotificationAction=t.addNotificationAction=void 0;var r=n(325);t.addNotificationAction=function(e){return function(t){t({type:r.V2V_NOTIFICATION_ADD,header:e.header,message:e.message,notificationType:e.notificationType,data:e.data,persistent:e.persistent,timerdelay:e.timerdelay||8e3,actionEnabled:e.actionEnabled})}},t.removeNotificationAction=function(e){return function(t){t({type:r.V2V_NOTIFICATION_REMOVE,key:e})}}},488:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_V2V_EDITING_MAPPING="SET_V2V_EDITING_MAPPING",t.FETCH_V2V_CONVERSION_HOSTS="FETCH_V2V_CONVERSION_HOSTS"},489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yesToDeleteInfrastructureMappingAction=t.showMappingWizardEditModeAction=t.showMappingWizardAction=t.showDeleteConfirmationModalAction=t.setMappingToDeleteAction=t.hideDeleteConfirmationModalAction=t.fetchTransformationMappingsAction=t.fetchNetworksAction=t.fetchDatastoresAction=t.fetchClustersAction=t.fetchCloudVolumeTypesAction=t.fetchCloudTenantsAction=t.fetchCloudNetworksAction=t.deleteInfrastructureMappingAction=t.fetchTransformationPlansAction=void 0;var r=n(258);Object.defineProperty(t,"fetchTransformationPlansAction",{enumerable:!0,get:function(){return r.fetchTransformationPlansAction}});var a=u(n(62)),o=u(n(52)),i=n(164),s=n(41),l=n(488);function u(e){return e&&e.__esModule?e:{default:e}}t.deleteInfrastructureMappingAction=function(e){return function(t){return t({type:i.DELETE_V2V_INFRASTRUCTURE_MAPPING,payload:new Promise(function(t,n){o.default.post("/api/transformation_mappings/"+e.id,{action:"delete"}).then(function(e){t(e)}).catch(function(e){return n(e)})})})}},t.fetchCloudNetworksAction=function(e){return function(e){return function(t){return t({type:i.FETCH_V2V_CLOUD_NETWORKS,payload:o.default.get(e)})}}(new a.default(e).toString())},t.fetchCloudTenantsAction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new a.default(e);return t.addSearch&&n.addSearch(t.addSearch),function(e){return function(t){return t({type:i.FETCH_V2V_CLOUD_TENANTS,payload:o.default.get(e)})}}(n.toString())},t.fetchCloudVolumeTypesAction=function(e){return function(e){return function(t){return t({type:i.FETCH_V2V_CLOUD_VOLUME_TYPES,payload:o.default.get(e)})}}(new a.default(e).toString())},t.fetchClustersAction=function(e){return function(e){return function(t){return t({type:i.FETCH_V2V_CLUSTERS,payload:o.default.get(e)})}}(new a.default(e).toString())},t.fetchDatastoresAction=function(e){return function(e){return function(t){return t({type:i.FETCH_V2V_DATASTORES,payload:o.default.get(e)})}}(new a.default(e).toString())},t.fetchNetworksAction=function(e){return function(e){return function(t){return t({type:i.FETCH_V2V_NETWORKS,payload:o.default.get(e)})}}(new a.default(e).toString())},t.fetchTransformationMappingsAction=function(e){return function(e){return function(t){return t({type:i.FETCH_V2V_TRANSFORMATION_MAPPINGS,payload:o.default.get(e)})}}(new a.default(e).toString())},t.hideDeleteConfirmationModalAction=function(){return{type:i.HIDE_V2V_DELETE_CONFIRMATION_MODAL,payload:!1}},t.setMappingToDeleteAction=function(e){return{type:i.SET_V2V_MAPPING_TO_DELETE,payload:e}},t.showDeleteConfirmationModalAction=function(){return{type:i.SHOW_V2V_DELETE_CONFIRMATION_MODAL,payload:!0}},t.showMappingWizardAction=function(){return{type:s.V2V_SHOW_MAPPING_WIZARD}},t.showMappingWizardEditModeAction=function(e){return function(t){t({type:s.V2V_SHOW_MAPPING_WIZARD}),t({type:l.SET_V2V_EDITING_MAPPING,payload:e})}},t.yesToDeleteInfrastructureMappingAction=function(){return{type:i.YES_TO_DELETE_AND_HIDE_DELETE_CONFIRMATION_MODAL}}},504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=e&&e.schedules&&e.schedules[0].run_at.start_time||0,n=new Date(t).getTime()<Date.now(),r=n&&new Date(t).getTime()>Date.now()-12e4;return{migrationScheduled:t,staleMigrationSchedule:n,migrationStarting:r,showInitialScheduleButton:n&&!r}}},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.API;t.default={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.get(e,{transformResponse:function(e){return{data:e}},headers:t,params:n})},put:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.put(e,t,{headers:n})},post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.post(e,t,{headers:n,transformResponse:function(e){return{data:e}}})},delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.delete(e,{headers:t})},patch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.patch(e,t,{headers:n})}}},532:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(899));t.default=function(e,t){var n=t.map(function(e){return e.vm_id}),a=e.map(function(e){return e.miq_request_tasks}),o=[];r.default.flatten(a,o);var i=r.default.groupBy(o,"source_id"),s=[];s.push(n.reduce(function(e,t){var n=r.default.getMostRecentEntityByCreationDate(i[t]);return n?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[n]):e},[]));var l=[];return r.default.flatten(s,l),l}},533:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsoElapsedTime=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(4));t.IsoElapsedTime=function(e,t){var n=(0,r.default)(t).diff(e,"hours"),a=(0,r.default)(t).diff(e,"minutes")%60,o=(0,r.default)(t).diff(e,"seconds")%60,i=Math.floor(n/24);n%=24;return i>=2?sprintf(__("%s days %02s:%02s:%02s"),i,n,a,o):1===i?sprintf(__("1 day %02s:%02s:%02s"),n,a,o):sprintf(__("%02s:%02s:%02s"),n,a,o)}},539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PLAN_JOB_STATUS=t.PLAN_JOB_STATES=t.plansSchema=void 0;var r=n(101),a=n(2422);t.plansSchema=(0,r.array)().of((0,r.object)().shape({href:(0,r.string)().required(),id:(0,r.string)().required(),name:(0,r.string)().required(),description:(0,r.string)().nullable(),options:(0,r.object)().shape({config_info:(0,r.object)().shape({transformation_mapping_id:(0,r.string)().required(),actions:(0,r.array)().of((0,r.object)().shape({vm_id:(0,r.string)().required()})).nullable()})}).required(),created_at:(0,r.string)().required(),miq_requests:(0,r.array)().of((0,r.object)().shape({href:(0,r.string)().required(),id:(0,r.string)().required(),description:(0,r.string)().required(),created_on:(0,r.string)().required(),updated_on:(0,r.string)().nullable(),fulfilled_on:(0,r.string)().nullable(),request_state:(0,r.string)().required(),status:(0,r.string)().required(),options:(0,r.object)().shape({src_id:(0,r.string)(),delivered_on:(0,r.string)().nullable()}).required()})).nullable(),schedules:(0,r.array)().of(a.schedulesSchema).nullable()})).nullable(),t.PLAN_JOB_STATES={PENDING:"pending",ACTIVE:"active",FINISHED:"finished"},t.PLAN_JOB_STATUS={OK:"Ok",ERROR:"Error"}},540:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=p(n(2484)),i=f(n(258)),s=f(n(487)),l=f(n(486)),u=f(n(324)),c=p(n(2070)),d=n(802);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}t.reducers={overview:c.default,form:{}};t.default=(0,a.connect)(function(e,t){var n=e.overview,a=e.overview,o=a.transformationPlans,i=(a.allRequestsWithTasks,a.planId),s=a.cloudTenants,l=e.providers,u=n.requestsProcessingCancellation,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["requestsProcessingCancellation"]);return r({},c,l,t.data,{notStartedTransformationPlans:(0,d.notStartedTransformationPlansFilter)(o),activeTransformationPlans:(0,d.attachTargetProviderToOspPlans)((0,d.activeTransformationPlansFilter)(o,i),l.providers,s),finishedTransformationPlans:(0,d.finishedTransformationPlansFilter)(o),requestsProcessingCancellation:(0,d.combineRequestsProcessingCancellation)(u,(0,d.requestsProcessingCancellationFilter)(o))})},r(i,s,l,u),function(e,t,n){return r(e,n.data,t)})(o.default)},55:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SHOW_PLAN_WIZARD="SHOW_PLAN_WIZARD",t.SHOW_PLAN_WIZARD_EDIT_MODE="SHOW_PLAN_WIZARD_EDIT_MODE",t.HIDE_PLAN_WIZARD="HIDE_PLAN_WIZARD",t.SHOW_EDIT_PLAN_TITLE_MODAL="SHOW_EDIT_PLAN_TITLE_MODAL",t.HIDE_EDIT_PLAN_TITLE_MODAL="HIDE_EDIT_PLAN_TITLE_MODAL",t.PLAN_WIZARD_EXITED="PLAN_WIZARD_EXITED",t.PLAN_WIZARD_NEXT="PLAN_WIZARD_NEXT",t.PLAN_WIZARD_BACK="PLAN_WIZARD_BACK",t.CONTINUE_TO_PLAN="CONTINUE_TO_PLAN",t.V2V_SET_MIGRATIONS_FILTER="V2V_SET_MIGRATIONS_FILTER",t.V2V_AUTO_SET_MIGRATIONS_FILTER="V2V_AUTO_SET_MIGRATIONS_FILTER",t.V2V_RETRY_MIGRATION="V2V_RETRY_MIGRATION",t.V2V_TOGGLE_SCHEDULE_MIGRATION_MODAL="V2V_TOGGLE_SCHEDULE_MIGRATION_MODAL",t.V2V_SCHEDULE_MIGRATION="V2V_SCHEDULE_MIGRATION",t.V2V_EDIT_PLAN_REQUEST="V2V_EDIT_PLAN_REQUEST",t.V2V_CANCEL_PLAN_REQUEST="V2V_CANCEL_PLAN_REQUEST",t.SHOW_CONFIRM_MODAL="SHOW_CONFIRM_MODAL",t.HIDE_CONFIRM_MODAL="HIDE_CONFIRM_MODAL",t.ARCHIVE_TRANSFORMATION_PLAN="ARCHIVE_TRANSFORMATION_PLAN",t.DELETE_TRANSFORMATION_PLAN="DELETE_TRANSFORMATION_PLAN",t.FETCH_V2V_TRANSFORMATION_MAPPINGS="FETCH_V2V_TRANSFORMATION_MAPPINGS",t.FETCH_V2V_TRANSFORMATION_PLANS="FETCH_V2V_TRANSFORMATION_PLANS",t.FETCH_V2V_SERVICE_TEMPLATE_ANSIBLE_PLAYBOOKS="FETCH_V2V_SERVICE_TEMPLATE_ANSIBLE_PLAYBOOKS",t.FETCH_V2V_ARCHIVED_TRANSFORMATION_PLANS="FETCH_V2V_ARCHIVED_TRANSFORMATION_PLANS",t.CREATE_V2V_TRANSFORMATION_PLAN_REQUEST="CREATE_V2V_TRANSFORMATION_PLAN_REQUEST",t.FETCH_V2V_ALL_REQUESTS_WITH_TASKS="FETCH_V2V_ALL_REQUESTS_WITH_TASKS",t.FETCH_V2V_ALL_ARCHIVED_PLAN_REQUESTS_WITH_TASKS="FETCH_V2V_ALL_ARCHIVED_PLAN_REQUESTS_WITH_TASKS",t.MIGRATIONS_FILTERS={notStarted:__("Not Started Plans"),inProgress:__("In Progress Plans"),completed:__("Completed Plans"),archived:__("Archived Plans")},t.OSP_TENANT="CloudTenant",t.OSP_VOLUME="CloudVolumeType",t.OSP_NETWORK="CloudNetwork",t.EMS_CLUSTER="EmsCluster",t.FETCH_TRANSFORMATION_PLANS_URL="/api/service_templates/?filter[]=type='ServiceTemplateTransformationPlan'&filter[]=active=true&expand=resources,schedules&attributes=name,description,miq_requests,options,created_at,transformation_mapping,transformation_mapping.transformation_mapping_items&sort_by=updated_at&sort_order=desc",t.FETCH_ARCHIVED_TRANSFORMATION_PLANS_URL="/api/service_templates/?filter[]=type='ServiceTemplateTransformationPlan'&filter[]=archived=true&expand=resources&attributes=name,description,miq_requests,options,created_at,transformation_mapping&sort_by=updated_at&sort_order=desc",t.TRANSFORMATION_PLAN_REQUESTS_URL="/api/requests",t.WAITING_FOR_CONVERSION_HOST_MESSAGES={notAvailable:__("Waiting for an available conversion host. You can continue waiting or go to the Migration Settings page to increase the number of migrations per host"),noRsaKey:__("No RSA key pair exists on the OpenStack provider. Cancel the migration, add the key, and retry.")}},61:function(e,t,n){"use strict";var r,a,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{a="function"==typeof clearTimeout?clearTimeout:s}catch(e){a=s}}();var u,c=[],d=!1,f=-1;function p(){d&&u&&(d=!1,u.length?c=u.concat(c):f=-1,c.length&&m())}function m(){if(!d){var e=l(p);d=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,d=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new _(e,t)),1!==c.length||d||l(m)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},762:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.QUERY_V2V_OSP_TENANT_ATTRIBUTES="QUERY_V2V_OSP_TENANT_ATTRIBUTES",t.SET_V2V_INSTANCE_PROPERTIES_ROWS="SET_V2V_INSTANCE_PROPERTIES_ROWS",t.QUERY_V2V_OSP_BEST_FIT_FLAVOR="QUERY_V2V_OSP_BEST_FIT_FLAVOR",t.SET_V2V_BEST_FIT_FLAVORS_AND_DEFAULT_SECURITY_GROUPS="SET_V2V_BEST_FIT_FLAVORS_AND_DEFAULT_SECURITY_GROUPS",t.PLAN_WIZARD_EXITED="PLAN_WIZARD_EXITED",t.PLAN_WIZARD_NEXT="PLAN_WIZARD_NEXT"},763:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allFitFlavorIdsForVM=t.getVmsWithTargetClusterName=t.getDestinationTenantIdsBySourceClusterId=t.getTenantsById=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(55);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.getTenantsById=function(e){return e.reduce(function(e,t){return r({},e,o({},t.id,r({},t)))},{})},t.getDestinationTenantIdsBySourceClusterId=function(e){return e.filter(function(e){return e.destination_type===a.OSP_TENANT&&e.source_type===a.EMS_CLUSTER}).reduce(function(e,t){return r({},e,o({},t.source_id,t.destination_id))},{})},t.getVmsWithTargetClusterName=function(e,t,n){return e.map(function(e){var a=t[e.ems_cluster_id],o=a&&n[a];return r({},e,{target_cluster_name:o?o.name:""})})},t.allFitFlavorIdsForVM=function(e,t){var n=e.find(function(e){return e.source_href_slug==="vms/"+t});return(n?n.all_fit:[]).map(function(e){return e.slice("flavors/".length)})}},764:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=c(n(1910)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1902)),s=c(n(1901)),l=n(462),u=n(135);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.reducers={planWizardInstancePropertiesStep:s.default};t.default=(0,a.connect)(function(e,t){var n=e.overview,a=n.transformationMappings,o=n.transformationPlans,i=n.editingPlanId,s=e.planWizardInstancePropertiesStep,c=e.planWizardVMStep,f=e.form,p=f.planWizardGeneralStep.values,m=(p.vm_choice_radio,p.infrastructure_mapping),_=f.planWizardVMStep.values.selectedVms,g=f.planWizardInstancePropertiesStep,v=(0,u.findEditingPlan)(o,i),h=[].concat(d(c.valid_vms),d(c.invalid_vms),d(c.conflict_vms)),y=a&&m&&a.find(function(e){return e.id===m});return r({},s,t.data,{instancePropertiesStepForm:g,vmStepSelectedVms:(0,l.getVMStepSelectedVms)(h,_).map(function(e){return r({},e,{osp_security_group:{},osp_flavor:{}})}),selectedMapping:y,editingPlan:v,shouldPrefillForEditing:v&&v.transformation_mapping&&v.transformation_mapping.id===m})},i,function(e,t,n){return r({},e,n.data,t)})(o.default)},765:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=c(n(1919)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1915)),s=n(462),l=c(n(1914)),u=n(135);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.reducers={planWizardAdvancedOptionsStep:l.default};t.default=(0,a.connect)(function(e,t){var n=e.planWizardAdvancedOptionsStep,a=e.planWizardVMStep,o=e.overview,i=o.transformationPlans,l=o.editingPlanId,c=e.form,f=c.planWizardGeneralStep.values,p=(f.vm_choice_radio,f.infrastructure_mapping),m=c.planWizardVMStep.values.selectedVms,_=c.planWizardAdvancedOptionsStep,g=(0,u.findEditingPlan)(i,l),v=g&&g.transformation_mapping&&g.transformation_mapping.id===p,h=[].concat(d(a.valid_vms),d(a.invalid_vms),d(a.conflict_vms)),y=g&&g.options&&g.options.config_info,T=(0,s.getVMStepSelectedVms)(h,m);return r({},n,t.data,{advancedOptionsStepForm:_,vmStepSelectedVms:T,initialValues:{playbookVms:{preMigration:v?(0,s.getVmIdsWithProperty)(g,"pre_service",T):[],postMigration:v?(0,s.getVmIdsWithProperty)(g,"post_service",T):[]},preMigrationPlaybook:v?y.pre_service_id:"",postMigrationPlaybook:v?y.post_service_id:""},enableReinitialize:!0,keepDirtyOnReinitialize:!0,editingPlan:g,shouldPrefillForEditing:v})},i,function(e,t,n){return r({},e,n.data,t)})(o.default)},766:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=c(n(1927)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(463)),s=n(135),l=n(258),u=c(n(1920));function c(e){return e&&e.__esModule?e:{default:e}}t.reducers={planWizard:u.default};var d=r({},i,{setMigrationsFilterAction:l.setMigrationsFilterAction,showConfirmModalAction:l.showConfirmModalAction,hideConfirmModalAction:l.hideConfirmModalAction});t.default=(0,a.connect)(function(e,t){var n=e.overview,a=e.planWizard,o=e.form,i=(0,s.planWizardOverviewFilter)(n),l=(0,s.planWizardFormFilter)(o);return r({},a,i,l,t.data)},d,function(e,t,n){return r(e,n.data,t)})(o.default)},767:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.POST_V2V_MIGRATION_PLANS="POST_V2V_MIGRATION_PLANS",t.PUT_V2V_MIGRATION_PLANS="PUT_V2V_MIGRATION_PLANS",t.POST_V2V_MIGRATION_REQUESTS="POST_V2V_MIGRATION_REQUESTS"},768:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=u(n(1931)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1929)),s=u(n(1928)),l=n(135);function u(e){return e&&e.__esModule?e:{default:e}}t.reducers={planWizardResultsStep:s.default};t.default=(0,a.connect)(function(e,t){var n=e.planWizardResultsStep,a=e.planWizard,o=e.overview,i=o.transformationPlans,s=o.transformationMappings,u=o.editingPlanId,c=e.form;return r({},n,a,t.data,{targetProvider:(0,l.getCurrentTargetProvider)(c,s),editingPlan:(0,l.findEditingPlan)(i,u)})},i,function(e,t,n){return r(e,n.data,t)})(o.default)},769:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVmIds=t._formatConflictVms=t._formatInvalidVms=t._formatValidVms=t.parseVmPath=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){return e&&e.__esModule?e:{default:e}}(n(534)),o=n(315);function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=function(e,t,n){var r=e.id&&n.indexOf(e.id);r>-1?n.splice(r,1):-1===r&&(e.reason=o.V2V_VM_POST_VALIDATION_REASONS.duplicate,e.warning=!1,e.valid=!1,e.invalid=!0,e.id="duplicate-"+e.id+"-"+t)},l=function(e){return e&&e.map(function(e,t){return e.id?e:function(e,t){return e.id?e:r({},e,{id:"no-id-"+t})}(e,t)})},u=function(e,t,n){s(e,t,n),function(e){e.reason||(e.reason=o.V2V_VM_POST_VALIDATION_REASONS.no_info_available)}(e)},c=t.parseVmPath=function(e){if(void 0===e.path)return{provider:"",datacenter:"",folder:""};var t=function(e){return Array.isArray(e)?e:Array.from(e)}(e.path.split("/")),n=t[0],r=t[1],a=t.slice(2);return{provider:n,datacenter:r||"",folder:"/"+a.join("/")}},d=function(e,t){if(!e)return[];var n=t.csvRows&&t.csvRows.length>0&&t.csvRows.reduce(function(e,t){return r({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t.name,t))},{});return e.map(function(e){return r({},e,c(e),{csvFields:n&&n[e.name]})})};t._formatValidVms=function(e,t){var n=d(e,t),r=n&&[].concat(i(new Set(n.map(function(e){return e.id}))));return n&&n.map(function(e,t){return e.valid=!0,e.allocated_size=(0,a.default)(e.allocated_size).format("0.00b"),e.reason=o.V2V_VM_POST_VALIDATION_REASONS[e.reason],s(e,t,r),e})},t._formatInvalidVms=function(e,t){var n=d(e,t),r=l(n),s=r&&[].concat(i(new Set(r.map(function(e){return e.id}))));return r&&r.map(function(e,t){return e.allocated_size=(0,a.default)(e.allocated_size).format("0.00b"),e.reason=o.V2V_VM_POST_VALIDATION_REASONS[e.reason],e.reason===o.V2V_VM_POST_VALIDATION_REASONS.migrated||e.reason===o.V2V_VM_POST_VALIDATION_REASONS.in_other_plan?e.warning=!0:e.invalid=!0,u(e,t,s),e})},t._formatConflictVms=function(e,t){var n=d(e,t),r=n&&n.filter(function(e){return""===e.cluster||""===e.path}).length||0,s=n&&n.length||0,c=r>0?s-r:s,f=l(n),p=f&&[].concat(i(new Set(f.map(function(e){return e.id}))));return f&&f.map(function(e,t){return e.allocated_size=(0,a.default)(e.allocated_size).format("0.00b"),e.reason=o.V2V_VM_POST_VALIDATION_REASONS[e.reason],""===e.cluster||""===e.path?(e.reason=o.V2V_VM_POST_VALIDATION_REASONS.inactive,e.invalid=!0):1===c?(e.reason=o.V2V_VM_POST_VALIDATION_REASONS.ok,e.valid=!0):c>1&&(e.warning=!0),u(e,t,p),e})},t.getVmIds=function(e){return e&&e.options&&e.options.config_info&&e.options.config_info.actions&&e.options.config_info.actions.map(function(e){return e.vm_id})}},776:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(0)),o=l(n(1)),i=l(n(7)),s=n(6);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={dropdownShown:!1,currentValue:""},r.onValueKeyPress=function(e){var t=r.props.onEnter,n=r.state.currentValue;"Enter"===e.key&&t&&t(n)},r.handleValueChange=function(e){var t=r.props.onChange;r.setState({currentValue:e.target.value}),t&&t(e.target.value)},r.hideDropdown=function(){var e=r.props.onExit;r.setState({dropdownShown:!1}),e()},r.toggleDropdownShown=function(){r.setState(function(e){return{dropdownShown:!e.dropdownShown}})},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.dropdownShown,r=t.currentValue,o=this.props,l=o.className,u=o.placeholder,c=(0,i.default)("form-group toolbar-pf-find",l),d=(0,i.default)("find-pf-dropdown-container",{show:n});return a.default.createElement("div",{className:c},a.default.createElement(s.Button,{bsStyle:"link",className:"btn-find",onClick:this.toggleDropdownShown},a.default.createElement(s.Icon,{type:"fa",name:"search"})),a.default.createElement("div",{className:d},a.default.createElement(s.FormControl,{type:"text",id:"find",value:r,placeholder:u,onKeyPress:function(t){return e.onValueKeyPress(t)},onChange:this.handleValueChange}),a.default.createElement("div",{className:"find-pf-buttons"},a.default.createElement(s.Button,{bsStyle:"link",className:"btn-find-close",onClick:this.hideDropdown},a.default.createElement(s.Icon,{type:"pf",name:"close"})))))}}]),t}();c.propTypes={className:o.default.string,placeholder:o.default.string,onEnter:o.default.func,onChange:o.default.func,onExit:o.default.func},c.defaultProps={className:"",placeholder:"",onEnter:s.noop,onChange:s.noop,onExit:s.noop},t.default=c},777:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e&&t&&t.length){var n=[];return t.forEach(function(t){var r=Object.values(t).some(function(t){return(""+(t||"")).indexOf(e)>-1});r&&n.push(t)}),n}return t}},778:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e&&e.length&&t&&t.length){var n=[];return t.forEach(function(t){var r=e.every(function(e){return t[e.field.id]&&e.value?(""+t[e.field.id].toLowerCase()).indexOf(e.value.toLowerCase())>-1:null});r&&n.push(t)}),n}return t}},783:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=u(n(1979)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1933)),s=u(n(1932)),l=n(135);function u(e){return e&&e.__esModule?e:{default:e}}t.reducers={planWizardVMStep:s.default};t.default=(0,a.connect)(function(e,t){var n=e.planWizardVMStep,a=e.form,o=e.overview,i=(0,l.findEditingPlan)(o.transformationPlans,o.editingPlanId),s=a.planWizardGeneralStep.values.infrastructure_mapping;return r({},n,t.data,{vm_choice_radio:a.planWizardGeneralStep.values.vm_choice_radio,infrastructure_mapping_id:s,editingPlan:i,shouldPrefillForEditing:i&&i.transformation_mapping&&i.transformation_mapping.id===s,formSelectedVms:a.planWizardVMStep&&a.planWizardVMStep.values&&a.planWizardVMStep.values.selectedVms})},i)(o.default)},784:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=c(n(1983)),i=u(n(1981)),s=u(n(324)),l=c(n(1980));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}t.reducers={mappingWizardResultsStep:l.default};t.default=(0,a.connect)(function(e,t){var n=e.mappingWizardResultsStep,a=e.mappingWizard,o=e.mappingWizardGeneralStep.editingMapping,i=e.form.mappingWizardGeneralStep;return r({editingMapping:o,targetProvider:i.values.targetProvider},n,a,t.data)},r({},i,s),function(e,t,n){return r(e,n.data,t)})(o.default)},785:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineNetworks=t.uniqueNetworks=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(351),o=n(1986);function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.uniqueNetworks=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){return r({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},(0,a.networkKey)(t),e[(0,a.networkKey)(t)]?[].concat(i(e[(0,a.networkKey)(t)]),[t]):[t]))},{})},t.combineNetworks=function(e,t){var n=t.filter(function(e){return e.shared}).map(o.normalizeCloudNetworkHref);return[].concat(i(n),i(e)).reduce(function(e,t){return e.some(function(e){return e.id===t.id})?e:[].concat(i(e),[t])},[])}},786:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNetworksMappings=t.mappingWithSourceNetworkRemoved=t.mappingWithTargetNetworkRemoved=t.mappingsForTreeView=t.dedupeMappedTargetNetworks=t.dedupeMappedSourceNetworks=t.networkGroupingForRep=t.sourceNetworkWithTreeViewAttrs=t.targetNetworkWithTreeViewAttrs=t.clustersMappingWithTreeViewAttrs=t.sourceNetworksFilter=t.getRepresentatives=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=f(n(62)),i=n(200),s=f(n(52)),l=n(41),u=n(319),c=n(785),d=n(351);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var _=t.getRepresentatives=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];for(var n in e)({}).hasOwnProperty.call(e,n)&&t.push(e[n][0]);return t},g=(t.sourceNetworksFilter=function(e,t){var n=t.reduce(function(e,t){var n=t.nodes.reduce(function(e,t){return[].concat(m(e),m(t.nodes))},[]);return[].concat(m(e),m(n))},[]);return _(e).filter(function(e){return!n.some(function(t){return(0,d.networkKey)(t)===(0,d.networkKey)(e)})})},t.clustersMappingWithTreeViewAttrs=function(e){return a({},e,{text:e.name,selectable:!1})},t.targetNetworkWithTreeViewAttrs=function(e){return a({},e,{text:e.providerName+" \\ "+e.name,selectable:!0,selected:!1,state:{expanded:!0}})}),v=t.sourceNetworkWithTreeViewAttrs=function(e,t){return a({},e,{text:e.providerName+" \\ "+e.name,icon:"fa fa-file-o",sourceClusterId:t.id,selectable:!0,selected:!1})},h=(t.networkGroupingForRep=function(e,t,n){return t[(0,d.networkKey)(e)].map(function(e){return v(e,n)})},function(e){var t=e.nodes,n=p(e,["nodes"]),r=(0,c.uniqueNetworks)(t);return a({},n,{nodes:_(r)})});t.dedupeMappedSourceNetworks=h;var y=function(e){var t=e.nodes,n=p(e,["nodes"]),r=(0,c.uniqueNetworks)(t);return a({},n,{nodes:_(r)})};t.dedupeMappedTargetNetworks=y;t.mappingsForTreeView=function(e){return e.reduce(function(e,t){var n=y(t).nodes.reduce(function(e,t){return[].concat(m(e),[h(t)])},[]),r=a({},t,{nodes:n});return[].concat(m(e),[r])},[])};t.mappingWithTargetNetworkRemoved=function(e,t){var n=e.nodes,r=p(e,["nodes"]),o=n.filter(function(e){return e.id!==t.id});return 0===o.length?null:a({},r,{nodes:o})};t.mappingWithSourceNetworkRemoved=function(e,t){var n=e.nodes,r=p(e,["nodes"]),o=n.filter(function(e){return(0,d.networkKey)(e)!==(0,d.networkKey)(t)});return 0===o.length?null:a({},r,{nodes:o})};var T=function(e,t){var n=new o.default(u.FETCH_NETWORK_URLS[t]+"/"+e);return n.addSearch({attributes:u.QUERY_ATTRIBUTES[t]}),n.toString()},E=function(e,t){return e.map(function(e){return new Promise(function(n,r){s.default.get(T(e,t)).then(function(r){var o=r.data[u.NETWORK_ATTRIBUTES[t]].map(function(t){return a({},t,{clusterId:e,providerName:r.data.ext_management_system.name})});n(a({},r.data,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},u.NETWORK_ATTRIBUTES[t],o)))}).catch(function(e){return r(e)})})})},S=function(e,t){return u.HAS_CLOUD_NETWORKS[t]?e.map(function(e){return new Promise(function(t,n){s.default.get(function(e){var t=new o.default(u.FETCH_NETWORK_URLS.public+"/"+e+"/cloud_networks");return t.addSearch({expand:"resources"}),t.toString()}(e.ext_management_system.id)).then(function(n){return t(n.data.resources.map(function(t){return a({},t,{providerName:e.ext_management_system.name,clusterId:e.id})}))}).catch(function(e){return n(e)})})}):[Promise.resolve([])]};t.createNetworksMappings=function(e,t,n){return new Promise(function(o,d){var f=(0,i.getTransformationMappingItemsByDestinationType)(l.TRANSFORMATION_MAPPING_ITEM_DESTINATION_TYPES[t].cluster,e).map(function(e){return e.destination_id}),p=(0,i.getTransformationMappingItemsBySourceType)(l.TRANSFORMATION_MAPPING_ITEM_SOURCE_TYPES.cluster,e).map(function(e){return e.source_id}),_=(0,i.getTransformationMappingItemsByDestinationType)(l.TRANSFORMATION_MAPPING_ITEM_DESTINATION_TYPES[t].network,e).map(function(e){return e.destination_id});Promise.all([Promise.all(E(f,t)),Promise.all(function(e){return e.map(function(e){return new Promise(function(t,n){s.default.get(T(e,"source")).then(function(n){t(n.data.lans.map(function(t){return a({},t,{sourceClusterId:e,clusterId:e,providerName:n.data.ext_management_system.name})}))}).catch(function(e){return n(e)})})})}(p)),Promise.all(S(n,t))]).then(function(n){var s=[],d=r(n,3),f=d[0],p=d[1],h=d[2],y=p.reduce(function(e,t){return[].concat(m(e),m(t))},[]),T=h.reduce(function(e,t){return[].concat(m(e),m(t))},[]);f.forEach(function(n){var r=n[u.NETWORK_ATTRIBUTES[t]],o=function(e,t){return e.filter(function(e){return t.some(function(t){return t===e.id})})}((0,c.combineNetworks)(r,T),_).map(function(t){return a({},g(t),{nodes:function(e,t,n){var r=(0,i.getTransformationMappingItemsBySourceType)(l.TRANSFORMATION_MAPPING_ITEM_SOURCE_TYPES.network,n);return t.filter(function(t){return r.some(function(n){return n.destination_id===e.id&&n.source_id===t.id})})}(t,y,e).map(function(e){return v(e,{id:e.sourceClusterId})})})});s.push(a({},n,{text:n.name,selectable:!1,state:{expanded:!0},nodes:o}))}),o(s)}).catch(function(e){return d(e)})})}},787:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=c(n(1988)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1985)),s=n(255),l=n(785),u=c(n(1984));function c(e){return e&&e.__esModule?e:{default:e}}t.reducers={mappingWizardNetworksStep:u.default};var d=r({},i,{showAlertAction:s.showAlertAction});t.default=(0,a.connect)(function(e,t){var n=e.mappingWizardNetworksStep,a=e.form,o=e.mappingWizardGeneralStep.editingMapping;return r({},n,t.data,{editingMapping:o,clusterMappings:a.mappingWizardClustersStep.values.clusterMappings,groupedSourceNetworks:(0,l.uniqueNetworks)(n.sourceNetworks),groupedTargetNetworks:(0,l.uniqueNetworks)((0,l.combineNetworks)(n.targetNetworks,n.publicCloudNetworks)),targetProvider:a.mappingWizardGeneralStep.values.targetProvider,mappingWizardNetworksStepForm:a.mappingWizardNetworksStep,initialValues:{networksMappings:[]}})},d,function(e,t,n){return r(e,n.data,t)})(o.default)},788:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDatastoresMappings=t.updateMappings=t.removeSourceDatastore=t.errorMessage=t.sourceDatastoreWithTreeviewAttrs=t.targetDatastoreWithTreeviewAttrs=t.targetDatastoreTreeViewInfo=t.targetDatastoreInfo=t.sourceDatastoreInfo=t.targetDatastoreAvailableSpace=t.totalUsedSpace=t.datastoreUsedSpace=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=u(n(62)),o=n(200),i=u(n(52)),s=n(41),l=n(320);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var f=t.datastoreUsedSpace=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.total_space-e.free_space},p=t.totalUsedSpace=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){return e+f(t)},0)},m=(t.targetDatastoreAvailableSpace=function(e,t){var n=t.reduce(function(e,t){return e.concat(t.nodes)},[]),r=n.find(function(t){return t.id===e.id});return n.length>0&&r?e.free_space-p(r.nodes):e.free_space},t.sourceDatastoreInfo=function(e){return sprintf(__("%s \\ %s \\ %s"),e.providerName,e.datacenterName,e.name)},t.targetDatastoreInfo=function(e){return sprintf(__("%s \\ %s"),e.providerName,e.name)},t.targetDatastoreTreeViewInfo=function(e){return e.name}),_=t.targetDatastoreWithTreeviewAttrs=function(e){return r({},e,{text:m(e),selectable:!0,selected:!1,state:{expanded:!0}})},g=t.sourceDatastoreWithTreeviewAttrs=function(e){return r({},e,{text:e.name,icon:"fa fa-file-o",selectable:!0,selected:!1})},v=(t.errorMessage=__("The size of the selected source datastores exceeds the available space in the target datastore"),function(e,t){var n=e.nodes,a=d(e,["nodes"]),o=n.filter(function(e){return e.id!==t.id});return 0===o.length?void 0:r({},a,{nodes:o})});t.removeSourceDatastore=v;t.updateMappings=function(e,t){var n=t.nodes,a=e.nodes,o=d(e,["nodes"]),i=n?a.filter(function(e){return e.id!==t.id}):a.map(function(e){return v(e,t)}).filter(function(e){return void 0!==e});return 0===i.length?void 0:r({},o,{nodes:i})};var h=function(e,t){var n=new a.default(l.FETCH_STORAGE_URLS[t]+"/"+e);return n.addSearch({attributes:l.QUERY_ATTRIBUTES[t]}),n.toString()};t.createDatastoresMappings=function(e,t){return new Promise(function(n,a){var u=(0,o.getTransformationMappingItemsByDestinationType)(s.TRANSFORMATION_MAPPING_ITEM_DESTINATION_TYPES[t].cluster,e).map(function(e){return e.destination_id}),d=(0,o.getTransformationMappingItemsBySourceType)(s.TRANSFORMATION_MAPPING_ITEM_SOURCE_TYPES.cluster,e).map(function(e){return e.source_id}),f=(0,o.getTransformationMappingItemsByDestinationType)(s.TRANSFORMATION_MAPPING_ITEM_DESTINATION_TYPES[t].datastore,e).map(function(e){return e.destination_id});Promise.all([].concat(c(function(e,t){return e.map(function(e){return new Promise(function(n,r){i.default.get(h(e,t)).then(function(e){n(e.data)}).catch(function(e){return r(e)})})})}(u,t)),c(function(e){return e.map(function(e){return new Promise(function(t,n){i.default.get(h(e,"source")).then(function(n){t(n.data.storages.map(function(t){return r({},t,{sourceClusterId:e})}))}).catch(function(e){return n(e)})})})}(d)))).then(function(a){var i=[],u=a.filter(function(e){return!e.length}),d=a.reduce(function(e,t){return t.length?[].concat(c(e),c(t)):e},[]);u.forEach(function(n){var a=function(e,t){return e.filter(function(e){return t.some(function(t){return t===e.id})})}(n[l.STORAGE_ATTRIBUTES[t]],f).map(function(t){return r({},_(t),{nodes:function(e,t,n){var r=(0,o.getTransformationMappingItemsBySourceType)(s.TRANSFORMATION_MAPPING_ITEM_SOURCE_TYPES.datastore,n);return t.filter(function(t){return r.some(function(n){return n.destination_id===e.id&&n.source_id===t.id})})}(t,d,e).map(function(e){return g(e)})})});i.push(r({},n,{text:n.name,selectable:!1,state:{expanded:!0},nodes:a}))}),n(i)}).catch(function(e){return a(e)})})}},789:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(1)),o=s(n(7)),i=n(6);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.mappings,n=e.selectNode,a=e.removeNode,s=e.removeAll,l=e.selectedNode,u=e.loading;return r.default.createElement("div",{className:"treeview-container"},r.default.createElement("div",{className:(0,o.default)("treeview-container--body",{loading:u})},r.default.createElement(i.Spinner,{loading:u},t.length>0?r.default.createElement(i.TreeView,{nodes:t,selectNode:n,highlightOnSelect:!0,highlightOnHover:!0}):r.default.createElement("div",{className:"treeview__is-empty"},r.default.createElement("h3",null,__("No mappings have been added yet"))))),r.default.createElement("div",{className:"treeview-container--buttons"},r.default.createElement(i.Button,{disabled:0===t.length||!l,onClick:a},__("Remove Selected"))," ",r.default.createElement(i.Button,{disabled:0===t.length,onClick:s},__("Remove All"))))};l.propTypes={mappings:a.default.array,selectNode:a.default.func,removeNode:a.default.func,removeAll:a.default.func,selectedNode:a.default.object,loading:a.default.bool},t.default=l},790:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=u(n(1993)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1990)),s=n(255),l=u(n(1989));function u(e){return e&&e.__esModule?e:{default:e}}t.reducers={mappingWizardDatastoresStep:l.default};var c=r({},i,{showAlertAction:s.showAlertAction,hideAlertAction:s.hideAlertAction});t.default=(0,a.connect)(function(e,t){var n=e.mappingWizardDatastoresStep,a=e.mappingWizardGeneralStep.editingMapping,o=e.form,i=o.mappingWizardClustersStep.values,s=o.mappingWizardGeneralStep.values,l=o.mappingWizardDatastoresStep;return r({},n,t.data,{editingMapping:a,mappingWizardDatastoresStepForm:l,clusterMappings:i.clusterMappings,targetProvider:s.targetProvider,initialValues:{datastoresMappings:[]}})},c,function(e,t,n){return r(e,n.data,t)})(o.default)},791:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conversionHostsFilter=t.sourceClustersFilter=void 0;var r=n(88);t.sourceClustersFilter=function(e,t){var n=t.reduce(function(e,t){return e.concat(t.nodes)},[]);return e.filter(function(e){return!n.some(function(t){return t.id===e.id})})},t.conversionHostsFilter=function(e,t){return e.filter(function(e){return e.resource&&e.resource.type===r.CONVERSION_HOST_TYPES[t]})}},792:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.providerHasSshKeyPair=t.createClusterMappings=t.createNewMapping=t.updateMapping=t.sourceClusterWithExtendedData=t.targetClusterWithExtendedData=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(200);function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=t.targetClusterWithExtendedData=function(e){return r({},e,{text:e.name,state:{expanded:!0},selectable:!0,selected:!1})},s=t.sourceClusterWithExtendedData=function(e){return r({},e,{text:e.name,icon:"fa fa-file-o"})};t.updateMapping=function(e,t,n){var a=e.nodes,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["nodes"]);return i.id===t.id?r({},i,{nodes:[].concat(o(a),o(n.map(function(e){return s(e)})))}):e};var l=t.createNewMapping=function(e,t){return r({},i(e),{nodes:t.map(function(e){return s(e)})})};t.createClusterMappings=function(e,t,n){var r=(0,a.groupClusterTransformationItemsByDestinationId)(e);return t.length&&n.length?Object.keys(r).map(function(e){var a=t&&t.find(function(t){return t.id===e}),o=n&&n.filter(function(t){return r[e].some(function(e){return e===t.id})});return l(a,o)}):[]},t.providerHasSshKeyPair=function(e,t){var n=t.find(function(t){return t.id===e.ems_id});return n.authentications&&n.authentications.some(function(e){return"ssh_keypair"===e.authtype})}},793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=p(n(1999)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1995)),s=n(798),l=n(792),u=n(200),c=n(41),d=n(791),f=p(n(1994));function p(e){return e&&e.__esModule?e:{default:e}}t.reducers={mappingWizardClustersStep:f.default};t.default=(0,a.connect)(function(e,t){var n=e.mappingWizardClustersStep,a=e.mappingWizardGeneralStep,o=a.editingMapping,i=a.conversionHosts,s=e.form,f=e.targetResources,p=f.isFetchingTargetClusters,m=f.isRejectedTargetClusters,_=f.targetClusters;return r({},n,t.data,{isFetchingTargetClusters:p,isRejectedTargetClusters:m,targetClusters:_,targetProvider:s.mappingWizardGeneralStep.values.targetProvider,rhvConversionHosts:(0,d.conversionHostsFilter)(i,c.RHV),ospConversionHosts:(0,d.conversionHostsFilter)(i,c.OPENSTACK),initialValues:{clusterMappings:o?(0,l.createClusterMappings)((0,u.getTransformationMappingItemsBySourceType)(c.TRANSFORMATION_MAPPING_ITEM_SOURCE_TYPES.cluster,o),_,n.sourceClusters):[]},enableReinitialize:!0,keepDirtyOnReinitialize:!0})},r({},i,{fetchTargetClustersAction:s.fetchTargetClustersAction}),function(e,t,n){return r(e,n.data,t)})(o.default)},794:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=u(n(2003)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2001)),s=n(255),l=u(n(2e3));function u(e){return e&&e.__esModule?e:{default:e}}t.reducers={mappingWizardGeneralStep:l.default};var c=r({showAlertAction:s.showAlertAction,hideAlertAction:s.hideAlertAction},i);t.default=(0,a.connect)(function(e){var t=e.mappingWizardGeneralStep,n=t.editingMapping,r=t.conversionHosts,a=e.overview.transformationMappings,o=e.form.mappingWizardGeneralStep;return{editingMapping:n,conversionHosts:r,transformationMappings:a,targetProvider:o&&o.values&&o.values.targetProvider}},c)(o.default)},795:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=u(n(2008)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(255)),s=n(2005),l=u(n(2004));function u(e){return e&&e.__esModule?e:{default:e}}t.reducers={mappingWizard:l.default};t.default=(0,a.connect)(function(e,t){var n=e.mappings.hideMappingWizard,a=e.mappingWizard,o=e.form,i=e.mappingWizardGeneralStep.editingMapping,l=(0,s.mappingWizardFormFilter)(o);return r({},a,l,t.data,{hideMappingWizard:n,editingMapping:i})},i,function(e,t,n){return r(e,n.data,t)})(o.default)},796:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.componentSettings=t.coreComponents=void 0;var r=P(n(795)),a=P(n(794)),o=P(n(793)),i=P(n(790)),s=P(n(787)),l=P(n(784)),u=P(n(783)),c=P(n(768)),d=P(n(766)),f=P(n(765)),p=P(n(764)),m=P(n(540)),_=P(n(485)),g=P(n(480)),v=P(n(479)),h=P(n(461)),y=P(n(1898)),T=P(n(1897)),E=P(n(1896)),S=P(n(1895));function P(e){return e&&e.__esModule?e:{default:e}}var b=t.coreComponents=[{name:"MappingWizardContainer",type:r.default,store:!0},{name:"MappingWizardGeneralStepContainer",type:a.default,store:!0},{name:"MappingWizardClustersStepContainer",type:o.default,store:!0},{name:"MappingWizardDatastoresStepContainer",type:i.default,store:!0},{name:"MappingWizardNetworksStepContainer",type:s.default,store:!0},{name:"MappingWizardResultsStepContainer",type:l.default},{name:"PlanWizardVMStepContainer",type:u.default},{name:"PlanWizardResultsStepContainer",type:c.default},{name:"PlanWizardContainer",type:d.default,data:{url:"/api/migrationPlans"},store:!0},{name:"PlanWizardInstancePropertiesStepContainer",type:p.default,store:!0},{name:"PlanWizardAdvancedOptionsStepContainer",type:f.default,store:!0},{name:"OverviewContainer",type:m.default,store:!0},{name:"SettingsContainer",type:_.default,store:!0},{name:"PlanContainer",type:g.default,store:!0},{name:"MappingsContainer",type:v.default,store:!0},{name:"NotificationList",type:h.default,data:!0,store:!0},{name:"RelativeDateTime",type:E.default,data:!0,store:!1},{name:"LongDateTime",type:T.default,data:!0,store:!1},{name:"ShortDateTime",type:S.default,data:!0,store:!1},{name:"IsoDate",type:y.default,data:!0,store:!1}];t.componentSettings=function(e){return b.find(function(t){return t.type===e})}},797:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.http;t.default={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.get(e,{transformResponse:function(e){return{data:e}},headers:t,params:n})},post:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.post(e,t,{headers:n,transformResponse:function(e){return{data:e}}})}}},798:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTargetClustersAction=void 0;var r=i(n(62)),a=i(n(52)),o=n(322);function i(e){return e&&e.__esModule?e:{default:e}}t.fetchTargetClustersAction=function(e){return function(e){return function(t){return t({type:o.FETCH_V2V_TARGET_CLUSTERS,payload:a.default.get(e)})}}(new r.default(e).toString())}},800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(0)),o=c(n(1)),i=n(37),s=n(97),l=c(n(2051)),u=n(203);function c(e){return e&&e.__esModule?e:{default:e}}var d=(0,s.required)({msg:__("This field is required")}),f=function(e){return d(e.body)},p=function(e){return a.default.createElement(i.Field,r({component:u.FormField,required:!0,validate:[f]},e),function(e){var t=e.input,n=t.value,r=t.onChange,o=t.onBlur;return a.default.createElement(l.default,{help:__("Upload your SSH key file or paste its contents below."),value:n,onChange:r,onBlur:o})})};p.propTypes={name:o.default.string.isRequired,label:o.default.string.isRequired,controlId:o.default.string.isRequired},t.default=p},801:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.V2V_FETCH_SERVERS="V2V_FETCH_SERVERS",t.V2V_FETCH_SETTINGS="V2V_FETCH_SETTINGS",t.V2V_PATCH_SETTINGS="V2V_PATCH_SETTINGS",t.FETCH_V2V_CONVERSION_HOSTS="FETCH_V2V_CONVERSION_HOSTS",t.FETCH_V2V_CONVERSION_HOST_TASKS="FETCH_V2V_CONVERSION_HOST_TASKS",t.SHOW_V2V_CONVERSION_HOST_WIZARD="SHOW_V2V_CONVERSION_HOST_WIZARD",t.HIDE_V2V_CONVERSION_HOST_WIZARD="HIDE_V2V_CONVERSION_HOST_WIZARD",t.V2V_CONVERSION_HOST_WIZARD_EXITED="V2V_CONVERSION_HOST_WIZARD_EXITED",t.POST_V2V_CONVERSION_HOSTS="POST_V2V_CONVERSION_HOSTS",t.SET_V2V_CONVERSION_HOST_TO_DELETE="SET_V2V_CONVERSION_HOST_TO_DELETE",t.SHOW_V2V_CONVERSION_HOST_DELETE_MODAL="SHOW_V2V_CONVERSION_HOST_DELETE_MODAL",t.HIDE_V2V_CONVERSION_HOST_DELETE_MODAL="HIDE_V2V_CONVERSION_HOST_DELETE_MODAL",t.DELETE_V2V_CONVERSION_HOST="DELETE_V2V_CONVERSION_HOST",t.SET_V2V_CONVERSION_HOST_TASK_TO_RETRY="SET_V2V_CONVERSION_HOST_TASK_TO_RETRY",t.SHOW_V2V_CONVERSION_HOST_RETRY_MODAL="SHOW_V2V_CONVERSION_HOST_RETRY_MODAL",t.HIDE_V2V_CONVERSION_HOST_RETRY_MODAL="HIDE_V2V_CONVERSION_HOST_RETRY_MODAL",t.V2V_CONVERSION_HOST_RETRY_MODAL_EXITED="V2V_CONVERSION_HOST_RETRY_MODAL_EXITED"},802:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachTargetProviderToOspPlans=t.combineRequestsProcessingCancellation=t.requestsProcessingCancellationFilter=t.finishedWithErrorTransformationPlansFilter=t.finishedTransformationPlansFilter=t.activeTransformationPlansFilter=t.notStartedTransformationPlansFilter=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(173)),a=n(898),o=n(55),i=n(352),s=n(41),l=n(803);function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.notStartedTransformationPlansFilter=function(e){return e.filter(function(e){return 0===e.miq_requests.length})},t.activeTransformationPlansFilter=function(e,t){return e.filter(function(e){if(e.id===t)return!0;if(e.miq_requests.length>0){var n=(0,r.default)(e.miq_requests);return"active"===n.request_state||"pending"===n.request_state||"denied"===n.approval_state&&!n.options.denial_acknowledged}return!1})},t.finishedTransformationPlansFilter=function(e){return e.filter(function(e){if(e.miq_requests.length>0){var t=(0,r.default)(e.miq_requests);return"finished"===t.request_state&&"denied"!==t.approval_state||"failed"===t.request_state||"denied"===t.approval_state&&t.options.denial_acknowledged}return!1})},t.finishedWithErrorTransformationPlansFilter=function(e){return e.filter(function(e){if(e.miq_requests.length>0){var t=(0,r.default)(e.miq_requests);return"finished"===t.request_state&&"Error"===t.status||"denied"===t.approval_state}return!1})},t.requestsProcessingCancellationFilter=function(e){return e.reduce(function(e,t){if(t.miq_requests.length){var n=(0,r.default)(t.miq_requests);if(n.cancelation_status)return[].concat(u(e),[(0,a.urlBuilder)(o.TRANSFORMATION_PLAN_REQUESTS_URL,n.id)])}return e},[])},t.combineRequestsProcessingCancellation=function(e,t){return[].concat(u(new Set([].concat(u(e),u(t)))))},t.attachTargetProviderToOspPlans=function(e,t,n){return e.map(function(e){return e.transformation_mapping&&(0,i.getMappingType)(e.transformation_mapping.transformation_mapping_items)===s.OPENSTACK?(0,l.attachTargetProvider)(e,t,n,s.OPENSTACK):e})}},803:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attachTargetProvider=t.planTransmutation=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){return e&&e.__esModule?e:{default:e}}(n(173)),o=n(41);t.planTransmutation=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.map(function(e){var t=(0,a.default)(e.miq_requests);return r({},e,{infraMappingName:e.transformation_mapping&&e.transformation_mapping.name,status:t?t.status:null,configVmLength:e.options.config_info.actions.length,scheduleTime:e.schedules?new Date(e.schedules[0].run_at.start_time).getTime():null})})},t.attachTargetProvider=function(e,t,n,a){if(!e.transformation_mapping)return e;var i=e.transformation_mapping.transformation_mapping_items.find(function(e){return e.destination_type===o.TRANSFORMATION_MAPPING_ITEM_DESTINATION_TYPES[a].cluster}),s=n.find(function(e){return e.id===i.destination_id});if(void 0===s)return e;var l=t.find(function(e){return e.id===s.ems_id});return r({},e,{targetProvider:l})}},804:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mappingsSchema=void 0;var r=n(101);t.mappingsSchema=(0,r.array)().of((0,r.object)().shape({href:(0,r.string)().required(),id:(0,r.string)().required(),name:(0,r.string)().required(),created_at:(0,r.string)().required(),service_templates:(0,r.array)().of((0,r.object)().shape({id:(0,r.string)().required(),name:(0,r.string)().required()})).nullable(),transformation_mapping_items:(0,r.array)().of((0,r.object)().shape({id:(0,r.string)().required(),source_id:(0,r.string)().required(),source_type:(0,r.string)().required(),destination_id:(0,r.string)().required(),destination_type:(0,r.string)().required(),transformation_mapping_id:(0,r.string)().required()})).required()})).nullable()},805:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.V2V_POST_EDIT_PLAN_NAME="V2V_POST_EDIT_PLAN_NAME"},809:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});t.asyncValidate=function(e,t,n){return new Promise(function(t,a){var o=e.name,i=n.transformationPlans,s=n.archivedTransformationPlans,l=n.editingPlan,u=i.reduce(function(e,t){return[].concat(r(e),[t.name.trim()])},[]),c=s.reduce(function(e,t){return[].concat(r(e),[t.name.trim()])},[]),d=[].concat(r(u),r(c)).find(function(e){return e===o.trim()}),f=l&&d===l.name;d&&!f?(n.showAlertAction&&n.showAlertAction(sprintf(__("Name %s already exists"),o)),a({name:__("Plan name already exists. Enter a unique name.")})):t()})},t.onChange=function(e,t,n){n.valid&&n.hideAlertAction&&"error"===n.alertType&&n.hideAlertAction()}},845:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(26),o=u(n(2254)),i=n(135),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2072)),l=u(n(2071));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.reducers={editPlanName:l.default};t.default=(0,a.connect)(function(e){var t=e.editPlanName,n=e.overview,a=e.form,o=[].concat(c(n.transformationPlans),c(n.archivedTransformationPlans)),s=(0,i.findEditingPlan)(o,n.editingPlanId);return r({},t,{editPlanNameModal:a&&a.editPlanNameModal,initialValues:{name:s?s.name:"",description:s?s.description:""},enableReinitialize:!0,editingPlan:s})},s)(o.default)},846:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(0)),o=s(n(1)),i=n(6);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.icon,n=e.title,o=e.body,s=e.cancelButtonLabel,l=e.confirmButtonLabel,u=e.onCancel,c=e.onConfirm,d=e.disableCancelButton,f=e.disableConfirmButton,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["icon","title","body","cancelButtonLabel","confirmButtonLabel","onCancel","onConfirm","disableCancelButton","disableConfirmButton"]);return a.default.createElement(i.Modal,r({},p,{onHide:u,backdrop:"static"}),a.default.createElement(i.Modal.Header,null,a.default.createElement(i.Modal.CloseButton,{onClick:u}),a.default.createElement(i.Modal.Title,null,n)),a.default.createElement(i.Modal.Body,null,t?a.default.createElement(i.Grid.Row,{className:"show-grid"},a.default.createElement(i.Grid.Col,{xsHidden:!0,md:2,className:"text-right"},t),a.default.createElement(i.Grid.Col,{xs:12,md:10},o)):o),a.default.createElement(i.Modal.Footer,null,s&&a.default.createElement(i.Button,{bsStyle:"default",className:"btn-cancel",onClick:u,disabled:d},s),a.default.createElement(i.Button,{bsStyle:"primary",onClick:c,disabled:f},l)))};l.propTypes={show:o.default.bool,title:o.default.string,icon:o.default.node,body:o.default.node,cancelButtonLabel:o.default.string,confirmButtonLabel:o.default.string,onCancel:o.default.func,onConfirm:o.default.func,disableCancelButton:o.default.bool,disableConfirmButton:o.default.bool},l.defaultProps={show:!1,title:__("Confirm"),icon:null,body:a.default.createElement("p",null,__("Are you sure?")),cancelButtonLabel:__("Cancel"),confirmButtonLabel:__("Yes"),onCancel:i.noop,onConfirm:i.noop},t.default=l},847:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(0)),o=s(n(1)),i=n(6);function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.showConfirmModalAction,n=e.hideConfirmModalAction,o=e.deleteTransformationPlanAction,s=e.addNotificationAction,l=e.fetchTransformationPlansAction,u=e.deleteTransformationPlanUrl,c=e.fetchTransformationPlansUrl,d=e.fetchArchivedTransformationPlansUrl,f=e.planId,p=e.planName,m=e.archived,_=e.fetchTransformationMappingsAction,g=e.fetchTransformationMappingsUrl,v={title:__("Delete Migration Plan"),body:a.default.createElement("p",null,__("Are you sure you want to delete the migration plan "),a.default.createElement("strong",null,p),"?"),confirmButtonLabel:__("Delete")},h=function(){t(r({},v,{disableCancelButton:!0,disableConfirmButton:!0})),o(u,f).then(function(){return s({message:sprintf(__("%s successfully deleted"),p),notificationType:"success"}),l({url:m?d:c,archived:m})}).then(function(){return _(g)}).then(function(){n()})};return a.default.createElement(i.MenuItem,{onClick:function(e){e.stopPropagation(),t(r({},v,{onConfirm:h}))}},__("Delete plan"))};l.propTypes={showConfirmModalAction:o.default.func,hideConfirmModalAction:o.default.func,deleteTransformationPlanAction:o.default.func,addNotificationAction:o.default.func,fetchTransformationPlansAction:o.default.func,deleteTransformationPlanUrl:o.default.string,fetchTransformationPlansUrl:o.default.string,fetchArchivedTransformationPlansUrl:o.default.string,planId:o.default.string,planName:o.default.string,archived:o.default.bool,fetchTransformationMappingsAction:o.default.func,fetchTransformationMappingsUrl:o.default.string},l.defaultProps={archived:!1},t.default=l},848:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(1)),i=n(6),s=n(205);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.showConfirmModalAction,n=e.hideConfirmModalAction,o=e.loading,l=e.toggleScheduleMigrationModal,u=e.scheduleMigration,c=e.fetchTransformationPlansAction,d=e.fetchTransformationPlansUrl,f=e.plan,p=e.isMissingMapping,m=e.migrationScheduled,_=e.migrationStarting,g=e.showInitialScheduleButton,v=a.default.createElement(a.default.Fragment,null,a.default.createElement("p",null,sprintf(__("Are you sure you want to unschedule plan %s  targeted to run on %s ?"),f.name,(0,s.formatDateTime)(m)))),h={title:__("Unschedule Migration Plan"),body:v,icon:a.default.createElement(i.Icon,{className:"confirm-warning-icon",type:"pf",name:"warning-triangle-o"}),confirmButtonLabel:__("Unschedule")},y=function(){u({plan:f}).then(function(){c({url:d,archived:!1})}),n()},T=p||o===f.href||_;return a.default.createElement(a.default.Fragment,null,g&&a.default.createElement(i.Button,{id:"schedule_"+f.id,onClick:function(e){e.stopPropagation(),l({plan:f})},disabled:p||o===f.href||f.schedule_type},__("Schedule")),!g&&a.default.createElement(a.default.Fragment,null,a.default.createElement(i.MenuItem,{id:"edit_schedule_"+f.id,onClick:function(e){e.stopPropagation(),T||l({plan:f})},disabled:T},__("Edit schedule")),a.default.createElement(i.MenuItem,{id:"unschedule_"+f.id,onClick:function(e){e.stopPropagation(),T||t(r({},h,{onConfirm:y}))},disabled:T},__("Delete schedule"))))};u.propTypes={showConfirmModalAction:o.default.func,hideConfirmModalAction:o.default.func,loading:o.default.string,toggleScheduleMigrationModal:o.default.func,scheduleMigration:o.default.func,fetchTransformationPlansAction:o.default.func,fetchTransformationPlansUrl:o.default.string,plan:o.default.object,isMissingMapping:o.default.bool,migrationScheduled:o.default.oneOfType([o.default.string,o.default.number]),migrationStarting:o.default.bool,showInitialScheduleButton:o.default.bool},t.default=u},849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MIGRATIONS_NOT_STARTED_SORT_FIELDS=[{id:"name",title:__("Name"),isNumeric:!1},{id:"infraMappingName",title:__("Infrastructure Mapping"),isNumeric:!1},{id:"configVmLength",title:__("Number of VMs"),isNumeric:!0},{id:"scheduleTime",title:__("Scheduled Time"),isNumeric:!0}],t.MIGRATIONS_COMPLETED_SORT_FIELDS=[{id:"name",title:__("Name"),isNumeric:!1},{id:"status",title:__("Status"),isNumeric:!1}],t.MIGRATIONS_ARCHIVED_SORT_FIELDS=[{id:"name",title:__("Name"),isNumeric:!1}],t.MIGRATIONS_FILTER_TYPES=[{id:"name",title:__("Name"),placeholder:__("Filter by Name"),filterType:"text"},{id:"description",title:__("Description"),placeholder:__("Filter by Description"),filterType:"text"},{id:"infraMappingName",title:__("Infrastructure Mapping"),placeholder:__("Filter by Mapping"),filterType:"text"}]},850:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(0)),o=u(n(1)),i=n(6),s=u(n(2259)),l=u(n(504));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={dateTimeInput:""},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.toggleScheduleMigrationModal,r=t.scheduleMigrationModal,o=t.scheduleMigrationPlan,u=t.scheduleMigration,c=t.fetchTransformationPlansAction,d=t.fetchTransformationPlansUrl,f=(0,l.default)(o).migrationScheduled,p=function(t){e.setState({dateTimeInput:t})},m=function(){n(),p()};return a.default.createElement(i.Modal,{show:r,onHide:m,backdrop:"static"},a.default.createElement(i.Modal.Header,null,a.default.createElement(i.Modal.CloseButton,{onClick:m}),a.default.createElement(i.Modal.Title,null,__("Schedule Migration Plan"))),a.default.createElement(i.Modal.Body,null,a.default.createElement(s.default,{handleChange:p,defaultDate:f||""})),a.default.createElement(i.Modal.Footer,null,a.default.createElement(i.Button,{bsStyle:"default",className:"btn-cancel",onClick:m},__("Cancel")),a.default.createElement(i.Button,{bsStyle:"primary",disabled:!this.state.dateTimeInput,onClick:function(){u({plan:o,scheduleTime:e.state.dateTimeInput}).then(function(){c({url:d,archived:!1})}),p()}},__("Schedule"))))}}]),t}();d.propTypes={scheduleMigrationModal:o.default.bool,toggleScheduleMigrationModal:o.default.func,scheduleMigrationPlan:o.default.object,scheduleMigration:o.default.func,fetchTransformationPlansAction:o.default.func,fetchTransformationPlansUrl:o.default.string},t.default=d},88:function(e,t,n){"use strict";var r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=t.MAX_LENGTH_NAMES=24,i=t.MAX_LENGTH_DESCRIPTIONS=128,s=__("Maximum length is %s characters."),l=__("Required. Maximum length is %s characters."),u=__("You have reached the maximum length of %s characters."),c=(t.validation={name:{help:sprintf(s,o),requiredMessage:sprintf(l,o),maxLength:o,maxLengthWarning:sprintf(u,o)},description:{help:sprintf(s,i),maxLength:i,maxLengthWarning:sprintf(u,i)}},t.OPENSTACK="openstack"),d=t.RHV="rhevm";t.V2V_TARGET_PROVIDERS=[{name:__("Red Hat Virtualization"),id:d,type:"ManageIQ::Providers::Redhat::InfraManager"},{name:__("Red Hat OpenStack Platform"),id:c,type:"ManageIQ::Providers::Openstack::CloudManager"}],t.CONVERSION_HOST_TYPES=(a(r={},d,"ManageIQ::Providers::Redhat::InfraManager::Host"),a(r,c,"ManageIQ::Providers::Openstack::CloudManager::Vm"),r)},897:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INFRA_MAPPINGS_FILTER_TYPES=[{id:"name",title:__("Name"),placeholder:__("Filter by Name"),filterType:"text"},{id:"description",title:__("Description"),placeholder:__("Filter by Description"),filterType:"text"}],t.INFRA_MAPPINGS_SORT_FIELDS=[{id:"name",title:__("Name"),isNumeric:!1},{id:"associatedPlansCount",title:__("Number of Associated Plans"),isNumeric:!0}],t.MAPPING_TYPE_RESOURCE_MAP={openstack:{networks:{source:"Lan",target:"CloudNetwork"}},rhevm:{networks:{source:"Lan",target:"Lan"}}}},898:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.urlBuilder=function(e,t){return e+"/"+t}},899:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var a={getMostRecentEntityByCreationDate:function(e){return e&&e.reduce(function(e,t){return e.created_on>t.created_on?e:t})},groupBy:function(e,t){return e&&e.reduce(function(e,n){return r({},e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n[t],[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e[n[t]]||[]),[n])))},{})},flatten:function(e,t){return e&&e.map(function(e){return e.map(function(e){return t.push(e)})})}};t.default=a},96:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.stepIDs={locationStep:"conversionHostWizardLocationStep",hostsStep:"conversionHostWizardHostsStep",authenticationStep:"conversionHostWizardAuthenticationStep",resultsStep:"conversionHostWizardResultsStep"},t.VDDK="VDDK",t.SSH="SSH"}},[[2585,0,1]]]);
//# sourceMappingURL=migration-52d67b2c7cd1f02b6382.js.map